"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[227],{48227:(zn,z,r)=>{r.r(z),r.d(z,{GeneralModule:()=>Kn});var d=r(44755),ie=r(74473),oe=r(8551),e=r(22223),p=r(51728),w=r(430),q=r(31531),se=r(61717),le=r(983),h=r(77579),A=r(78372),a=r(82722),_=r(28746),G=r(25580),j=r(12017),u=r(82004),F=r(96119),H=r(58177),c=r(30430),B=r(11737),x=r(71683),Y=r(32202),$=r(47148),T=r(90504);function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickScanCard())}),e._UZ(2,"mat-icon",19)(3,"label",20),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.isLoading)}}function ae(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.blockCard())}),e._UZ(1,"label",25),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("disabled",t.isLoading)}}function ce(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.unBlockCard())}),e._UZ(1,"label",27),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("disabled",t.isLoading)}}function de(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,ae,2,1,"button",22),e.YNc(2,ce,2,1,"button",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","BLOCKED"!=t.card.usedStatusId),e.xp6(1),e.Q6J("ngIf","BLOCKED"==t.card.usedStatusId)}}function ue(i,s){1&i&&e._UZ(0,"div")}function pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePopup())}),e._UZ(1,"label",29),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading)}}function _e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())}),e._UZ(1,"label",30),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading)}}function me(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSave())}),e._UZ(1,"label",32),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading)}}let E=(()=>{class i extends j.Y{constructor(t,n,o,l,g,Q,I){super(o,g,n),this._cardService=t,this._dialogRef=n,this._translocoService=o,this._serialPortService=l,this.fuseConfirmationService=g,this._notification=Q,this._unsubscribeAll=new h.x,this._debounce=new h.x,this.isLoading=!1,this.action="new",this.cardTypes=[],this.createReq={cardCode:null,cardTypeId:null,cardName:null},this.updateReq={cardId:null,cardCode:null,cardTypeId:null,cardName:null},this.card={cardId:null,cardCode:null,cardName:null},I.card&&(this.card=I.card),I.actionEnum&&(this.action=I.actionEnum)}ngOnInit(){this.getCardTypes(),this._debounce.pipe((0,A.b)(400),(0,a.R)(this._unsubscribeAll)).subscribe(()=>{})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getCardTypes(){this._cardService.getCardTypes().pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{t&&(this.cardTypes=t.map(n=>({id:n.id,name:this._translocoService.translate(n.name)})))})}onClose(){(0,u.WD)(this.fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{"confirmed"===t&&this._dialogRef.close()})}onSearch(){this._debounce.next()}onSave(){if("new"===this.action){if(!(0,F.Vs)(this.card.cardCode))return void this._notification.warning(this._translocoService.translate("warning"),this._translocoService.translate("vime.cardCodeOnlyContainsNumber"),{nzDuration:3e3});if((0,F.TF)(this.card.cardCode)||(0,F.TF)(this.card.cardTypeId)||(0,F.TF)(this.card.cardName)||!(0,F.Vs)(this.card.cardCode))return void this._notification.warning(this._translocoService.translate("warning"),this._translocoService.translate("message.mustInputRequired"),{nzDuration:3e3});this.isLoading=!0,this.createReq={cardCode:this.card.cardCode,cardName:this.card.cardName,cardTypeId:this.card.cardTypeId},console.log(this.createReq),this._cardService.create(this.createReq).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{t.success&&((0,u.Hh)(this.fuseConfirmationService,"message.success"),this.closePopup(!0))})}if("edit"===this.action){if((0,F.TF)(this.card.cardName))return void this._notification.warning(this._translocoService.translate("warning"),this._translocoService.translate("message.mustInputRequired"),{nzDuration:3e3});this.isLoading=!0,this.updateReq={cardId:this.card.cardId,cardCode:this.card.cardCode,cardTypeId:this.card.cardTypeId,cardName:this.card.cardName},this._cardService.update(this.updateReq.cardId,this.updateReq).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{t.success&&((0,u.Hh)(this.fuseConfirmationService,"message.success"),this.closePopup(!0))})}}blockCard(){this.isLoading=!0,this._cardService.block(this.card.cardId).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{t.success&&((0,u.Hh)(this.fuseConfirmationService,"message.success"),this.closePopup(!0))})}unBlockCard(){this.isLoading=!0,this._cardService.unblock(this.card.cardId).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{t.success&&((0,u.Hh)(this.fuseConfirmationService,"message.success"),this.closePopup(!0))})}onClickScanCard(){this.isLoading=!0,this._serialPortService.readCard$().pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(t=>{this.card.cardCode=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H.J),e.Y36(G.so),e.Y36(c.Vn),e.Y36(B.A),e.Y36(x.R),e.Y36(Y.zb),e.Y36(G.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["card-popup"]],features:[e.qOj],decls:18,vars:19,consts:[[1,"flex","flex-col","flex-auto","md:w-auto","md:min-w-160","sm:min-w-80","-m-6","max-h-180"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],["transloco","nav.cardInformation",1,"text-lg","font-medium","text-white"],["mat-icon-button","","mat-dialog-close","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"flex-1","flex","flex-col","rounded-md","shadow","p-6","gap-6"],[1,"flex","flex-col","p-6","rounded-md","gap-4","bg-card"],["label","vime.cardCode",1,"w-full",3,"isRequired","actionEnum","model","isDisableLength","modelChange"],["label","vime.cardName",1,"w-full",3,"isRequired","actionEnum","model","isDisableLength","modelChange"],["label","vime.cardType",1,"w-full",3,"isRequired","actionEnum","model","listData","modelChange"],["class","flex justify-center items-center",4,"ngIf"],[1,"flex","justify-between"],["class","flex gap-4",4,"ngIf"],[4,"ngIf"],[1,"flex","gap-4","justify-end"],["mat-flat-button","","class","bg-transparent text-black  hover:bg-slate-200",3,"disabled","click",4,"ngIf"],["mat-flat-button","","class","bg-primary ",3,"disabled","click",4,"ngIf"],[1,"flex","justify-center","items-center"],["mat-flat-button","",1,"bg-primary","text-white","flex","items-center","justify-between",3,"disabled","click"],["svgIcon","heroicons_outline:magnifying-glass"],["transloco","vime.scanCard"],[1,"flex","gap-4"],["mat-flat-button","","class","bg-red-600 text-white ",3,"disabled","click",4,"ngIf"],["mat-flat-button","","class","bg-green-600 text-white ",3,"disabled","click",4,"ngIf"],["mat-flat-button","",1,"bg-red-600","text-white",3,"disabled","click"],["transloco","block"],["mat-flat-button","",1,"bg-green-600","text-white",3,"disabled","click"],["transloco","unBlock"],["mat-flat-button","",1,"bg-transparent","text-black","hover:bg-slate-200",3,"disabled","click"],["transloco","close"],["transloco","system.cancel"],["mat-flat-button","",1,"bg-primary",3,"disabled","click"],["transloco","system.save",1,"text-white"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.closePopup()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"cm-input",7),e.NdJ("modelChange",function(l){return n.card.cardCode=l}),e.qZA(),e.TgZ(8,"cm-input",8),e.NdJ("modelChange",function(l){return n.card.cardName=l}),e.qZA(),e.TgZ(9,"cm-select",9),e.NdJ("modelChange",function(l){return n.card.cardTypeId=l}),e.qZA()(),e.YNc(10,re,4,1,"div",10),e.TgZ(11,"div",11),e.YNc(12,de,3,2,"div",12),e.YNc(13,ue,1,0,"div",13),e.TgZ(14,"div",14),e.YNc(15,pe,2,1,"button",15),e.YNc(16,_e,2,1,"button",15),e.YNc(17,me,2,1,"button",16),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("isRequired","edit"==n.action||"new"==n.action)("actionEnum","view"==n.action||"edit"==n.action?"view":"edit")("model",n.card.cardCode)("isDisableLength",!0),e.xp6(1),e.Q6J("isRequired","edit"==n.action||"new"==n.action)("actionEnum",n.action)("model",n.card.cardName)("isDisableLength",!0),e.xp6(1),e.Q6J("isRequired","edit"==n.action||"new"==n.action)("actionEnum","view"==n.action||"edit"==n.action?"view":"edit")("model",n.card.cardTypeId)("listData",n.cardTypes),e.xp6(1),e.Q6J("ngIf","new"==n.action),e.xp6(2),e.Q6J("ngIf","edit"==n.action),e.xp6(1),e.Q6J("ngIf","view"==n.action||"new"==n.action),e.xp6(2),e.Q6J("ngIf","view"==n.action),e.xp6(1),e.Q6J("ngIf","view"!=n.action),e.xp6(1),e.Q6J("ngIf","view"!=n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,$.f,T.W,d.O5],encapsulation:2}),i})();var y=r(83649),Z=r(58016),N=r(17406);const P=function(i){return{"background-color":i}};function fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",19)(3,"button",20)(4,"mat-icon"),e._uU(5," more_vert "),e.qZA(),e.TgZ(6,"mat-menu",null,21),e.ynx(8),e.TgZ(9,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onViewCard(l))}),e.TgZ(10,"mat-icon"),e._uU(11,"visibility"),e.qZA(),e._uU(12),e.ALo(13,"transloco"),e.qZA(),e.TgZ(14,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onEditCard(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"edit"),e.qZA(),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.BQk(),e.qZA()()()(),e.TgZ(19,"td",23),e._uU(20),e.qZA(),e.TgZ(21,"td",24)(22,"div",25),e._uU(23),e.qZA()(),e.TgZ(24,"td",26)(25,"div",25),e._uU(26),e.qZA()(),e.TgZ(27,"td",27),e._uU(28),e.qZA(),e.TgZ(29,"td")(30,"div",28),e._UZ(31,"div",29),e.TgZ(32,"div"),e._uU(33),e.ALo(34,"transloco"),e.qZA()()(),e.TgZ(35,"td")(36,"div",28),e._UZ(37,"div",29),e.TgZ(38,"div"),e._uU(39),e.ALo(40,"transloco"),e.qZA()()(),e.TgZ(41,"td",30),e._uU(42),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index,o=e.MAs(7);e.oxw();const l=e.MAs(16);let g;e.xp6(3),e.Q6J("matMenuTriggerFor",o),e.xp6(9),e.hij(" ",e.lcZ(13,15,"view")," "),e.xp6(5),e.hij(" ",e.lcZ(18,17,"edit")," "),e.xp6(3),e.Oqu((l.nzPageIndex-1)*l.nzPageSize+n+1),e.xp6(1),e.Q6J("matTooltip",t.cardCode),e.xp6(2),e.hij(" ",t.cardCode," "),e.xp6(1),e.Q6J("matTooltip",t.cardName),e.xp6(2),e.hij(" ",t.cardName," "),e.xp6(2),e.Oqu(t.cardTypeName),e.xp6(3),e.Q6J("ngStyle",e.VKq(23,P,t.usedStatusColor)),e.xp6(2),e.Oqu(e.lcZ(34,19,t.usedStatusName)),e.xp6(4),e.Q6J("ngStyle",e.VKq(25,P,t.syncStatusColor)),e.xp6(2),e.hij(" ",e.lcZ(40,21,t.syncStatusName),""),e.xp6(2),e.Q6J("matTooltip",t.usingUserName),e.xp6(1),e.hij(" ",null!==(g=t.usingUserName)&&void 0!==g?g:"_"," ")}}let ge=(()=>{class i{constructor(t,n,o){this._cardService=t,this._dialog=n,this._translocoService=o,this._unsubscribeAll=new h.x,this._debounce=new h.x,this.isButtonLoading=!1,this.isTableLoading=!1,this.filter={status:"",cardType:"",textSearch:""},this.cardStatuses=[],this.cardTypes=[],this.cards=[]}ngOnInit(){this.getAllCards(),this.getCardStatus(),this.getCardTypes(),this._debounce.pipe((0,A.b)(400),(0,a.R)(this._unsubscribeAll)).subscribe(()=>{this.getAllCards()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getAllCards(){this.isTableLoading=!0,this._cardService.getAll(this.filter).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isTableLoading=!1)).subscribe(({data:t})=>{t&&(this.cards=t)})}getCardStatus(){this._cardService.getCardStatus().pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{t&&(this.cardStatuses=t.map(n=>({id:n.id,name:this._translocoService.translate(n.name)})))})}getCardTypes(){this._cardService.getCardTypes().pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{t&&(this.cardTypes=t.map(n=>({id:n.id,name:this._translocoService.translate(n.name)})))})}addCard(){this.isButtonLoading=!0,this._dialog.open(E,{data:{actionEnum:"new"}}).afterClosed().subscribe(()=>{this.isButtonLoading=!1,this.getAllCards()})}onViewCard(t){this._dialog.open(E,{data:{actionEnum:"view",card:t}})}onEditCard(t){this._dialog.open(E,{data:{actionEnum:"edit",card:t}}).afterClosed().subscribe(()=>{this.getAllCards()})}onSearch(){this._debounce.next()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(H.J),e.Y36(G.uw),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cards"]],decls:43,vars:37,consts:[[1,"flex","flex-col","flex-1","p-12","gap-8","w-full"],[1,"flex","justify-between","items-center","flex-1"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],[1,"flex","justify-end"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],[1,"mr-2",3,"svgIcon"],["transloco","add"],[1,"flex-1","flex","flex-col","rounded-md","shadow","p-6","gap-6","bg-card"],[1,"flex","md:flex-row","gap-4","sm:flex-col"],["label","search",1,"w-full",3,"model","placeholder","isDisableLength","modelChange"],["label","vime.cardType",1,"w-full",3,"model","listData","modelChange"],["label","vime.useStatus",1,"w-full",3,"model","listData","modelChange"],[1,"border-b"],["nzShowSizeChanger","","nzBordered","true",3,"nzData","nzLoading","nzPageSize"],["basicTable",""],["nzWidth","70px"],["nzWidth","200px"],["nzWidth","100px"],[4,"ngFor","ngForOf"],[1,"items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["headerMenu",""],["mat-menu-item","",3,"click"],["nzAlign","center"],[1,"w-50",3,"matTooltip"],[1,"w-50","text-ellipsis","truncate"],[1,"w-50","text-ellipsis","truncate",3,"matTooltip"],[1,"w-24"],[1,"flex","flex-row","space-x-2","items-center"],[1,"w-2","h-2","rounded-full",3,"ngStyle"],[3,"matTooltip"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.addCard()}),e._UZ(7,"mat-icon",5)(8,"label",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"cm-input",9),e.NdJ("modelChange",function(l){return n.filter.textSearch=l})("modelChange",function(){return n.onSearch()}),e.qZA(),e.TgZ(12,"cm-select",10),e.NdJ("modelChange",function(l){return n.filter.cardType=l})("modelChange",function(){return n.onSearch()}),e.qZA(),e.TgZ(13,"cm-select",11),e.NdJ("modelChange",function(l){return n.filter.status=l})("modelChange",function(){return n.onSearch()}),e.qZA()(),e._UZ(14,"div",12),e.TgZ(15,"nz-table",13,14)(17,"thead")(18,"tr"),e._UZ(19,"th",15),e.TgZ(20,"th",15),e._uU(21),e.ALo(22,"transloco"),e.qZA(),e.TgZ(23,"th",16),e._uU(24),e.ALo(25,"transloco"),e.qZA(),e.TgZ(26,"th",16),e._uU(27),e.ALo(28,"transloco"),e.qZA(),e.TgZ(29,"th",17),e._uU(30),e.ALo(31,"transloco"),e.qZA(),e.TgZ(32,"th",16),e._uU(33),e.ALo(34,"transloco"),e.qZA(),e.TgZ(35,"th",16),e._uU(36),e.ALo(37,"transloco"),e.qZA(),e.TgZ(38,"th",16),e._uU(39),e.ALo(40,"transloco"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,fe,43,27,"tr",18),e.qZA()()()()),2&t){const o=e.MAs(16);e.xp6(3),e.hij(" ",e.lcZ(4,21,"nav.cards")," "),e.xp6(3),e.Q6J("disabled",n.isButtonLoading),e.xp6(1),e.Q6J("svgIcon","add"),e.xp6(4),e.Q6J("model",n.filter.textSearch)("placeholder","vime.findByCardCodeOrName")("isDisableLength",!0),e.xp6(1),e.Q6J("model",n.filter.cardType)("listData",n.cardTypes),e.xp6(1),e.Q6J("model",n.filter.status)("listData",n.cardStatuses),e.xp6(2),e.Q6J("nzData",n.cards)("nzLoading",n.isTableLoading)("nzPageSize",10),e.xp6(6),e.Oqu(e.lcZ(22,23,"no")),e.xp6(3),e.Oqu(e.lcZ(25,25,"vime.cardCode")),e.xp6(3),e.Oqu(e.lcZ(28,27,"vime.cardName")),e.xp6(3),e.Oqu(e.lcZ(31,29,"vime.cardType")),e.xp6(3),e.Oqu(e.lcZ(34,31,"vime.useStatus")),e.xp6(3),e.Oqu(e.lcZ(37,33,"vime.syncStatus")),e.xp6(3),e.Oqu(e.lcZ(40,35,"vime.usingUser")),e.xp6(3),e.Q6J("ngForOf",o.data)}},dependencies:[p.lW,p.RK,w.Hw,c.KI,$.f,T.W,d.sg,d.PC,y.gM,Z.N8,Z.Uo,Z._C,Z.Om,Z.p0,Z.$Z,Z.UX,N.VK,N.OP,N.p6,c.Ot],encapsulation:2}),i})();var he=r(33601),D=r(62214),ve=r(6686),xe=r(51227);const be=["matDrawer"];let Ce=(()=>{class i{constructor(t){this._fuseMediaWatcherService=t,this._unsubscribeAll=new h.x,this.menuData=[{id:"fuse-components.components",title:"nav.generalData",type:"group",children:[{title:"nav.customerType",type:"basic",link:"customer-types"},{title:"nav.ticketType",type:"basic",link:"ticket-types"},{title:"nav.meetingType",type:"basic",link:"meeting-types"},{title:"nav.room",type:"basic",link:"room"},{title:"nav.floors",type:"basic",link:"floors"},{title:"nav.blocks",type:"basic",link:"blocks"},{title:"nav.doorLanes",type:"basic",link:"door-lanes"},{title:"nav.departments",type:"basic",link:"departments"},{title:"nav.jobTitles",type:"basic",link:"job-titles"},{title:"nav.requestAppointment",type:"basic",link:"request-appointment"}]},{id:"fuse-components.hardwareSettings",title:"nav.hardwareSettings",type:"group",children:[{title:"nav.cards",type:"basic",link:"cards"},{title:"general.deviceConfiguration",type:"basic",link:"devices"},{title:"general.connectionConfiguration",type:"basic",link:"connections"},{title:"nav.externalDevice",type:"basic",link:"external-device"}]}]}ngOnInit(){this._fuseMediaWatcherService.onMediaChange$.pipe((0,a.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("md")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(he.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(be,7),2&t){let o;e.iGM(o=e.CRH())&&(n.matDrawer=o.first)}},decls:8,vars:8,consts:[[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"h-full","flex-auto"],[1,"flex","w-64","dark:bg-gray-900",3,"autoFocus","mode","opened"],["matDrawer",""],[3,"navigation","inner","mode","name","opened"],["fuseScrollReset","",1,"flex","flex-col"],[1,"flex-auto"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3),e._UZ(4,"fuse-vertical-navigation",4),e.qZA(),e.TgZ(5,"mat-drawer-content",5)(6,"div",6),e._UZ(7,"router-outlet"),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),e.xp6(2),e.Q6J("navigation",n.menuData)("inner",!0)("mode","side")("name","docs-core-features-navigation")("opened",!0))},dependencies:[q.lC,D.jA,D.kh,D.LW,ve.j,xe.C],encapsulation:2}),i})(),Te=(()=>{class i{constructor(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["general"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[q.lC],encapsulation:2}),i})();var U=r(61135),b=r(49770),C=r(70262),v=r(62843),k=r(63900),J=r(63844),Ze=r(61148),L=r(69609),f=r(99114),m=r(39401),S=r(76681);function we(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Ae(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function ye(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function ke(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,ye,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function Le(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,we,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,Ae,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,ke,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function Se(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Ue(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function Je(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function Ie(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Je,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function qe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Se,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,Ue,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,Ie,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let W=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.customerType",addBtn:"master.addCustomerType"},this._service=(0,e.f3M)(Ze.a),this._transform={toLocal:o=>({id:o.customerTypeId,name:o.typeName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{customerTypeId:o.id,typeName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-customer-types"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,Le,19,10,"div",0),e.YNc(1,qe,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var Ge=r(68957);function Ne(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function Qe(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function $e(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Qe,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function Re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Ne,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,Fe,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,$e,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function De(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Me(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function Ye(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function Ee(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Ye,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,De,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,Me,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,Ee,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let Ke=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.departments",addBtn:"master.addDepartments"},this._service=(0,e.f3M)(Ge.n),this._transform={toLocal:o=>({id:o.departmentId,name:o.departmentName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{departmentId:o.id,departmentName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.isLoading=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(null),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-departments"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,Re,19,10,"div",0),e.YNc(1,Oe,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var ze=r(5270);function je(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function He(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function Be(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Pe(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Be,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function We(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,je,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,He,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,Pe,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function Ve(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Xe(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function et(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function tt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,et,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function nt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Ve,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,Xe,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,tt,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let it=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.jobTitles",addBtn:"master.addJobTitles"},this._service=(0,e.f3M)(ze.n),this._transform={toLocal:o=>({id:o.jobTitleId,name:o.jobTitleName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{jobTitleId:o.id,jobTitleName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.isLoading=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(null),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-job-titles"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,We,19,10,"div",0),e.YNc(1,nt,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var M=r(3144);let O=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}get(t){return this._httpClient.get("api/door-lanes",{params:{...t}})}updateRange(t){return this._httpClient.put("api/door-lanes/batch",t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(M.eN),e.LFG(x.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ot(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function st(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function lt(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function rt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,lt,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function at(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,ot,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,st,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,rt,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function ct(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function dt(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function ut(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function pt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,ut,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function _t(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,ct,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,dt,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,pt,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let mt=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.doorLanes",addBtn:"master.addDoorLanes"},this._service=(0,e.f3M)(O),this._transform={toLocal:o=>({id:o.doorLaneId,name:o.doorLaneName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{doorLaneId:o.id,doorLaneName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.isLoading=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(null),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-door-lanes"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,at,19,10,"div",0),e.YNc(1,_t,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var ft=r(89040);function gt(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function vt(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function xt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,vt,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function bt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,gt,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,ht,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,xt,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function Ct(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Tt(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function Zt(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function wt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Zt,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function At(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Ct,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,Tt,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,wt,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let yt=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.blocks",addBtn:"master.addBlocks"},this._service=(0,e.f3M)(ft.g),this._transform={toLocal:o=>({id:o.blockId,name:o.blockName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{blockId:o.id,blockName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.isLoading=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(null),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-blocks"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,bt,19,10,"div",0),e.YNc(1,At,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var kt=r(14039);function Lt(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function St(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function Ut(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Jt(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Ut,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function It(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Lt,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,St,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,Jt,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function qt(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Gt(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function Nt(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function Ft(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Nt,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function Qt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,qt,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,Gt,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,Ft,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let $t=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.floors",addBtn:"master.addFloors"},this._service=(0,e.f3M)(kt.w),this._transform={toLocal:o=>({id:o.floorId,name:o.floorName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{floorId:o.id,floorName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.isLoading=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(null),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-floors"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,It,19,10,"div",0),e.YNc(1,Qt,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var Rt=r(9866);function Dt(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Mt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function Yt(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Et(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Yt,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function Ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Dt,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,Mt,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,Et,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function Kt(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function zt(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function jt(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function Ht(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,jt,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function Bt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Kt,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,zt,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,Ht,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let Pt=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.room",addBtn:"master.addRoom"},this._service=(0,e.f3M)(Rt.X),this._transform={toLocal:o=>({id:o.roomId,name:o.name,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{roomId:o.id,name:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-room"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,Ot,19,10,"div",0),e.YNc(1,Bt,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var R=r(18505);let Wt=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}getAll(){return this._httpClient.get("api/appointment-requests")}update(t,n){return this._httpClient.put(`api/appointment-requests/${t}`,n).pipe((0,R.b)(({success:o})=>{o&&(0,u.Hh)(this._fuseConfirmationService)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(M.eN),e.LFG(x.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var V=r(43042),X=r(50877);const Vt=["download"],Xt=["qrCode"];let en=(()=>{class i{constructor(t,n,o,l){this._configurationService=t,this._activatedRoute=n,this._fuseConfirmationService=o,this.translocoService=l,this._unsubscribeAll=new h.x,this.data={configurationId:null,configurationValue:null,isUse:null},this.dataQrCode={configurationId:null,configurationValue:null,isUse:null},this.tenantId=""}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngOnInit(){this.getAll()}getAll(){this._configurationService.getAll().pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{t.forEach(n=>{"TICKET_ORDER_REQUEST"===n.configurationId?this.data=n:this.dataQrCode=n})})}copyData(){const t=this.data.configurationValue;t&&(navigator.clipboard.writeText(t),(0,u.Hh)(this._fuseConfirmationService,this.translocoService.translate("message.copyDone")))}copyDataQrCode(){const t=this.dataQrCode.configurationValue;t&&(navigator.clipboard.writeText(t),(0,u.Hh)(this._fuseConfirmationService,this.translocoService.translate("message.copyDone")))}downloadImg(){const t=this.qrCode.nativeElement.querySelector("canvas");if(t){const n=this.download.nativeElement;n.href=t.toDataURL("image/png"),n.download="qrcode.png",n.click(),(0,u.Hh)(this._fuseConfirmationService,this.translocoService.translate("message.downloadDone"))}}onUpdate(t,n){return this._configurationService.update(t,{isUse:n,configurationId:t}).pipe((0,a.R)(this._unsubscribeAll)).subscribe(({})=>{this.getAll()})}onToggleChange(t,n){this.onUpdate(n,t.checked)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Wt),e.Y36(q.gz),e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["request-appointment"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Vt,5),e.Gf(Xt,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.download=o.first),e.iGM(o=e.CRH())&&(n.qrCode=o.first)}},decls:80,vars:43,consts:[[1,"w-full","mx-6"],[1,"h-full","w-full","p-6"],[1,"font-bold","text-3xl","pt-5","pb-6"],[1,"w-full","bg-card","rounded-md","shadow","p-6"],[1,"border-b","py-6","flex","flex-row","justify-between","px-3"],[1,"w-full","flex","flex-row","sm:flex-col","md:flex-row"],[1,"text-lg","font-sans"],[1,"text-md","text-slate-500"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["transloco","copy"],[1,"w-full","flex","flex-row","sm:flex-col","md:flex-row","s"],["id","download"],["qrCode",""],[3,"nzValue","nzSize"],[1,"hidden"],["download",""],["mat-flat-button","","color","primary",1,"w-min","text-white","mx-3","my-2","text-sm",3,"click"],["transloco","download"],["color","primary",1,"flex-1","text-lg","pl-4","pt-2","font-medium","justify-center","items-center",3,"checked","change"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"div")(8,"div",5)(9,"div",6),e._uU(10),e.ALo(11,"transloco"),e.qZA()(),e.TgZ(12,"div",5)(13,"div",7),e._uU(14),e.ALo(15,"transloco"),e.qZA()()(),e.TgZ(16,"div")(17,"button",8),e.NdJ("click",function(){return n.copyData()}),e._UZ(18,"label",9),e.qZA()()(),e.TgZ(19,"div",4)(20,"div")(21,"div",5)(22,"div",6),e._uU(23),e.ALo(24,"transloco"),e.qZA()(),e.TgZ(25,"div",10)(26,"div",7),e._uU(27),e.ALo(28,"transloco"),e.qZA()()(),e.TgZ(29,"div",11)(30,"div",5,12),e._UZ(32,"nz-qrcode",13),e.qZA(),e._UZ(33,"a",14,15),e.TgZ(35,"button",16),e.NdJ("click",function(){return n.downloadImg()}),e._UZ(36,"label",17),e.qZA()()(),e.TgZ(37,"div",4)(38,"div")(39,"div",5)(40,"div",6),e._uU(41),e.ALo(42,"transloco"),e.qZA()(),e.TgZ(43,"div",10)(44,"div",7),e._uU(45),e.ALo(46,"transloco"),e.qZA()()(),e.TgZ(47,"div")(48,"mat-slide-toggle",18),e.NdJ("change",function(l){return n.onToggleChange(l,n.data.configurationId)}),e.TgZ(49,"label"),e._uU(50),e.ALo(51,"transloco"),e.qZA()()()(),e.TgZ(52,"div",4)(53,"div")(54,"div",5)(55,"div",6),e._uU(56),e.ALo(57,"transloco"),e.qZA()(),e.TgZ(58,"div",5)(59,"div",7),e._uU(60),e.ALo(61,"transloco"),e.qZA()()(),e.TgZ(62,"div")(63,"button",8),e.NdJ("click",function(){return n.copyDataQrCode()}),e._UZ(64,"label",9),e.qZA()()(),e.TgZ(65,"div",4)(66,"div")(67,"div",5)(68,"div",6),e._uU(69),e.ALo(70,"transloco"),e.qZA()(),e.TgZ(71,"div",10)(72,"div",7),e._uU(73),e.ALo(74,"transloco"),e.qZA()()(),e.TgZ(75,"div")(76,"mat-slide-toggle",18),e.NdJ("change",function(l){return n.onToggleChange(l,n.dataQrCode.configurationId)}),e.TgZ(77,"label"),e._uU(78),e.ALo(79,"transloco"),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,17,"nav.requestAppointmentAndQRCODE")," "),e.xp6(7),e.Oqu(e.lcZ(11,19,"system.copyLinkRequestAppointment")),e.xp6(4),e.Oqu(e.lcZ(15,21,"system.configurationRequestAppointment")),e.xp6(9),e.Oqu(e.lcZ(24,23,"system.InQrCode")),e.xp6(4),e.Oqu(e.lcZ(28,25,"system.configurationRequestQrCode")),e.xp6(5),e.Q6J("nzValue",n.data.configurationValue)("nzSize",100),e.xp6(9),e.Oqu(e.lcZ(42,27,"master.using")),e.xp6(4),e.Oqu(e.lcZ(46,29,"system.isUseRequestAppointment")),e.xp6(3),e.Q6J("checked",n.data.isUse),e.xp6(2),e.hij(" ",e.lcZ(51,31,"use"),""),e.xp6(6),e.Oqu(e.lcZ(57,33,"system.copyLinkRequestAppointmentQRCODE")),e.xp6(4),e.Oqu(e.lcZ(61,35,"system.configurationRequestAppointmentQRCODE")),e.xp6(9),e.Oqu(e.lcZ(70,37,"master.using")),e.xp6(4),e.Oqu(e.lcZ(74,39,"system.isUseRequestAppointmentQRCODE")),e.xp6(3),e.Q6J("checked",n.dataQrCode.isUse),e.xp6(2),e.hij(" ",e.lcZ(79,41,"use"),""))},dependencies:[p.lW,V.D,c.KI,X.Rr,c.Ot],encapsulation:2}),i})(),tn=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}get(){return this._httpClient.get("api/connections")}update(t,n){return this._httpClient.put(`api/connections/${t}`,n).pipe((0,R.b)(({success:o})=>{o&&(0,u.Hh)(this._fuseConfirmationService)}))}create(t){return this._httpClient.post("api/connections",t).pipe((0,R.b)(({success:n})=>{n&&(0,u.Hh)(this._fuseConfirmationService)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(M.eN),e.LFG(x.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nn=(()=>{class i{constructor(t,n,o,l,g){this._activatedRoute=t,this._connectionService=n,this._notification=o,this._fuseConfirmationService=l,this._translocoService=g,this._unsubscribeAll=new h.x,this.data={connectionId:null,connectionLink:null,connectionName:null,account:null,password:null},this.defaultData={connectionId:null,connectionLink:null,connectionName:null,account:null,password:null},this.isLoading=!1}ngOnInit(){this.get()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}get(){this._connectionService.get().pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{null!=t?(this.data=t,this.defaultData=t):this.data={connectionId:"",connectionName:"",connectionLink:"",account:"",password:""}})}save(){this.isLoading=!0;const t={...this.data};if(!(t.connectionName&&t.connectionLink&&t.account&&t.password))return this._notification.warning(this._translocoService.translate("warning"),this._translocoService.translate("message.workOrderFormInvalid"),{nzDuration:3e3}),void(this.isLoading=!1);this.defaultData.connectionId?this._connectionService.update(this.data.connectionId,t).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(({success:n})=>{n&&this.get()}):this._connectionService.create(t).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(({success:n})=>{n&&this.get()})}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("com.confirmUnSaveChange"),this._translocoService.translate("message.doYouReturnAndWantUnSaveChange")).afterClosed().pipe((0,a.R)(this._unsubscribeAll)).subscribe(t=>{"confirmed"===t&&this.get()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.gz),e.Y36(tn),e.Y36(Y.zb),e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["connection"]],decls:19,vars:23,consts:[[1,"m-12","w-full"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold"],[1,"gap-4","flex","items-center","justify-center"],["mat-button","",3,"disabled","click"],["mat-flat-button","","color","primary",3,"disabled","click"],[1,"bg-card","p-6","rounded-md","shadow","space-y-4","flex","flex-col","mt-8"],[1,"flex","gap-4"],["label","general.configurationName",1,"flex-1",3,"model","isRequired","isDisableLength","modelChange"],["label","general.link",1,"flex-1",3,"model","isRequired","isDisableLength","modelChange"],["label","general.account",1,"flex-1",3,"model","isRequired","isDisableLength","modelChange"],["label","general.password",1,"flex-1",3,"model","isRequired","isDisableLength","modelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.cancel()}),e._uU(7),e.ALo(8,"transloco"),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return n.save()}),e._uU(10),e.ALo(11,"transloco"),e.qZA()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"cm-input",8),e.NdJ("modelChange",function(l){return n.data.connectionName=l}),e.qZA(),e.TgZ(15,"cm-input",9),e.NdJ("modelChange",function(l){return n.data.connectionLink=l}),e.qZA()(),e.TgZ(16,"div",7)(17,"cm-input",10),e.NdJ("modelChange",function(l){return n.data.account=l}),e.qZA(),e.TgZ(18,"cm-input",11),e.NdJ("modelChange",function(l){return n.data.password=l}),e.qZA()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,17,"general.connectionConfiguration")),e.xp6(3),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Oqu(e.lcZ(8,19,"cancel")),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Oqu(e.lcZ(11,21,"save")),e.xp6(4),e.Q6J("model",n.data.connectionName)("isRequired",!0)("isDisableLength",!0),e.xp6(1),e.Q6J("model",n.data.connectionLink)("isRequired",!0)("isDisableLength",!0),e.xp6(2),e.Q6J("model",n.data.account)("isRequired",!0)("isDisableLength",!0),e.xp6(1),e.Q6J("model",n.data.password)("isRequired",!0)("isDisableLength",!0))},dependencies:[p.lW,T.W,c.Ot],encapsulation:2}),i})(),ee=(()=>{class i{constructor(t,n){this.httpClient=t,this._fuseConfirmationService=n}get(t){return this.httpClient.get("api/devices",{params:t})}create(t){return this.httpClient.post("api/devices",t).pipe((0,R.b)(({})=>{(0,u.Hh)(this._fuseConfirmationService)}))}update(t,n){return this.httpClient.put(`api/devices/${encodeURIComponent(t)}`,n).pipe((0,R.b)(({})=>{(0,u.Hh)(this._fuseConfirmationService)}))}getById(t){return this.httpClient.get(`api/devices/${encodeURIComponent(t)}`)}delete(t){return this.httpClient.delete(`api/devices/${encodeURIComponent(t)}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(M.eN),e.LFG(x.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function on(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onDelete())}),e._UZ(1,"label",17),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading)}}function sn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClickSubmit())}),e._UZ(1,"label",19),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading)}}let K=(()=>{class i extends j.Y{constructor(t,n,o,l,g,Q,I){super(l,t,Q),this.fuseConfirmationService=t,this._deviceService=n,this._doorLaneService=o,this.translocoService=l,this._notification=g,this.dialogRef=Q,this._destroySubject$=new h.x,this.isLoading=!1,this.actionEnum="new",this.req={deviceCode:null,doorLaneId:null,deviceName:null,deviceId:null},this.doorLaneCode=[],I&&I.device&&(this.actionEnum=I.actionEnum,this.req=I.device)}ngOnDestroy(){this._destroySubject$.next(null),this._destroySubject$.complete()}ngOnInit(){this._doorLaneService.get({isUse:!0}).pipe((0,a.R)(this._destroySubject$)).subscribe(({data:t})=>{this.doorLaneCode=[...t.map(n=>({id:n.doorLaneId,name:n.doorLaneName}))]})}onClickCancel(){(0,u.WD)(this.fuseConfirmationService,this.translocoService.translate("message.confirmUnSaveChange"),this.translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{"confirmed"===t&&this.closePopup(!1)})}onClickSubmit(){const t={deviceId:this.req.deviceId,doorLaneId:this.req.doorLaneId,deviceCode:this.req.deviceCode,deviceName:this.req.deviceName};t.deviceCode&&t.deviceName&&t.doorLaneId?t.deviceCode.startsWith(" ")||t.deviceName.startsWith(" ")?this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("message.inputMustNotStartWithSpace"),{nzDuration:3e3}):(this.isLoading=!0,"new"===this.actionEnum&&this._deviceService.create(t).pipe((0,_.x)(()=>this.isLoading=!1)).subscribe(({success:n})=>{n&&this.closePopup(!0)}),"edit"===this.actionEnum&&this._deviceService.update(this.req.deviceId,t).pipe((0,_.x)(()=>this.isLoading=!1)).subscribe(({success:n})=>{n&&this.closePopup(!0)})):this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("message.mustInputRequired"),{nzDuration:3e3})}onDelete(){(0,u.ht)(this.fuseConfirmationService,this.translocoService.translate("message.confirmDelete"),this.translocoService.translate("message.Delete")).afterClosed().subscribe(t=>{"confirmed"===t&&this._deviceService.delete(this.req.deviceId).subscribe(({})=>{(0,u.Hh)(this.fuseConfirmationService,this.translocoService.translate("message.success")),this.closePopup(!0)})})}buttonClose(){this.closePopup(!0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(ee),e.Y36(O),e.Y36(c.Vn),e.Y36(Y.zb),e.Y36(G.so),e.Y36(G.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["device-popup"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"flex","flex-col","flex-auto","md:w-auto","md:min-w-160","lg:min-w-256","max-h-200","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],["transloco","master.deviceInformation",1,"text-lg","font-medium"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"max-h-screen-90","px-6","pt-6","pb-3","sm:p-8","space-y-6","overflow-y-auto","bg-slate-100"],[1,"flex","space-y-4","flex-col","bg-card","rounded-md","p-6","gap-5","shadow"],["isDisableLength","true","type","text","label","master.deviceCode",1,"flex-1",3,"model","actionEnum","isRequired","modelChange"],["isDisableLength","true","type","text","label","master.deviceName",1,"flex-1",3,"model","actionEnum","isRequired","modelChange"],["isDisableLength","true","label","nav.doorLanes",1,"flex-1",3,"model","listData","actionEnum","isRequired","modelChange"],[1,"flex","space-x-2","justify-between"],["color","warn","mat-flat-button","",3,"disabled","click",4,"ngIf"],[1,"flex","gap-4","justify-end"],["mat-flat-button","",1,"bg-slate-200",3,"disabled","click"],["transloco","cancel",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["color","warn","mat-flat-button","",3,"disabled","click"],["transloco","com.delete",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"disabled","click"],["transloco","save",1,"text-base","leading-6","font-medium","cursor-pointer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return n.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"cm-input",7),e.NdJ("modelChange",function(l){return n.req.deviceCode=l}),e.qZA(),e.TgZ(8,"cm-input",8),e.NdJ("modelChange",function(l){return n.req.deviceName=l}),e.qZA(),e.TgZ(9,"cm-select",9),e.NdJ("modelChange",function(l){return n.req.doorLaneId=l}),e.qZA()(),e.TgZ(10,"div",10),e.YNc(11,on,2,1,"button",11),e.TgZ(12,"div",12)(13,"button",13),e.NdJ("click",function(){return n.onClickCancel()}),e._UZ(14,"label",14),e.qZA(),e.YNc(15,sn,2,1,"button",15),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(3),e.Q6J("model",n.req.deviceCode)("actionEnum",n.actionEnum)("isRequired",!0),e.xp6(1),e.Q6J("model",n.req.deviceName)("actionEnum",n.actionEnum)("isRequired",!0),e.xp6(1),e.Q6J("model",n.req.doorLaneId)("listData",n.doorLaneCode)("actionEnum","edit")("isRequired",!0),e.xp6(2),e.Q6J("ngIf","edit"===n.actionEnum),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("ngIf","view"!==n.actionEnum))},dependencies:[p.lW,p.RK,w.Hw,c.KI,$.f,T.W,d.O5],encapsulation:2}),i})();function ln(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",18),e.NdJ("dblclick",function(){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onClickDetail(l))}),e.ynx(1),e.TgZ(2,"td")(3,"span",19)(4,"button",20)(5,"mat-icon"),e._uU(6," more_vert "),e.qZA(),e.TgZ(7,"mat-menu",null,21),e.ynx(9),e.TgZ(10,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onClickDetail(l))}),e._UZ(11,"mat-icon",23),e._uU(12),e.ALo(13,"transloco"),e.qZA(),e.TgZ(14,"button",22),e.NdJ("click",function(){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.onClickEdit(l))}),e.TgZ(15,"mat-icon"),e._uU(16,"edit"),e.qZA(),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.BQk(),e.qZA()()()(),e.TgZ(19,"td",24),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.BQk(),e.qZA()}if(2&i){const t=s.$implicit,n=s.index,o=e.MAs(8);e.oxw();const l=e.MAs(23);e.xp6(4),e.Q6J("matMenuTriggerFor",o),e.xp6(8),e.hij(" ",e.lcZ(13,7,"view")," "),e.xp6(5),e.hij(" ",e.lcZ(18,9,"edit")," "),e.xp6(3),e.hij("",(l.nzPageIndex-1)*l.nzPageSize+n+1," "),e.xp6(2),e.hij(" ",t.deviceCode," "),e.xp6(2),e.hij(" ",t.deviceName," "),e.xp6(2),e.hij(" ",t.doorLaneName," ")}}let rn=(()=>{class i{constructor(t,n,o,l,g,Q){this._activatedRoute=t,this._deviceService=n,this._doorLaneService=o,this._fuseConfirmationService=l,this._translocoService=g,this._matDialog=Q,this._unsubscribeAll=new h.x,this.listData=[],this.isLoading=!1,this.debounce$=new h.x,this.filter={textSearch:null,doorLaneId:null},this.doorLaneCode=[]}ngOnInit(){this.getData(),this.debounce$.pipe((0,A.b)(300),(0,a.R)(this._unsubscribeAll)).subscribe(()=>{this.getData()}),this._doorLaneService.get({isUse:!0}).pipe((0,a.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.doorLaneCode=[...t.map(n=>({id:n.doorLaneId,name:n.doorLaneName}))]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onSearch(){this.debounce$.next()}getData(){this.isLoading=!0,this._deviceService.get(this.filter).pipe((0,a.R)(this._unsubscribeAll),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:t})=>{this.listData=t})}onClickAdd(){this._matDialog.open(K,{disableClose:!1,data:{actionEnum:"new",device:null}}).afterClosed().subscribe(n=>{n&&this.getData()})}onClickDetail(t){this._matDialog.open(K,{disableClose:!1,data:{actionEnum:"view",device:t}}).afterClosed().subscribe(o=>{o&&this.getData()})}onClickEdit(t){this._matDialog.open(K,{disableClose:!0,data:{actionEnum:"edit",device:t}}).afterClosed().subscribe(o=>{o&&this.getData()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.gz),e.Y36(ee),e.Y36(O),e.Y36(x.R),e.Y36(c.Vn),e.Y36(G.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["device"]],decls:39,vars:27,consts:[[1,"m-12","w-full"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold"],[1,"gap-4","flex","items-center","justify-center"],["mat-flat-button","",3,"color","click"],[1,"mr-2",3,"svgIcon"],[1,"ml-2","mr-1"],[1,"overflow-auto","h-full","pt-8"],[1,"bg-card","p-6","rounded-md","shadow"],[1,"flex","items-center","justify-center","gap-4"],[1,"flex-1"],["label","search",3,"model","isDisableLength","placeholder","modelChange","keyup"],["label","nav.doorLanes",3,"listData","model","modelChange"],["nzShowSizeChanger","","nzBordered","",1,"w-full",3,"nzData","nzLoading"],["basicTable",""],["nzWidth","60px"],["transloco","no","nzAlign","center","nzWidth","80px"],["class","cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],[1,"cursor-pointer",3,"dblclick"],[1,"items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["headerMenu",""],["mat-menu-item","",3,"click"],["svgIcon","heroicons_outline:eye"],["nzAlign","center"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.onClickAdd()}),e._UZ(7,"mat-icon",5),e.TgZ(8,"span",6),e._uU(9),e.ALo(10,"transloco"),e.qZA()()()(),e.ynx(11),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"cm-input",11),e.NdJ("modelChange",function(l){return n.filter.textSearch=l})("keyup",function(){return n.onSearch()}),e.ALo(17,"transloco"),e.qZA()(),e.TgZ(18,"div",10)(19,"cm-select",12),e.NdJ("modelChange",function(l){return n.filter.doorLaneId=l})("modelChange",function(){return n.onSearch()}),e.qZA()(),e._UZ(20,"div",10),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"nz-table",13,14)(24,"thead")(25,"tr"),e._UZ(26,"th",15)(27,"th",16),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"transloco"),e.qZA(),e.TgZ(31,"th"),e._uU(32),e.ALo(33,"transloco"),e.qZA(),e.TgZ(34,"th"),e._uU(35),e.ALo(36,"transloco"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,ln,27,11,"tr",17),e.qZA()()()(),e.BQk(),e.qZA()),2&t){const o=e.MAs(23);e.xp6(3),e.Oqu(e.lcZ(4,15,"general.deviceConfiguration")),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","add"),e.xp6(2),e.Oqu(e.lcZ(10,17,"add")),e.xp6(7),e.s9C("placeholder",e.lcZ(17,19,"plHolder.searchDeviceNameAndDeviceCode")),e.Q6J("model",n.filter.textSearch)("isDisableLength",!0),e.xp6(3),e.Q6J("listData",n.doorLaneCode)("model",n.filter.doorLaneId),e.xp6(3),e.Q6J("nzData",n.listData)("nzLoading",n.isLoading),e.xp6(7),e.hij(" ",e.lcZ(30,21,"master.deviceCode")," "),e.xp6(3),e.hij(" ",e.lcZ(33,23,"master.deviceName")," "),e.xp6(3),e.hij(" ",e.lcZ(36,25,"nav.doorLanes")," "),e.xp6(3),e.Q6J("ngForOf",o.data)}},dependencies:[p.lW,p.RK,w.Hw,c.KI,$.f,T.W,d.sg,Z.N8,Z.Uo,Z._C,Z.Om,Z.p0,Z.$Z,Z.UX,N.VK,N.OP,N.p6,c.Ot],encapsulation:2}),i})();var an=r(10304);function cn(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function dn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function un(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function pn(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,un,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function _n(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,cn,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,dn,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,pn,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function mn(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function fn(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function gn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function hn(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,gn,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function vn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,mn,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,fn,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,hn,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let xn=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.meetingType",addBtn:"master.addMeetingType"},this._service=(0,e.f3M)(an.u),this._transform={toLocal:o=>({id:o.meetingTypeId,name:o.typeName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{meetingTypeId:o.id,typeName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-meeting-types"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,_n,19,10,"div",0),e.YNc(1,vn,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var bn=r(12182);function Cn(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function Tn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearTextSearch())}),e._UZ(1,"mat-icon",19),e.qZA()}}function Zn(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function wn(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Zn,3,1,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.isUse)}}function An(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,Cn,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div")(7,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"mat-form-field",9)(12,"input",10),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.filter$.value.textSearch=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.ALo(13,"transloco"),e.qZA(),e._UZ(14,"mat-icon",11),e.YNc(15,Tn,2,0,"button",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14),e.YNc(18,wn,2,1,"div",15),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,6,t.labels.header)," "),e.xp6(8),e.Q6J("placeholder",e.lcZ(13,8,"search"))("ngModel",t.filter$.value.textSearch),e.xp6(3),e.Q6J("ngIf",t.filter$.value.textSearch&&t.filter$.value.textSearch.length),e.xp6(3),e.Q6J("ngForOf",t.collection)}}function yn(i,s){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"nz-spin",17),e.qZA())}function kn(i,s){1&i&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.Q6J("@shake",void 0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"error.fieldIsRequired")," "))}function Ln(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"cm-input",34),e.NdJ("modelChange",function(o){e.CHM(t);const l=e.oxw().$implicit;return e.KtG(l.name=o)}),e.qZA(),e.TgZ(2,"div",35)(3,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,l=e.oxw(2);return e.KtG(l.removeField(o))}),e.ALo(4,"transloco"),e._UZ(5,"mat-icon",37),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("model",t.name)("isDisableLength",!0),e.xp6(2),e.Q6J("matTooltip",e.lcZ(4,3,"com.delete"))}}function Sn(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Ln,6,5,"ng-container",21),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isUse)}}function Un(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,yn,2,0,"div",2),e.TgZ(2,"div",3)(3,"div",4),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",23)(7,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e._UZ(8,"label",25),e.qZA(),e.TgZ(9,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(10,"label",27),e.qZA()()(),e.TgZ(11,"div",13),e.YNc(12,kn,3,4,"div",28),e.TgZ(13,"div",14),e.YNc(14,Sn,2,1,"div",29),e.qZA(),e.TgZ(15,"div",30),e.NdJ("click",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.isLoading?o.preventDefault():l.addField())}),e._UZ(16,"mat-icon",31),e.TgZ(17,"span",32),e._uU(18),e.ALo(19,"transloco"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.hij(" ",e.lcZ(5,9,t.labels.header)," "),e.xp6(3),e.Q6J("disabled",t.isLoading),e.xp6(2),e.Q6J("disabled",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isErrors),e.xp6(2),e.Q6J("ngForOf",t.collection)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",t.isLoading?"italic cursor-not-allowed":"cursor-pointer"),e.xp6(3),e.Oqu(e.lcZ(19,11,t.labels.addBtn))}}let Jn=(()=>{class i{constructor(t,n){this._fuseConfirmationService=t,this._translocoService=n,this.labels={header:"nav.ticketType",addBtn:"master.addTicketType"},this._service=(0,e.f3M)(bn.x),this._transform={toLocal:o=>({id:o.ticketTypeId,name:o.typeName,isUse:o.isUse,metadata:{isLocal:!1}}),toServer:function(o){return{ticketTypeId:o.id,typeName:o.name,isUse:o.isUse}}},this._unsubscribeAll$=new h.x,this.filter$=new U.X({textSearch:"",isUse:!0}),this.isErrors=!1,this.action="view",this.collection=[]}ngOnInit(){this.filter$.pipe((0,a.R)(this._unsubscribeAll$),(0,A.b)(300)).subscribe(({textSearch:t})=>{this.getAll({textSearch:t,isUse:this.filter$.value.isUse})})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}get _newRow(){return{id:null,name:null,isUse:!0,metadata:{isLocal:!0}}}getAll(t=this.filter$.value){(0,b.P)(()=>(this.isLoading=!0,this._service.get({textSearch:t.textSearch,isUse:t.isUse}))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1)).subscribe(({data:n})=>{this.collection=n.map(o=>this._transform.toLocal(o))})}trackByFn(t,n){return t}save(){if(this.isErrors=!1,this.isErrors=this.collection.filter(n=>!n.name).length>0,this.isErrors)return;const t=this.collection.map(n=>this._transform.toServer(n));(0,b.P)(()=>(this.isLoading=!0,this._service.updateRange(t))).pipe((0,a.R)(this._unsubscribeAll$),(0,C.K)(n=>(this.isLoading=!1,(0,v._)(()=>n))),(0,_.x)(()=>this.isLoading=!1),(0,k.w)(()=>(0,u.Hh)(this._fuseConfirmationService).afterClosed())).subscribe(n=>{"cancelled"===n&&(this.action="view",this.getAll(this.filter$.value))})}edit(){this.action="edit"}cancel(){(0,u.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().pipe((0,a.R)(this._unsubscribeAll$)).subscribe(t=>{"confirmed"===t&&(this.action="view",this.getAll())})}addField(){this.collection=[...this.collection,this._newRow]}removeField(t){const n=this.collection[t];if(!n)throw new Error("Index of out range data, please check!");if(n.metadata){if(n.metadata.isLocal)return void this.collection.splice(t,1);this.collection[t].isUse=!1}}search(){this.filter$.next({...this.filter$.value})}clearTextSearch(){this.filter$.next({textSearch:null,isUse:this.filter$.value.isUse})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x.R),e.Y36(c.Vn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["general-ticket-types"]],decls:2,vars:2,consts:[["class","w-128 p-6 m-4 relative",4,"ngIf"],[1,"w-128","p-6","m-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col-1","justify-between"],[1,"leading-none","text-3xl","font-bold","tracking-tight"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-4"],["transloco","vendorType.update",1,"ml-2"],[1,"w-full","pt-4","border-b"],[1,"w-full","grid-row","s-1","fuse-mat-dense"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],["mat-icon-button","","matIconSuffix","",3,"click",4,"ngIf"],[1,"w-full","mt-8"],[1,"w-full"],["class","flex w-full",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],["mat-icon-button","","matIconSuffix","",3,"click"],["matPrefix","","svgIcon","heroicons_solid:x-mark",1,"cursor-pointer"],[1,"flex","w-full"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-card","mb-4","border","rounded"],[1,"flex","gap-4"],["mat-button","",1,"w-min",3,"disabled","click"],["transloco","system.cancel"],["mat-flat-button","","color","primary",1,"w-min","text-white",3,"disabled","click"],["transloco","save"],["class","mb-4 h-6 text-red-500",4,"ngIf"],["class","flex w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","-ml-4","mt-2","inline-flex","items-center","rounded","px-4","py-2",3,"ngClass","click"],["svgIcon","heroicons_solid:plus-circle",1,"icon-size-5"],[1,"text-secondary","ml-2","font-medium","group-hover:underline"],[1,"mb-4","h-6","text-red-500"],[1,"w-full","gap-4","mb-4",3,"model","isDisableLength","modelChange"],[1,"flex","flex-col-1","w-10","items-center","h-10","pl-2","gap-4"],["mat-icon-button","",1,"h-8","min-h-8","w-8",3,"matTooltip","click"],["svgIcon","heroicons_solid:trash",1,"icon-size-5"]],template:function(t,n){1&t&&(e.YNc(0,An,19,10,"div",0),e.YNc(1,Un,20,13,"div",0)),2&t&&(e.Q6J("ngIf","view"===n.action),e.xp6(1),e.Q6J("ngIf","edit"===n.action))},dependencies:[p.lW,p.RK,w.Hw,c.KI,T.W,d.mk,d.sg,d.O5,L.Nt,f.KE,f.qo,f.R9,m.Fj,m.JJ,m.On,y.gM,S.W,c.Ot],encapsulation:2,data:{animation:J.L}}),i})();var In=r(15861),qn=r(32076),Gn=r(39646);let Nn=(()=>{class i{constructor(){this.terminate$=new h.x,this.terminate$.subscribe(t=>{clearTimeout(this.timer),this.writer.releaseLock()})}write$(t,n=!1){return(0,qn.D)(this.write(t,n)).pipe((0,a.R)(this.terminate$),(0,k.w)(o=>{if("error"===o)throw(0,v._)("error");return(0,Gn.of)(o)}))}write(t,n){var o=this;return(0,In.Z)(function*(){return o.port||(o.port=yield navigator.serial.requestPort(),yield o.port.open({baudRate:115200})),n||(o.writer=o.port.writable.getWriter(),o.timer=setTimeout(()=>{o.writer.releaseLock()},5e3),o.writer.write(t)),""})()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fn=[{path:"general",component:Te,children:[{path:"",component:Ce,children:[{path:"room",component:Pt},{path:"request-appointment",component:en},{path:"vendor-types",component:W},{path:"customer-types",component:W},{path:"departments",component:Ke},{path:"job-titles",component:it},{path:"door-lanes",component:mt},{path:"blocks",component:yt},{path:"floors",component:$t},{path:"meeting-types",component:xn},{path:"ticket-types",component:Jn},{path:"cards",component:ge},{path:"connections",component:nn},{path:"devices",component:rn},{path:"external-device",component:(()=>{class i{constructor(t,n,o,l){this._route=t,this.dialog=n,this._serialPortService=o,this._printerService=l,this._unsubcribeAll=new h.x}ngOnDestroy(){this._unsubcribeAll.next(),this._unsubcribeAll.complete()}ngOnInit(){}ngAfterViewInit(){}trackByFn(t,n){return n.id||t}setupPrint(){this._printerService.write$(null,!0).pipe((0,a.R)(this._unsubcribeAll)).subscribe(t=>{console.log(this._printerService.port.getInfo())})}setupReader(){this._serialPortService.readCard$(!0,!0).pipe((0,a.R)(this._unsubcribeAll)).subscribe(t=>{console.log(this._serialPortService.port.getInfo())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.gz),e.Y36(G.uw),e.Y36(B.A),e.Y36(Nn))},i.\u0275cmp=e.Xpm({type:i,selectors:[["external-device"]],decls:21,vars:15,consts:[[1,"flex","flex-col","flex-1","p-12","gap-8"],[1,"flex","justify-between","items-center","flex-1","leading-10","text-3xl","font-bold","tracking-tight"],[1,"shadow","rounded-md","p-6","bg-card"],[1,"w-full","flex","flex-col","gap-4","bg-card","rounded-2xl"],[1,"flex","flex-col","gap-4"],[1,"font-medium"],[1,"text-primary","cursor-pointer","hover:underline",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e.ynx(4),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"span",5),e._uU(9),e.ALo(10,"transloco"),e.qZA(),e.TgZ(11,"div",6),e.NdJ("click",function(){return n.setupReader()}),e._uU(12),e.ALo(13,"transloco"),e.qZA()(),e.TgZ(14,"div",4)(15,"span",5),e._uU(16),e.ALo(17,"transloco"),e.qZA(),e.TgZ(18,"div",6),e.NdJ("click",function(){return n.setupPrint()}),e._uU(19),e.ALo(20,"transloco"),e.qZA()()()(),e.BQk(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"nav.externalDevice")," "),e.xp6(7),e.Oqu(e.lcZ(10,7,"vime.cardReaderSettings")),e.xp6(3),e.hij(" ",e.lcZ(13,9,"settings")," "),e.xp6(4),e.Oqu(e.lcZ(17,11,"vime.printerSettings")),e.xp6(3),e.hij(" ",e.lcZ(20,13,"settings")," "))},dependencies:[c.Ot],encapsulation:2}),i})()}]}]}];var Qn=r(40608),$n=r(1217),Rn=r(9436),te=r(22497),Dn=r(23697),Mn=r(66288),Yn=r(33770);(0,d.qS)(Yn.Z);const ne=Mn,En={table:{nzBordered:!0,nzShowSizeChanger:!0,nzSize:"middle",nzShowQuickJumper:!0},image:{nzFallback:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-v52yldUi548vKbW8lSgCvEdj2pW4aMivFg&usqp=CAU"}},On=Object.keys(ne).map(i=>ne[i]);let Kn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[d.uU,oe.Sf,{provide:$n.Ad,useValue:"vi-VN"},{provide:e.soG,useValue:"en-US"},{provide:Rn.d_,useValue:En},{provide:te.u7,useValue:te.iF},{provide:Dn.sV,useValue:On}],imports:[q.Bz.forChild(Fn),p.ot,w.Ps,le.NY,se.w,D.SJ,Qn.jt,V.x,c.y4,ie.c,d.ez,L.c,m.u5,T.W,y.AV,X.rP,Z.HQ,$.f,N.Tx,S.j]}),i})()}}]);