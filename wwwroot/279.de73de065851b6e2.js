"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[279],{32950:(x,d,t)=>{t.d(d,{F:()=>u});var s=t(22223);let u=(()=>{class i{constructor(r){this.el=r,this.fallbackSrc="assets/images/fallback-image/blank-image.svg"}onError(){const r=this.el.nativeElement;r&&(r.src=this.fallbackSrc)}}return i.\u0275fac=function(r){return new(r||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["img","nzSrc",""]],hostBindings:function(r,f){1&r&&s.NdJ("error",function(){return f.onError()})},inputs:{fallbackSrc:"fallbackSrc"}}),i})()},92982:(x,d,t)=>{t.d(d,{F:()=>u});var s=t(22223);let u=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})()},3914:(x,d,t)=>{t.d(d,{G:()=>u});var s=t(22223);let u=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({}),i})()},68279:(x,d,t)=>{t.r(d),t.d(d,{WorkspaceModule:()=>re});var s=t(44755),u=t(39401),i=t(51728),m=t(86012),r=t(11292),f=t(25580),I=t(87870),z=t(99114),Z=t(430),D=t(69609),M=t(44867),k=t(50787),P=t(62214),W=t(50877),F=t(13617),y=t(31531),U=t(74473),J=t(92982),N=t(3914),C=t(61717),p=t(30430),L=t(80905),O=t(16243),E=t(73496),A=t(22497),j=t(23697),w=t(33231),Q=t(81142),h=t(82004),B=t(77579),b=t(82722),e=t(22223),R=t(75453),Y=t(87016),K=t(37495),H=t(99286),V=t(71683),G=t(74050),T=t(17406),X=t(83649),$=t(32950);function q(o,l){1&o&&(e._UZ(0,"mat-icon",36),e.ALo(1,"transloco")),2&o&&e.Q6J("svgIcon","heroicons_solid:badge-check")("matTooltip",e.lcZ(1,2,"system.defaultTenant"))}function _(o,l){1&o&&(e.TgZ(0,"div",37),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"workspaces.aboutToExpire")," "))}function ee(o,l){1&o&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"workspaces.using")," "))}function te(o,l){1&o&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"workspaces.expired")," "))}const ne=function(o,l){return{"border-primary-300":o,"border-zinc-200":l}},oe=function(o){return["/",o]};function ie(o,l){if(1&o){const n=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"div",17),e._UZ(5,"img",18),e.qZA(),e.TgZ(6,"div",19),e._uU(7),e.qZA()(),e.YNc(8,q,2,4,"mat-icon",20),e.TgZ(9,"div")(10,"button",21),e._UZ(11,"mat-icon",6),e.qZA(),e.TgZ(12,"mat-menu",22,23)(14,"button",24),e.NdJ("click",function(){const g=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.defaultTenantChange(g.id,g.name))}),e._UZ(15,"mat-icon",25),e.TgZ(16,"span",26),e._uU(17),e.ALo(18,"transloco"),e.qZA()(),e.TgZ(19,"button",24),e.NdJ("click",function(){const g=e.CHM(n).$implicit,v=e.oxw();return e.KtG(v.onLeaveWorkspace(g.id))}),e._UZ(20,"mat-icon",27)(21,"span",28),e.qZA()()()(),e.TgZ(22,"div",29)(23,"div",30)(24,"div",31),e._uU(25),e.ALo(26,"transloco"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"transloco"),e.qZA()(),e.TgZ(30,"div",30)(31,"div",31),e._uU(32),e.ALo(33,"transloco"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.ALo(36,"date"),e.qZA()(),e.TgZ(37,"div",32)(38,"div",31),e._uU(39),e.ALo(40,"transloco"),e.qZA(),e.YNc(41,_,3,3,"div",33),e.YNc(42,ee,3,3,"div",34),e.YNc(43,te,3,3,"div",35),e.qZA()()()()}if(2&o){const n=l.$implicit,a=e.MAs(13),c=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(34,ne,"root"===n.id,"root"!==n.id)),e.xp6(4),e.Q6J("nzSrc","https://localhost:5001"+n.logo),e.xp6(2),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("ngIf",c.defaultTenantId===n.id),e.xp6(2),e.Q6J("matMenuTriggerFor",a),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:dots-horizontal"),e.xp6(1),e.Q6J("xPosition","before"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:bookmark"),e.xp6(2),e.hij(" ",e.lcZ(18,21,"message.choseDefaultTenant*"),""),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:arrow-left-on-rectangle"),e.xp6(2),e.Q6J("routerLink",e.VKq(37,oe,n.id)),e.xp6(3),e.hij(" ",e.lcZ(26,23,"workspaces.employee"),""),e.xp6(3),e.lnq("",n.totalPerson,"/",n.maxUser," ",e.lcZ(29,25,"workspaces.people")," "),e.xp6(4),e.hij(" ",e.lcZ(33,27,"workspaces.expirationDate"),""),e.xp6(3),e.Oqu(e.xi3(36,29,n.validUpTo,"dd/MM/yyyy")),e.xp6(4),e.hij(" ",e.lcZ(40,32,"workspaces.status"),""),e.xp6(2),e.Q6J("ngIf","SOON_EXPIRED"===n.tenantStatusId),e.xp6(1),e.Q6J("ngIf","INUSE"===n.tenantStatusId),e.xp6(1),e.Q6J("ngIf","EXPIRED"===n.tenantStatusId)}}const se=[{path:"",component:(()=>{class o{constructor(n,a,c,g,v,ae,le){this._landingComponentsComponent=n,this._workspaceService=a,this._userService=c,this._translocoService=g,this._serManagementService=v,this._fuseConfirmationService=ae,this._ref=le,this._unsubscribeAll=new B.x,this.tenants=[],this.defaultTenantId=null,c.user$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(S=>{this.user=S,this.defaultTenantId=S.defaultTenantId})}toggleDrawer(){this._landingComponentsComponent.matDrawer.toggle()}ngOnInit(){this.initData()}onLeaveWorkspace(n){(0,h.ht)(this._fuseConfirmationService).afterClosed().pipe((0,b.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._workspaceService.deleteMember(n,this.user.id).subscribe(c=>{this.initData()})})}initData(){this._workspaceService.get().pipe((0,b.R)(this._unsubscribeAll)).subscribe(({data:n})=>{this.tenants=[...n],this._ref.detectChanges()})}defaultTenantChange(n,a){n==this.defaultTenantId?(0,h.WD)(this._fuseConfirmationService,"confirm",this._translocoService.translate("message.removeDefaultTenant",{tenantName:a})).afterClosed().subscribe(c=>{"confirmed"===c&&this._serManagementService.edit(this.user.id,{...this.user,defaultTenantId:null}).subscribe(()=>{this.defaultTenantId=null,this._ref.detectChanges()})}):(0,h.WD)(this._fuseConfirmationService,"confirm",this._translocoService.translate("message.choseDefaultTenant",{tenantName:a})).afterClosed().subscribe(c=>{"confirmed"===c&&this._serManagementService.edit(this.user.id,{...this.user,defaultTenantId:n}).subscribe(()=>{console.log(this.defaultTenantId,n),this.defaultTenantId=n,this._ref.detectChanges()})})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(R.m),e.Y36(Y.A),e.Y36(K.K),e.Y36(p.Vn),e.Y36(H.x),e.Y36(V.R),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["workspace-panel"]],decls:15,vars:5,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","items-center","bg-card","border-b","dark:bg-transparent","p-2","sm:py-3","md:px-8"],[1,"flex-1","min-w-0"],[1,""],[1,"text-2xl","md:text-3xl","font-extrabold","truncate"],["mat-icon-button","",1,"-ml-3","sm:ml-0","mb-2","sm:mb-0","order-first","sm:order-last",3,"click"],[3,"svgIcon"],[1,"w-full"],[1,"flex","flex-col","flex-auto","min-w-0","h-full","w-full","justify-center","items-center","sm:items-start"],[1,"flex-auto","w-full","p-4","sm:p-4"],[1,"flex-col","rounded","gap-6","shadow","w-full","p-6","bg-card",2,"min-height","92svh !important"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","xl:grid-cols-4","gap-6","items-center","w-full"],["class","rounded-lg hover:bg-hover flex flex-col  gap-6 w-full bg-white",4,"ngFor","ngForOf"],[1,"rounded-lg","hover:bg-hover","flex","flex-col","gap-6","w-full","bg-white"],[1,"rounded-lg","w-full","justify-start","items-center","border","z-10","relative",3,"ngClass"],[1,"w-full","flex","justify-between","gap-4","bg-zinc-50","border-b","items-center","p-4","rounded-t-lg"],[1,"h-18","flex","flex-1","gap-3","items-center","p-2"],[1,"flex","gap-3","bg-white","rounded","p-2","border","border-zinc-200"],["nz-image","",1,"w-10","h-10",3,"nzSrc"],[1,"max-w-64","text-lg","font-bold","font-inter","leading-7","break-words","whitespace-normal"],["class","icon-size-5 text-primary",3,"svgIcon","matTooltip",4,"ngIf"],["mat-icon-button","",1,"relative","z-20",3,"matMenuTriggerFor"],[3,"xPosition"],["userActions","matMenu"],["mat-menu-item","",3,"click"],[1,"text-primary-600",3,"svgIcon"],[1,"text-primary-600"],[1,"text-red-600",3,"svgIcon"],["transloco","workspace.leave",1,"text-red-600"],[1,"flex","flex-col","cursor-pointer",3,"routerLink"],[1,"flex","justify-between","p-3","m-2","border-b"],[1,"font-sans","text-base","font-normal","leading-5","text-left","text-gray-500"],[1,"flex","justify-between","p-3","m-2"],["class","inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-sm font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20",4,"ngIf"],["class","inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-sm font-medium text-green-700 ring-1 ring-inset ring-green-600/20",4,"ngIf"],["class","inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-sm font-medium text-red-700 ring-1 ring-inset ring-red-600/10",4,"ngIf"],[1,"icon-size-5","text-primary",3,"svgIcon","matTooltip"],[1,"inline-flex","items-center","rounded-md","bg-yellow-50","px-2","py-1","text-sm","font-medium","text-yellow-800","ring-1","ring-inset","ring-yellow-600/20"],[1,"inline-flex","items-center","rounded-md","bg-green-50","px-2","py-1","text-sm","font-medium","text-green-700","ring-1","ring-inset","ring-green-600/20"],[1,"inline-flex","items-center","rounded-md","bg-red-50","px-2","py-1","text-sm","font-medium","text-red-700","ring-1","ring-inset","ring-red-600/10"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.ALo(6,"transloco"),e.qZA()()(),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.toggleDrawer()}),e._UZ(8,"mat-icon",6),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),e.YNc(14,ie,44,39,"div",12),e.qZA()()()()()()),2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,3,"nav.organization")," "),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(6),e.Q6J("ngForOf",a.tenants))},dependencies:[y.rH,i.RK,Z.Hw,s.mk,s.sg,s.O5,p.KI,G.Ie,T.VK,T.OP,T.p6,X.gM,$.F,s.uU,p.Ot],encapsulation:2}),o})()}];let re=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:f.WI,useValue:{}},{provide:f.so,useValue:{}},{provide:A.u7,useValue:A.iF}],imports:[y.Bz.forChild(se),E.Xo,i.ot,I.To,z.lN,Z.Ps,D.c,k.LD,r.p9,F.Nh,f.Is,C.w,m.QW,w.Co,U.c,s.ez,O.Wr,j.PV,C.w,u.u5,L.m,P.SJ,M.Fk,W.rP,Q.n,p.y4,J.F,N.G]}),o})()}}]);