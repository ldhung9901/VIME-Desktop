"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[276],{54276:(Nt,B,r)=>{r.r(B),r.d(B,{OrganizationModule:()=>Lt});var m=r(44755),oe=r(33770),e=r(22223),h=r(39401),_=r(51728),ae=r(86012),j=r(11292),w=r(1217),re=r(98280),O=r(25580),le=r(87870),y=r(99114),A=r(430),Q=r(69609),ce=r(17406),H=r(68467),P=r(44867),ue=r(50787),U=r(62214),J=r(50877),me=r(13617),de=r(83649),W=r(31531),u=r(30430),R=r(86380),ge=r(16243),pe=r(15276),fe=r(73496),Z=r(22497),he=r(23697),x=r(58016),_e=r(76238),ve=r(33231),Ce=r(74473),$=r(61717),G=r(81981),S=r(77579),be=r(61135),V=r(54968),c=r(82722),X=r(78372),I=r(37495),xe=r(33601),d=r(82004),T=r(96119),M=r(28746),ee=r(87016),te=r(1215),v=r(71683),q=r(20054),Se=r(32202),ne=r(47148),L=r(90504);function Ae(i,a){1&i&&(e.TgZ(0,"span",40),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"system.notConfirmed")))}function ye(i,a){1&i&&(e.TgZ(0,"span",40),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"system.confirmed")))}const Ze=function(i,a){return{"bg-green-200 text-green-800 ":i,"bg-yellow-200 text-yellow-800 ":a}};function Te(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr",27)(1,"td")(2,"div",28),e._uU(3),e.qZA()(),e.TgZ(4,"td",24),e._UZ(5,"nz-avatar",29),e.qZA(),e.TgZ(6,"td")(7,"div",30),e._uU(8),e.qZA()(),e.TgZ(9,"td")(10,"div",30),e._uU(11),e.qZA()(),e.TgZ(12,"td",24)(13,"span",31),e.YNc(14,Ae,3,3,"span",32),e.YNc(15,ye,3,3,"span",32),e.qZA()(),e.TgZ(16,"td",33)(17,"mat-checkbox",34),e.NdJ("ngModelChange",function(s){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.updateTenantAdmin(l.id,s))}),e.qZA()(),e.TgZ(18,"td")(19,"cm-select",35),e.NdJ("modelChange",function(s){const l=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.updateRole(l.id,s))}),e.qZA()(),e.TgZ(20,"td")(21,"div",36)(22,"div",37)(23,"button",38),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteMember(o.id))}),e._UZ(24,"mat-icon",39),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index,s=e.oxw(),o=e.MAs(24);e.xp6(3),e.Oqu((o.nzPageIndex-1)*o.nzPageSize+n+1),e.xp6(2),e.Q6J("nzSrc",t.imageUrl),e.xp6(3),e.Oqu(t.fullName),e.xp6(3),e.hij(" ",t.email," "),e.xp6(2),e.Q6J("ngClass",e.WLB(12,Ze,t.isEmailConfirmed,!t.isEmailConfirmed)),e.xp6(1),e.Q6J("ngIf",!t.isEmailConfirmed),e.xp6(1),e.Q6J("ngIf",t.isEmailConfirmed),e.xp6(2),e.Q6J("disabled",!1)("ngModel",t.isTenantAdmin),e.xp6(2),e.Q6J("model",t.roleId)("listData",s.roles),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:trash")}}let we=(()=>{class i{constructor(t,n,s,o,l,g){this._workSpaceService=t,this._roleService=n,this._fuseConfirmationService=s,this._currentTenantService=o,this.translocoService=l,this._notification=g,this.members=[],this.isLoading=!1,this.roles=[],this.tenantId=null,this.isInviteLinkActive=!1,this.inviteLink="",this.debounce$=new S.x,this._unsubscribeAll=new S.x}ngOnInit(){this._currentTenantService.tenant$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.isInviteLinkActive=t.isInviteLinkActive,this.inviteLink=t.inviteLink,this.isLoading=!0,this._workSpaceService.getMembers(t.id).pipe((0,c.R)(this._unsubscribeAll),(0,M.x)(()=>this.isLoading=!1)).subscribe(n=>this.members=n.data),this.tenantId=t.id,this._roleService.get().pipe((0,c.R)(this._unsubscribeAll)).subscribe(n=>{this.roles=n.data.map(s=>({id:s.roleId,name:s.roleName,description:s.roleDescription}))})}),this.onFilterMembers()}onFilterMembers(){this.isLoading=!0,this.debounce$.pipe((0,X.b)(150),(0,c.R)(this._unsubscribeAll)).subscribe(()=>{this._workSpaceService.getMembers(this.tenantId,this.email).pipe((0,c.R)(this._unsubscribeAll),(0,M.x)(()=>this.isLoading=!1)).subscribe(t=>this.members=t.data)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}trackByFn(t,n){return n.id||t}copyInviteLink(){navigator.clipboard.writeText(this.inviteLink)}updateRole(t,n){this._roleService.editUserRole({roleId:n,userId:t}).pipe((0,c.R)(this._unsubscribeAll)).subscribe()}updateTenantAdmin(t,n){this._workSpaceService.updateAdmin(this.tenantId,{isAdmin:n,userId:t}).pipe((0,c.R)(this._unsubscribeAll)).subscribe()}onClickActiveInviteLink(){this.isLoading=!0,this._workSpaceService.activeInviteLink(this.tenantId,this.isInviteLinkActive).subscribe(t=>{this.isLoading=!1})}addMember(){(0,T.vV)(this.email)?this._workSpaceService.addMember(this.tenantId,this.email).subscribe(t=>{this.email=null,this.isLoading=!0,this._workSpaceService.getMembers(this.tenantId).pipe((0,c.R)(this._unsubscribeAll),(0,M.x)(()=>this.isLoading=!1)).subscribe(n=>this.members=n.data)}):this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("message.emailInvalid"),{nzDuration:2e3})}deleteMember(t){(0,d.ht)(this._fuseConfirmationService).afterClosed().subscribe(n=>{"confirmed"===n&&(this.isLoading=!0,this._workSpaceService.deleteMember(this.tenantId,t).subscribe(s=>{this._workSpaceService.getMembers(this.tenantId).pipe((0,c.R)(this._unsubscribeAll),(0,M.x)(()=>this.isLoading=!1)).subscribe(o=>this.members=o.data)}))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ee.A),e.Y36(te.N),e.Y36(v.R),e.Y36(q.g),e.Y36(u.Vn),e.Y36(Se.zb))},i.\u0275cmp=e.Xpm({type:i,selectors:[["team-configuration"]],decls:51,vars:37,consts:[[1,"w-full"],[1,"bg-card","p-6","rounded-md","shadow","space-y-6"],[1,"flex-col","flex","sm:flex-row","sm:justify-between"],[1,"flex","flex-col","w-full","h-full"],[1,"flex","gap-4","flex-col","md:flex-row","justify-start"],[1,"flex-1"],[1,"fuse-mat-no-subscript","w-full",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"ngModel","placeholder","keyup.enter","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"flex-1","flex","flex-col","md:flex-row"],[1,"flex-1","items-center"],[3,"model","actionEnum","isDisableLength"],[1,"flex-1","flex","space-x-2","ml-2"],["mat-flat-button","","color","primary",1,"flex","items-center",3,"click"],["transloco","copy",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"flex","pt-2","justify-end","w-full"],[1,"text-base","leading-6","font-medium","text-primary-600"],[1,"ml-4",3,"color","ngModel","click","ngModelChange"],["nzShowSizeChanger","","nzBordered","",3,"nzLoading","nzData"],["basicTable",""],["nzAlign","center","nzWidth","70px"],["nzAlign","center","nzWidth","100px"],["nzAlign","center"],["nzWidth","100px"],["class","hover:cursor-pointer",4,"ngFor","ngForOf"],[1,"hover:cursor-pointer"],[1,"h-full","flex","justify-center","items-center"],["nzIcon","user",1,"w-8",3,"nzSrc"],[1,""],[1,"inline-flex","items-center","rounded-full","px-2.5","py-0.5","text-xs","font-bold","uppercase","tracking-wide",3,"ngClass"],["class","whitespace-nowrap leading-relaxed",4,"ngIf"],["nzAlign","center",1,"max-w-24"],["color","primary",3,"disabled","ngModel","ngModelChange"],[3,"model","listData","modelChange"],[1,"flex","items-center","mt-4","sm:mt-0","sm:ml-auto"],[1,"order-1","sm:order-2","sm:ml-3"],["mat-icon-button","",3,"click"],[1,"text-red-500",3,"svgIcon"],[1,"whitespace-nowrap","leading-relaxed"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-form-field",6),e._UZ(7,"mat-icon",7),e.TgZ(8,"input",8),e.NdJ("keyup.enter",function(){return n.addMember()})("ngModelChange",function(o){return n.email=o,n.debounce$.next()}),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return n.addMember()}),e._UZ(10,"mat-icon",10),e.qZA()()(),e.TgZ(11,"div",11)(12,"div",12),e._UZ(13,"cm-input",13),e.qZA()(),e.TgZ(14,"div",14)(15,"button",15),e.NdJ("click",function(){return n.copyInviteLink()}),e._UZ(16,"label",16),e.qZA(),e.TgZ(17,"div",17)(18,"label",18),e._uU(19),e.ALo(20,"transloco"),e.qZA(),e.TgZ(21,"mat-slide-toggle",19),e.NdJ("click",function(){return n.onClickActiveInviteLink()})("ngModelChange",function(o){return n.isInviteLinkActive=o}),e.qZA()()()()()(),e.TgZ(22,"div")(23,"nz-table",20,21)(25,"thead")(26,"tr")(27,"th",22),e._uU(28),e.ALo(29,"transloco"),e.qZA(),e.TgZ(30,"th",23),e._uU(31),e.ALo(32,"transloco"),e.qZA(),e.TgZ(33,"th"),e._uU(34),e.ALo(35,"transloco"),e.qZA(),e.TgZ(36,"th"),e._uU(37),e.ALo(38,"transloco"),e.qZA(),e.TgZ(39,"th",24),e._uU(40),e.ALo(41,"transloco"),e.qZA(),e.TgZ(42,"th",24),e._uU(43),e.ALo(44,"transloco"),e.qZA(),e.TgZ(45,"th",24),e._uU(46),e.ALo(47,"transloco"),e.qZA(),e._UZ(48,"th",25),e.qZA()(),e.TgZ(49,"tbody"),e.YNc(50,Te,25,15,"tr",26),e.qZA()()()()()),2&t){const s=e.MAs(24);e.xp6(6),e.Q6J("floatLabel","always"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:user"),e.xp6(1),e.Q6J("ngModel",n.email)("placeholder","Email"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(3),e.Q6J("model",n.inviteLink)("actionEnum","view")("isDisableLength",!0),e.xp6(6),e.Oqu(e.lcZ(20,21,"system.inviteLink")),e.xp6(2),e.Q6J("color","primary")("ngModel",n.isInviteLinkActive),e.xp6(2),e.Q6J("nzLoading",n.isLoading)("nzData",n.members),e.xp6(5),e.Oqu(e.lcZ(29,23,"master.no")),e.xp6(3),e.Oqu(e.lcZ(32,25,"master.image")),e.xp6(3),e.Oqu(e.lcZ(35,27,"com.userName")),e.xp6(3),e.Oqu(e.lcZ(38,29,"system.email")),e.xp6(3),e.Oqu(e.lcZ(41,31,"system.emailStatus")),e.xp6(3),e.Oqu(e.lcZ(44,33,"system.tenantAdmin")),e.xp6(3),e.Oqu(e.lcZ(47,35,"system.role")),e.xp6(4),e.Q6J("ngForOf",s.data)}},dependencies:[_.lW,_.RK,y.KE,y.qo,y.R9,A.Hw,Q.Nt,j.oG,ne.f,L.W,m.mk,m.sg,m.O5,u.KI,R.Dz,h.Fj,h.JJ,h.On,x.N8,x.Uo,x._C,x.Om,x.p0,x.$Z,x.UX,J.Rr,u.Ot],encapsulation:2}),i})();var Me=r(18657);let Le=(()=>{class i{constructor(t,n,s,o,l){this._workspaceService=t,this._roleService=n,this._fuseConfirmationService=s,this._currentTenantService=o,this._ref=l,this.tenant={adminEmail:null,maxUser:10,description:null,id:null,isActive:!1,issuer:null,logo:null,storageQuota:0,storageUsed:0,totalPerson:null,name:null,validUpTo:null},this._unsubscribeAll=new S.x}ngOnInit(){this._currentTenantService.tenant$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.tenant=t,this.tenantClone={...this.tenant}})}onUpdate(){this._workspaceService.update(this.tenant.id,{email:this.tenant.adminEmail,name:this.tenant.name,description:this.tenant.description}).pipe((0,c.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.tenant=t,this.tenantClone={...t}})}ngOnDestroy(){this._currentTenantService._currentTenant.next({...this.tenantClone}),this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ee.A),e.Y36(te.N),e.Y36(v.R),e.Y36(q.g),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tenant-information"]],decls:31,vars:20,consts:[[1,"w-full","max-w-3xl"],[1,"w-full"],[1,"text-xl"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-4"],[1,"flex","gap-3","bg-white","rounded","p-2","border","border-zinc-200","max-w-32"],[1,"",3,"src"],[1,"sm:col-span-4"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","cdkTextareaAutosize","",3,"ngModel","cdkAutosizeMinRows","ngModelChange"],[1,"sm:col-span-2"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Logo"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"img",5),e.qZA(),e.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e._UZ(12,"mat-icon",8),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(o){return n.tenant.name=o}),e.qZA()()(),e.TgZ(14,"div",6)(15,"mat-form-field",7)(16,"mat-label"),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.TgZ(19,"textarea",10),e.NdJ("ngModelChange",function(o){return n.tenant.description=o}),e.qZA()()(),e.TgZ(20,"div",11)(21,"mat-form-field",7)(22,"mat-label"),e._uU(23,"Email"),e.qZA(),e._UZ(24,"mat-icon",8),e.TgZ(25,"input",9),e.NdJ("ngModelChange",function(o){return n.tenant.adminEmail=o}),e.qZA()()()(),e._UZ(26,"div",12),e.TgZ(27,"div",13)(28,"button",14),e.NdJ("click",function(){return n.onUpdate()}),e._uU(29),e.ALo(30,"transloco"),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("src",n.tenant.logo,e.LSH),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(11,14,"system.workspace")),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:building-office-2"),e.xp6(1),e.Q6J("ngModel",n.tenant.name),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(2),e.Oqu(e.lcZ(18,16,"system.tenantDescription")),e.xp6(2),e.Q6J("ngModel",n.tenant.description)("cdkAutosizeMinRows",5),e.xp6(2),e.Q6J("subscriptSizing","dynamic"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:envelope"),e.xp6(1),e.Q6J("ngModel",n.tenant.adminEmail),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.hij("",e.lcZ(30,18,"save")," "))},dependencies:[_.lW,y.KE,y.hX,y.qo,A.Hw,Q.Nt,Me.IC,h.Fj,h.JJ,h.On,u.Ot],encapsulation:2}),i})();var Ne=r(63900),Oe=r(39646),Ue=r(70262),Je=r(62843),Ie=r(54244),ke=r(92369),Qe=r(95702),ie=r(99286),Pe=r(12494);const Re=["uploadImage"];function qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"fuse-alert",28)(1,"span",29),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e._uU(4),e.ALo(5,"transloco"),e.TgZ(6,"span",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendConfirmMail())}),e.qZA()()}2&i&&(e.Q6J("type","warning"),e.xp6(2),e.Oqu(e.lcZ(3,3,"warning")),e.xp6(2),e.hij(" ",e.lcZ(5,5,"warning.emailNotConfirmed")," "))}let ze=(()=>{class i{constructor(t,n,s,o,l,g,C,b,p){this._fuseConfirmationService=t,this._translocoService=n,this._userService=s,this._uploadService=o,this._changeDetectorRef=l,this._systemLanguageService=g,this._userManagementService=C,this.i18n=b,this._adapter=p,this.user={id:"",userName:"",fullName:"",isActive:!0,isDelete:!1,phoneNumber:"",email:"",defaultLanguage:""},this._unsubscribeAll=new S.x,this.availableLangs=[]}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}initUploadFile(){this.uploadImageElement&&(0,V.R)(this.uploadImageElement.nativeElement,"input").pipe((0,c.R)(this._unsubscribeAll),(0,Ne.w)(t=>{const s=t.target.files;return s.length?this._uploadService.upLoadFile(s[0]).pipe((0,Ue.K)(l=>(0,Je._)(()=>l))):(0,Oe.of)()}),(0,Ie.n)(t=>!t)).subscribe(({data:t})=>{this.user.imageUrl=t,this._changeDetectorRef.detectChanges()})}ngOnInit(){this.availableLangs=this._translocoService.getAvailableLangs().map(t=>({id:t.id,name:t.label})),this.getUserInfo(),this.initUploadFile()}getUserInfo(){this._userService.user$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t}),this._translocoService.langChanges$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.activeLang=t})}setActiveLang(t){switch(this._translocoService.setActiveLang(t),t){case"vi":this.i18n.setLocale(Z.L$),this._adapter.setLocale("vi");break;case"en":this.i18n.setLocale(Z.iF),this._adapter.setLocale("es");break;case"tw":this.i18n.setLocale(Z.uS),this._adapter.setLocale("cn")}this._userService.user$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(n=>this._systemLanguageService.updateUserLanguage(n.id,t).subscribe()),this._translocoService.setActiveLang(t)}trackByFn(t,n){return n.id||t}onClickCancel(){(0,d.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{t&&this.getUserInfo()})}onClickSubmit(){if(this.req=this.user,null===this.user.defaultLanguage)return(0,d.CK)(this._fuseConfirmationService,this._translocoService.translate("message.mustInputRequired"));this._userManagementService.edit(this.req.id,this.req).pipe((0,c.R)(this._unsubscribeAll)).subscribe({error:t=>{(0,d.CK)(this._fuseConfirmationService,this._translocoService.translate("message.error")),this.getUserInfo()},complete:()=>{this._userService.user={...this.req}}})}sendConfirmMail(){this._userManagementService.sendEmailConfirm(this.user.id).pipe((0,c.R)(this._unsubscribeAll)).subscribe()}onRemoveImage(){this.user.imageUrl=null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.R),e.Y36(u.Vn),e.Y36(I.K),e.Y36(ke.C),e.Y36(e.sBO),e.Y36(Qe.T),e.Y36(ie.x),e.Y36(Z.wi),e.Y36(w._A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["user-settings"]],viewQuery:function(t,n){if(1&t&&e.Gf(Re,7),2&t){let s;e.iGM(s=e.CRH())&&(n.uploadImageElement=s.first)}},decls:55,vars:40,consts:[[1,"w-full","max-w-3xl"],[1,"space-y-8","pb-3"],[1,""],[1,"text-2xl","font-medium"],[1,"text-slate-500","mb-4"],[1,"w-full","flex-col"],[1,"pb-3","flex","justify-center"],[1,"rounded-full","bg-accent-400","w-32","h-32","relative","overflow-hidden","group"],["alt","",1,"w-full","h-full","bg-center",3,"src"],[1,"invisible","group-hover:visible","bg-accent","opacity-50","absolute","inset-0","z-30"],[1,"invisible","group-hover:visible","absolute","inset-0","z-40","flex","gap-2.5","items-center","justify-center"],["svgIcon","heroicons_outline:camera",1,"text-slate-200","hover:text-slate-50","cursor-pointer",3,"click"],["svgIcon","heroicons_outline:trash",1,"text-slate-200","hover:text-slate-50","cursor-pointer",3,"click"],["accept","image/*","type","file",1,"hidden"],["uploadImage",""],["actionEnum","view","type","text","isDisableLength","true",3,"model","label","modelChange"],[1,"text-slate-500","mb-4","mt-2"],["type","text","isDisableLength","true",3,"model","label","modelChange"],[1,"my-10","border-t"],[1,"space-y-2"],[3,"type",4,"ngIf"],[1,"w-full","flex","space-x-2"],[1,"flex-1"],["type","text","isDisableLength","true",3,"model","label","actionEnum","modelChange"],["isDisableLength","true",3,"isRequired","listData","model","label","modelChange"],[1,"flex","space-x-2","justify-end"],["mat-flat-button","","color","primary",3,"click"],["transloco","save",1,"text-base","leading-6","font-medium","cursor-pointer"],[3,"type"],["fuseAlertTitle",""],["transloco","system.sendAgain",1,"underline","text-primary","cursor-pointer",3,"click"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.ALo(8,"transloco"),e.qZA()(),e.TgZ(9,"div",5)(10,"div",6)(11,"div",7),e._UZ(12,"img",8)(13,"div",9),e.TgZ(14,"div",10)(15,"mat-icon",11),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(18);return e.KtG(l.click())}),e.qZA(),e.TgZ(16,"mat-icon",12),e.NdJ("click",function(){return n.onRemoveImage()}),e.qZA(),e._UZ(17,"input",13,14),e.qZA()()(),e.TgZ(19,"div")(20,"cm-input",15),e.NdJ("modelChange",function(l){return n.user.userName=l}),e.ALo(21,"transloco"),e.qZA()(),e.TgZ(22,"div",16),e._uU(23),e.ALo(24,"transloco"),e.qZA()(),e.TgZ(25,"div",5)(26,"div")(27,"cm-input",17),e.NdJ("modelChange",function(l){return n.user.fullName=l}),e.ALo(28,"transloco"),e.qZA()()()(),e._UZ(29,"div",18),e.TgZ(30,"div",19)(31,"div")(32,"div",3),e._uU(33),e.ALo(34,"transloco"),e.qZA(),e.TgZ(35,"div",4),e._uU(36),e.ALo(37,"transloco"),e.qZA()(),e.YNc(38,qe,7,7,"fuse-alert",20),e.TgZ(39,"div",21)(40,"div",22)(41,"cm-input",23),e.NdJ("modelChange",function(l){return n.user.email=l}),e.ALo(42,"transloco"),e.qZA()(),e.TgZ(43,"div",22)(44,"cm-input",17),e.NdJ("modelChange",function(l){return n.user.phoneNumber=l}),e.ALo(45,"transloco"),e.qZA()()(),e.TgZ(46,"div",21)(47,"div",22)(48,"cm-select",24),e.NdJ("modelChange",function(l){return n.user.defaultLanguage=l}),e.ALo(49,"transloco"),e.qZA()(),e._UZ(50,"div",22),e.qZA()(),e._UZ(51,"div",18),e.TgZ(52,"div",25)(53,"button",26),e.NdJ("click",function(){return n.onClickSubmit()}),e._UZ(54,"label",27),e.qZA()()()}2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,20,"system.profile"),""),e.xp6(3),e.hij(" ",e.lcZ(8,22,"system.profileDescription")," "),e.xp6(5),e.Q6J("src",n.user.imageUrl,e.LSH),e.xp6(8),e.Q6J("model",n.user.userName)("label",e.lcZ(21,24,"system.userName")),e.xp6(3),e.hij(" ",e.lcZ(24,26,"system.userNameDescription")," "),e.xp6(4),e.Q6J("model",n.user.fullName)("label",e.lcZ(28,28,"system.fullName")),e.xp6(6),e.hij(" ",e.lcZ(34,30,"nav.personalInformation"),""),e.xp6(3),e.hij(" ",e.lcZ(37,32,"system.personalInformationDescription")," "),e.xp6(2),e.Q6J("ngIf",!n.user.isEmailConfirmed),e.xp6(3),e.Q6J("model",n.user.email)("label",e.lcZ(42,34,"system.email"))("actionEnum","view"),e.xp6(3),e.Q6J("model",n.user.phoneNumber)("label",e.lcZ(45,36,"system.phoneNumber")),e.xp6(4),e.Q6J("isRequired",!0)("listData",n.availableLangs)("model",n.user.defaultLanguage)("label",e.lcZ(49,38,"system.language")))},dependencies:[_.lW,A.Hw,ne.f,L.W,m.O5,Pe.W,u.KI,u.Ot],encapsulation:2}),i})();var De=r(98735),Fe=r(17489),k=r(3144),N=r(15861),z=r(95698),D=r(49808);const F=(i,a="")=>{if("string"==typeof i){i=i.replace(/-/g,"+").replace(/_/g,"/");for(var t=window.atob(i),n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);i=n}if(Array.isArray(i)&&(i=new Uint8Array(i)),i instanceof Uint8Array&&(i=i.buffer),!(i instanceof ArrayBuffer))throw new TypeError("could not coerce '"+a+"' to ArrayBuffer");return i},Y=i=>{if(Array.isArray(i)&&(i=Uint8Array.from(i)),i instanceof ArrayBuffer&&(i=new Uint8Array(i)),i instanceof Uint8Array){for(var a="",t=i.byteLength,n=0;n<t;n++)a+=String.fromCharCode(i[n]);i=window.btoa(a)}if("string"!=typeof i)throw new Error("could not coerce to string");return i.replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/g,"")};let Ye=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}handleRegisterSubmit(t,n){var s=this;return(0,N.Z)(function*(){if(!/^\S+@\S+\.\S+$/.test(t)){let f="Invalid username";return(0,d.OJ)(s._fuseConfirmationService,"error","error.pleaseUsingValidEmail"),void console.error(f)}var b=new FormData;let p,K;b.append("username",t),b.append("displayName",n),b.append("attType","none"),b.append("authType",""),b.append("userVerification","required"),b.append("requireResidentKey",!1);try{p=yield s.fetchMakeCredentialOptions(b)}catch(f){console.error(f)}console.log("Credential Options Object",p),p.challenge=F(p.challenge),p.user.id=F(p.user.id),p.excludeCredentials=p.excludeCredentials.map(f=>(f.id=F(f.id),f)),null===p.authenticatorSelection.authenticatorAttachment&&(p.authenticatorSelection.authenticatorAttachment=void 0),console.log("Credential Options Formatted",p),console.log("Creating PublicKeyCredential...");try{K=yield navigator.credentials.create({publicKey:p})}catch(f){throw console.log(f.message),f.message.includes("timed out or was not allowed")?(0,d.OJ)(s._fuseConfirmationService,"error","error.passkeyTimeOut"):(0,d.OJ)(s._fuseConfirmationService,"error","error.deviceIsAlreadyHavePasskey"),f}console.log("PublicKeyCredential Created",K);try{yield s.registerNewCredential(K)}catch(f){console.error(f)}})()}fetchMakeCredentialOptions(t){var n=this;return(0,N.Z)(function*(){let s=n._httpClient.post("/api/passkeys/make-credential-options",t).pipe((0,z.q)(1));return yield(0,D.n)(s)})()}deleteAllCredential(t){var n=this;return(0,N.Z)(function*(){let s=n._httpClient.delete("/api/passkeys").pipe((0,z.q)(1));return yield(0,D.n)(s)})()}registerNewCredential(t){var n=this;return(0,N.Z)(function*(){let s=new Uint8Array(t.response.attestationObject),o=new Uint8Array(t.response.clientDataJSON),l=new Uint8Array(t.rawId);const g={id:t.id,rawId:Y(l),type:t.type,extensions:t.getClientExtensionResults(),response:{AttestationObject:Y(s),clientDataJson:Y(o)}};let C;try{C=yield n.registerCredentialWithServer(g)}catch{console.error("success")}if(console.log("Credential Object",C),"ok"!==C.status)return console.log("Error creating credential"),void console.log(C.errorMessage);console.log("success")})()}registerCredentialWithServer(t){var n=this;return(0,N.Z)(function*(){let s=n._httpClient.post("/api/passkeys/make-credential",t).pipe((0,z.q)(1));return yield(0,D.n)(s)})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k.eN),e.Y36(v.R))},i.\u0275cmp=e.Xpm({type:i,selectors:[["fido2-sign-up"]],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();var E=r(92300);const Ee=["fido2"];function Ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"nz-list-item")(1,"div",27)(2,"span",28),e._uU(3),e.qZA(),e.TgZ(4,"button",29),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteKey(o.key))}),e._UZ(5,"mat-icon",30),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(3),e.Oqu(t.deviceName),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:trash")}}function Be(i,a){if(1&i&&(e.TgZ(0,"nz-list",25),e.YNc(1,Ke,6,2,"nz-list-item",26),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.devices)}}let je=(()=>{class i{constructor(t,n,s,o,l,g,C){this._dialog=t,this._fuseConfirmationService=n,this._changeDetectorRef=s,this._translocoService=o,this._httpClient=l,this._userService=g,this._userManagementService=C,this.changePasswordReq={oldPassword:"",newPassword:"",confirmPassword:""},this.devices=[],this._unsubscribeAll=new S.x}getKeys(){this._httpClient.get("api/passkeys").pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.devices=[...t],this._changeDetectorRef.detectChanges()})}deleteKey(t){(0,d.ht)(this._fuseConfirmationService).afterClosed().subscribe(n=>{"confirmed"===n&&this._httpClient.delete(`api/passkeys/${t}`).pipe((0,c.R)(this._unsubscribeAll)).subscribe(s=>{this.getKeys(),this._changeDetectorRef.detectChanges(),(0,d.Hh)(this._fuseConfirmationService)})})}ngOnInit(){this.getKeys(),this._userService.user$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.user=(0,Fe.cloneDeep)(t)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onClickCancel(){(0,d.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{"confirmed"===t&&(this.changePasswordReq={oldPassword:"",newPassword:"",confirmPassword:""})})}onClickSubmit(){this.changePassword()}changePassword(){this._userManagementService.changePassword(this.user.id,this.changePasswordReq).subscribe(t=>{})}enablePasswordLessLogin(t){t?t&&(this.fido2.handleRegisterSubmit(this.user.userName,this.user.fullName).then(()=>{this.user.isPasswordLess=!0,this.getKeys(),this._changeDetectorRef.detectChanges(),this._userService.user=this.user}).catch(n=>{this.user.isPasswordLess=!1,this.getKeys(),this._changeDetectorRef.detectChanges(),console.error(n)}),this.user.isPasswordLess=!1):((0,d.ht)(this._fuseConfirmationService).afterClosed().subscribe(n=>{"confirmed"===n?this.fido2.deleteAllCredential(this.user.id).then(()=>{this.user.isPasswordLess=!1,this.getKeys(),this._changeDetectorRef.detectChanges(),this._userService.user=this.user}):"cancelled"===n&&(this.user.isPasswordLess=!0,this.getKeys(),this._changeDetectorRef.detectChanges())}),this.user.isPasswordLess=!0)}open2faPopup(t){this._dialog.open(De.Y,{data:{id:this.user.id,userName:this.user.userName,isDelete:this.user.isDelete,isActive:this.user.isActive,email:this.user.email,fullName:this.user.fullName}}).afterClosed().subscribe(()=>{})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.uw),e.Y36(v.R),e.Y36(e.sBO),e.Y36(u.Vn),e.Y36(k.eN),e.Y36(I.K),e.Y36(ie.x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["security-settings"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ee,5),2&t){let s;e.iGM(s=e.CRH())&&(n.fido2=s.first)}},decls:53,vars:35,consts:[[1,"w-full","max-w-3xl"],[1,"space-y-8","pb-3"],[1,"text-xl","font-medium"],[1,"text-slate-500","mb-4"],[1,"w-full","flex-col","space-y-3"],[1,"flex-1"],["type","password","isDisableLength","true",3,"model","label","modelChange"],[1,"text-slate-500","mb-4","mt-2"],[1,"flex","space-x-2","justify-end"],["mat-flat-button","",1,"bg-slate-200",3,"click"],["transloco","cancel",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"click"],["transloco","save",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"my-10","border-t"],[1,"space-y-2"],[1,"w-full","mt-4"],[1,"flex-auto","cursor-pointer"],[1,"text-lg","font-medium"],[1,"flex","items-center","justify-between"],[1,"text-slate-500"],["color","primary",1,"ml-4",3,"ngModel","ngModelChange"],["nzBordered","","class","bg-card mt-4",4,"ngIf"],["mat-flat-button","","color","primary",1,"mt-2",3,"click"],["transloco","add",1,"text-base","leading-6","font-medium","cursor-pointer"],["fido2",""],["nzBordered","",1,"bg-card","mt-4"],[4,"ngFor","ngForOf"],[1,"w-full","flex","flex-row","justify-between","items-center"],[1,"flex-grow"],["mat-icon-button","",3,"click"],[1,"text-red-500",3,"svgIcon"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",3),e._uU(7),e.ALo(8,"transloco"),e.qZA()(),e.TgZ(9,"div",4)(10,"div",5)(11,"cm-input",6),e.NdJ("modelChange",function(o){return n.changePasswordReq.oldPassword=o}),e.ALo(12,"transloco"),e.qZA()(),e.TgZ(13,"div",5)(14,"cm-input",6),e.NdJ("modelChange",function(o){return n.changePasswordReq.newPassword=o}),e.ALo(15,"transloco"),e.qZA(),e.TgZ(16,"div",7),e._uU(17),e.ALo(18,"transloco"),e.qZA()(),e.TgZ(19,"div",5)(20,"cm-input",6),e.NdJ("modelChange",function(o){return n.changePasswordReq.confirmPassword=o}),e.ALo(21,"transloco"),e.qZA()()()(),e.TgZ(22,"div",8)(23,"button",9),e.NdJ("click",function(){return n.onClickCancel()}),e._UZ(24,"label",10),e.qZA(),e.TgZ(25,"button",11),e.NdJ("click",function(){return n.onClickSubmit()}),e._UZ(26,"label",12),e.qZA()(),e._UZ(27,"div",13),e.TgZ(28,"div",14)(29,"div")(30,"div")(31,"div",2),e._uU(32),e.ALo(33,"transloco"),e.qZA(),e.TgZ(34,"div",3),e._uU(35),e.ALo(36,"transloco"),e.qZA()(),e.TgZ(37,"div")(38,"div",15)(39,"div",16)(40,"div",17),e._uU(41),e.ALo(42,"transloco"),e.qZA(),e.TgZ(43,"div",18)(44,"div",19),e._uU(45),e.ALo(46,"transloco"),e.qZA(),e.TgZ(47,"mat-slide-toggle",20),e.NdJ("ngModelChange",function(o){return n.enablePasswordLessLogin(o)})("ngModelChange",function(o){return n.user.isPasswordLess=o}),e.qZA()(),e.YNc(48,Be,2,1,"nz-list",21),e.TgZ(49,"button",22),e.NdJ("click",function(){return n.enablePasswordLessLogin(!0)}),e._UZ(50,"label",23),e.qZA()()()()()()(),e._UZ(51,"fido2-sign-up",null,24)),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,15,"system.chgPass"),""),e.xp6(3),e.hij(" ",e.lcZ(8,17,"system.chgPassDescription")," "),e.xp6(4),e.Q6J("model",n.changePasswordReq.oldPassword)("label",e.lcZ(12,19,"system.oldPassword")),e.xp6(3),e.Q6J("model",n.changePasswordReq.newPassword)("label",e.lcZ(15,21,"system.newPassword")),e.xp6(3),e.hij(" ",e.lcZ(18,23,"system.newPasswordDescription")," "),e.xp6(3),e.Q6J("model",n.changePasswordReq.confirmPassword)("label",e.lcZ(21,25,"system.confirmPassword")),e.xp6(12),e.hij(" ",e.lcZ(33,27,"nav.security")," "),e.xp6(3),e.hij(" ",e.lcZ(36,29,"system.securityDescription")," "),e.xp6(6),e.Oqu(e.lcZ(42,31,"system.passwordLessLogin")),e.xp6(4),e.hij(" ",e.lcZ(46,33,"system.enabled")," "),e.xp6(2),e.Q6J("ngModel",n.user.isPasswordLess),e.xp6(1),e.Q6J("ngIf",n.devices.length>0))},dependencies:[_.lW,_.RK,A.Hw,L.W,m.sg,m.O5,u.KI,h.JJ,h.On,J.Rr,Ye,E.n_,E.AA,u.Ot],encapsulation:2}),i})();var He=r(46962);function We(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"cm-input",14),e.NdJ("modelChange",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o.saml.verifiedDomain=s)}),e.qZA()(),e.TgZ(3,"div",13)(4,"cm-input",14),e.NdJ("modelChange",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o.saml.signInUrl=s)}),e.qZA()(),e.TgZ(5,"div",13)(6,"cm-input",14),e.NdJ("modelChange",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o.saml.identityProviderIssuer=s)}),e.qZA()(),e.TgZ(7,"div",13)(8,"cm-input",15),e.NdJ("modelChange",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o.saml.entityId=s)}),e.qZA()(),e.TgZ(9,"div",13)(10,"cm-input",16),e.NdJ("modelChange",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o.saml.certificate=s)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("model",t.saml.verifiedDomain)("label","Verified Domain"),e.xp6(2),e.Q6J("model",t.saml.signInUrl)("label","SAML Sign-In Url"),e.xp6(2),e.Q6J("model",t.saml.identityProviderIssuer)("label","Identity Provider Issuer"),e.xp6(2),e.Q6J("model",t.saml.entityId)("label","Entity Id"),e.xp6(2),e.Q6J("model",t.saml.certificate)("label","Key x509 Certificate")}}let $e=(()=>{class i{constructor(t,n,s,o,l,g){this._dialog=t,this._fuseConfirmationService=n,this._changeDetectorRef=s,this._translocoService=o,this._currentTenantService=l,this._samlService=g,this._unsubscribeAll=new S.x}ngOnInit(){this._currentTenantService._currentTenant.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.tenant=t,this.getSamlSettings()})}getSamlSettings(){this._samlService.getTenantSamlSettings(this.tenant.id).pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.saml=t.data})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onClickCancel(){(0,d.ht)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{"confirmed"===t&&this.getSamlSettings()})}onClickSubmit(){this._samlService.edit(this.saml).subscribe(t=>{t.success&&((0,d.Hh)(this._fuseConfirmationService,this._translocoService.translate("message.success")),this.getSamlSettings())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.uw),e.Y36(v.R),e.Y36(e.sBO),e.Y36(u.Vn),e.Y36(q.g),e.Y36(He.h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["sso-settings"]],decls:17,vars:4,consts:[[1,"w-full","max-w-3xl"],[1,"space-y-8","pb-3"],[1,"space-y-2"],[1,"text-xl","font-medium"],[1,"text-slate-500","mb-4"],[1,"my-10","border-t"],["class","w-full flex-col space-y-3 ",4,"ngIf"],[1,"flex","space-x-2","justify-end"],["mat-flat-button","",1,"bg-slate-200",3,"click"],["transloco","cancel",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"click"],["transloco","save",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"w-full","flex-col","space-y-3"],[1,"flex-1"],["type","text","isDisableLength","true",3,"model","label","modelChange"],["actionEnum","view","type","text","isDisableLength","true",3,"model","label","modelChange"],["type","textarea","isDisableLength","true",3,"model","label","modelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div")(5,"div",3),e._uU(6," SAML SSO "),e.qZA(),e.TgZ(7,"div",4),e._uU(8),e.ALo(9,"transloco"),e.qZA()()()(),e._UZ(10,"div",5),e.YNc(11,We,11,10,"div",6),e.qZA(),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return n.onClickCancel()}),e._UZ(14,"label",9),e.qZA(),e.TgZ(15,"button",10),e.NdJ("click",function(){return n.onClickSubmit()}),e._UZ(16,"label",11),e.qZA()()()),2&t&&(e.xp6(8),e.hij(" ",e.lcZ(9,2,"system.ssoSettingsDescription")," "),e.xp6(3),e.Q6J("ngIf",n.saml))},dependencies:[_.lW,L.W,m.O5,u.KI,u.Ot],encapsulation:2}),i})();var se=r(18505);let Ge=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}getNotificationSetting(t){return this._httpClient.get(`api/notifications/${encodeURIComponent(t)}/notification-setting`)}updateNotificationSetting(t,n){return this._httpClient.put(`api/notifications/${encodeURIComponent(t)}/notification-setting`,n).pipe((0,se.b)(({success:s})=>{s&&(0,d.Hh)(this._fuseConfirmationService)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k.eN),e.LFG(v.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ve=function(i,a){return{settingType:"system.whenBeginPatrol",isEmail:i,isInApp:a,settingDetail:"startOfPatrol"}},Xe=function(i,a){return{settingType:"system.whenFinishPatrol",isEmail:i,isInApp:a,settingDetail:"endOfPatrol"}},et=function(i,a){return{settingType:"system.whenBreakDownDuringPatrol",isEmail:i,isInApp:a,settingDetail:"breakDownDuringPatrol"}},tt=function(i,a){return{settingType:"system.whenBreakDownOriginated",isEmail:i,isInApp:a,settingDetail:"breakDownOriginated"}};function nt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5),e._uU(3),e.ALo(4,"transloco"),e.qZA(),e.TgZ(5,"div",6),e._uU(6),e.ALo(7,"transloco"),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e._UZ(12,"div",9),e.TgZ(13,"div",10),e._uU(14),e.ALo(15,"transloco"),e.qZA()(),e.GkF(16,11)(17,11)(18,11)(19,11),e.TgZ(20,"div",12)(21,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.reset())}),e._UZ(22,"label",14),e.qZA(),e.TgZ(23,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.save())}),e._UZ(24,"mat-icon",16)(25,"label",17),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(),n=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,14,"nav.patrol")),e.xp6(3),e.Oqu(e.lcZ(7,16,"system.PatrolNotificationSettingByMailOrWebApp")),e.xp6(4),e.hij("",e.lcZ(11,18,"system.guardPatrol")," "),e.xp6(4),e.hij("",e.lcZ(15,20,"web/app")," "),e.xp6(2),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(22,Ve,t.userNotificationsSetting.startOfPatrol.email,t.userNotificationsSetting.startOfPatrol.inApp)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(25,Xe,t.userNotificationsSetting.endOfPatrol.email,t.userNotificationsSetting.endOfPatrol.inApp)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(28,et,t.userNotificationsSetting.breakDownDuringPatrol.email,t.userNotificationsSetting.breakDownDuringPatrol.inApp)),e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.WLB(31,tt,t.userNotificationsSetting.breakDownOriginated.email,t.userNotificationsSetting.breakDownOriginated.inApp)),e.xp6(4),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","save")}}function it(i,a){if(1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&i){const t=e.oxw().settingType;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function st(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.YNc(1,it,3,3,"div",19),e._UZ(2,"div",20),e.TgZ(3,"div",20)(4,"mat-slide-toggle",21),e.NdJ("change",function(s){const l=e.CHM(t).settingDetail,g=e.oxw();return e.KtG(g.onInAppChange(l,s))}),e.qZA()()()}if(2&i){const t=a.settingType,n=a.isInApp;e.xp6(1),e.Q6J("ngIf",t),e.xp6(3),e.Q6J("checked",n)("color","primary")}}let ot=(()=>{class i{constructor(t,n,s,o){this._notificationSettingService=t,this._userService=n,this._dialog=s,this._fuseConfirmationService=o,this._unsubscribeAll=new S.x}ngOnInit(){this.getUserNotificationSetting()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getUserNotificationSetting(){this.userId=this._userService.userSnapshot.id,this._notificationSettingService.getNotificationSetting(this.userId).pipe((0,c.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.userNotificationsSetting=t,this.oldSetting=this.userNotificationsSetting})}createDefaultNotificationSettings(t){return{userId:t,startOfPatrol:{email:!0,inApp:!0},endOfPatrol:{email:!0,inApp:!0},breakDownDuringPatrol:{email:!0,inApp:!0},breakDownOriginated:{email:!0,inApp:!0},beginPatrolTime:{email:!0,inApp:!0},finishCheckpoint:{email:!0,inApp:!0}}}onEmailChange(t,n){this.userNotificationsSetting[t].email=n.checked,n.checked&&this.handleMutualExclusion(t)}onInAppChange(t,n){this.userNotificationsSetting[t].inApp=n.checked,n.checked&&this.handleMutualExclusion(t)}handleMutualExclusion(t){"createdByMeAllNewComment"===t?(this.userNotificationsSetting.createdByMeOnlyMentionsOnComments.email=!1,this.userNotificationsSetting.createdByMeOnlyMentionsOnComments.inApp=!1):"createdByMeOnlyMentionsOnComments"===t?(this.userNotificationsSetting.createdByMeAllNewComment.email=!1,this.userNotificationsSetting.createdByMeAllNewComment.inApp=!1):"assignedToMeAllNewComment"===t?(this.userNotificationsSetting.assignedToMeOnlyMentionsOnComments.email=!1,this.userNotificationsSetting.assignedToMeOnlyMentionsOnComments.inApp=!1):"assignedToMeOnlyMentionsOnComments"===t?(this.userNotificationsSetting.assignedToMeAllNewComment.email=!1,this.userNotificationsSetting.assignedToMeAllNewComment.inApp=!1):"assignedToMyTeamAllNewComment"===t?(this.userNotificationsSetting.assignedToMyTeamOnlyMentionsOnComments.email=!1,this.userNotificationsSetting.assignedToMyTeamOnlyMentionsOnComments.inApp=!1):"assignedToMyTeamOnlyMentionsOnComments"===t&&(this.userNotificationsSetting.assignedToMyTeamAllNewComment.email=!1,this.userNotificationsSetting.assignedToMyTeamAllNewComment.inApp=!1)}save(){this.req=this.userNotificationsSetting,this._notificationSettingService.updateNotificationSetting(this.userId,this.req).pipe((0,c.R)(this._unsubscribeAll)).subscribe(({})=>{this.getUserNotificationSetting()},t=>{console.error("Error updating notification settings:",t)})}reset(){this.getUserNotificationSetting()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ge),e.Y36(I.K),e.Y36(O.uw),e.Y36(v.R))},i.\u0275cmp=e.Xpm({type:i,selectors:[["notification-setting"]],decls:5,vars:1,consts:[[1,"w-full","max-w-3xl"],[1,"space-y-8","pb-3"],[4,"ngIf"],["tmpl",""],[1,"overflow-hidden"],[1,"font-bold","text-2xl"],[1,"font-normal","text-base"],[1,"w-full","rounded-3xl","py-4","grid","grid-cols-8","sm:grid-cols-12","gap-x-1"],[1,"col-span-4","sm:col-span-8","font-medium","text-lg"],[1,"col-span-2","font-medium","text-lg","text-right"],[1,"col-span-2","ml-2","font-medium","text-lg","text-right"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","flex-row","justify-end","mt-5","space-x-2"],["mat-button","",1,"w-min",3,"click"],["transloco","cancel"],["mat-flat-button","",1,"w-min",3,"color","click"],[1,"mr-2",3,"svgIcon"],["transloco","save"],[1,"w-full","rounded-3xl","py-2","grid","grid-cols-8","sm:grid-cols-12","gap-x-1"],["class","col-span-4 sm:col-span-8 font-normal text-base ",4,"ngIf"],[1,"col-span-2","font-normal","text-base","text-right"],[1,"sm:mt-0","mr-2","sm:ml-auto",3,"checked","color","change"],[1,"col-span-4","sm:col-span-8","font-normal","text-base"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,nt,26,34,"ng-container",2),e.qZA()(),e.YNc(3,st,5,3,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",n.userNotificationsSetting))},dependencies:[_.lW,A.Hw,m.O5,m.tP,u.KI,J.Rr,u.Ot],encapsulation:2}),i})(),at=(()=>{class i{constructor(t,n){this._httpClient=t,this._fuseConfirmationService=n}get(){return this._httpClient.get("api/mail-configs")}add(t){return this._httpClient.post("api/mail-configs",t).pipe((0,se.b)(({success:n})=>{n&&(0,d.Hh)(this._fuseConfirmationService)}))}checkMailConfig(t){return this._httpClient.post("api/mail-configs/check-mail-config",t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k.eN),e.LFG(v.R))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const rt=function(i){return{"line-through italic text-slate-500":i}};function lt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-radio-button",23),e.NdJ("change",function(){const o=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onCheckedChange(o.id))}),e.TgZ(1,"span",24),e._uU(2),e.qZA()()}if(2&i){const t=a.$implicit,n=e.oxw();e.Q6J("value",t.id),e.xp6(1),e.Q6J("ngClass",e.VKq(3,rt,t.id===n.data)),e.xp6(1),e.Oqu(t.name)}}function ct(i,a){1&i&&(e.ynx(0),e.TgZ(1,"mat-icon",25),e._uU(2,"done"),e.qZA(),e.BQk())}function ut(i,a){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",26),e.BQk())}function mt(i,a){1&i&&e._UZ(0,"mat-progress-spinner",27),2&i&&e.Q6J("diameter",24)("mode","indeterminate")}let dt=(()=>{class i{constructor(t,n,s){this._fuseConfirmationService=t,this._translocoService=n,this._mailConfigService=s,this.config={host:null,username:null,senderMailAddress:null,port:null,password:null,tls:null,displayMailAddress:null,displayName:null},this.isLoading=!1,this.securityProtocols=[{id:"none",name:this._translocoService.translate("none")},{id:"SSL/TLS",name:"SSL/TLS"},{id:"START_TLS",name:"STARTTLS"}],this._unsubscribeAll=new S.x,this.availableLangs=[],this.checkStatus="NONE"}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this.getMailConfig()}onCheckedChange(t){this.config.tls=t}getMailConfig(){this._mailConfigService.get().pipe((0,c.R)(this._unsubscribeAll)).subscribe(({data:t})=>{t&&(this.config=t)})}trackByFn(t,n){return n.id||t}onClickCancel(){(0,d.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{t&&this.getMailConfig()})}onClickSubmit(){(0,T.TF)(this.config.host)||(0,T.TF)(this.config.username)||(0,T.TF)(this.config.password)||(0,T.TF)(this.config.senderMailAddress)||(0,T.TF)(this.config.tls)?(0,d.CK)(this._fuseConfirmationService,"message.mustInputRequired"):"number"==typeof this.config.port?this._mailConfigService.add(this.config).pipe((0,c.R)(this._unsubscribeAll)).subscribe():(0,d.CK)(this._fuseConfirmationService,"message.portMustANumber")}onCheckConfig(){this.isLoading||(this.isLoading=!0,this._mailConfigService.checkMailConfig(this.config).pipe((0,M.x)(()=>this.isLoading=!1),(0,c.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.checkStatus=t?"SUCCESS":"FAIL"}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.R),e.Y36(u.Vn),e.Y36(at))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mail-configs"]],decls:55,vars:52,consts:[[1,"w-full","max-w-3xl"],[1,"space-y-8","pb-3"],[1,"space-y-2"],[1,"text-xl","font-medium"],[1,"text-slate-500","mb-4"],[1,"my-10","border-t"],[1,"w-full","flex-col","space-y-3"],[1,"w-full","flex-col"],[1,"flex","flex-row","space-x-4","w-full"],["isDisableLength","true",1,"w-full","flex-1",3,"isRequired","model","label","modelChange"],["type","number","isDisableLength","true",1,"w-full","flex-1",3,"isRequired","model","label","modelChange"],["isDisableLength","true",3,"model","isRequired","label","modelChange"],["isDisableLength","true",3,"model","label","modelChange"],[1,"font-medium","text-slate-600","leading-5"],[1,"text-red-500","italic","font-semibold"],[1,"flex","flex-row","space-x-6","py-6",3,"color","value","ngModel","ngModelChange"],["class","mb-4",3,"value","change",4,"ngFor","ngForOf"],[1,"flex","items-center","text-center","space-x-2","justify-end"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"font-medium",3,"click"],["mat-flat-button","","color","primary",3,"click"],["transloco","save",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"mb-4",3,"value","change"],[1,"text-slate-800",3,"ngClass"],[1,"text-green-500"],["svgIcon","heroicons_outline:x-mark",1,"text-red-500"],[3,"diameter","mode"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div")(5,"div",3),e._uU(6),e.ALo(7,"transloco"),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.ALo(10,"transloco"),e.qZA()()()(),e._UZ(11,"div",5),e.TgZ(12,"div",6)(13,"div",7)(14,"div",8)(15,"cm-input",9),e.NdJ("modelChange",function(o){return n.config.host=o}),e.ALo(16,"transloco"),e.qZA(),e.TgZ(17,"cm-input",10),e.NdJ("modelChange",function(o){return n.config.port=o}),e.ALo(18,"transloco"),e.qZA()()(),e.TgZ(19,"div",7)(20,"div",8)(21,"cm-input",9),e.NdJ("modelChange",function(o){return n.config.username=o}),e.ALo(22,"transloco"),e.qZA(),e.TgZ(23,"cm-input",9),e.NdJ("modelChange",function(o){return n.config.password=o}),e.ALo(24,"transloco"),e.qZA()()(),e.TgZ(25,"div",7)(26,"div")(27,"cm-input",11),e.NdJ("modelChange",function(o){return n.config.senderMailAddress=o}),e.ALo(28,"transloco"),e.qZA()()(),e.TgZ(29,"div",7)(30,"div")(31,"cm-input",12),e.NdJ("modelChange",function(o){return n.config.displayMailAddress=o}),e.ALo(32,"transloco"),e.qZA()()(),e.TgZ(33,"div",7)(34,"div")(35,"cm-input",12),e.NdJ("modelChange",function(o){return n.config.displayName=o}),e.ALo(36,"transloco"),e.qZA()()(),e.TgZ(37,"div",7)(38,"span",13),e._uU(39),e.ALo(40,"transloco"),e.TgZ(41,"span",14),e._uU(42," * "),e.qZA()(),e.TgZ(43,"mat-radio-group",15),e.NdJ("ngModelChange",function(o){return n.config.tls=o}),e.YNc(44,lt,3,5,"mat-radio-button",16),e.qZA()(),e._UZ(45,"div",5),e.TgZ(46,"div",17),e.YNc(47,ct,3,0,"ng-container",18),e.YNc(48,ut,2,0,"ng-container",18),e.YNc(49,mt,1,2,"mat-progress-spinner",19),e.TgZ(50,"a",20),e.NdJ("click",function(){return n.onCheckConfig()}),e._uU(51),e.ALo(52,"transloco"),e.qZA(),e.TgZ(53,"button",21),e.NdJ("click",function(){return n.onClickSubmit()}),e._UZ(54,"label",22),e.qZA()()()()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,30,"system.emailConfiguration")," "),e.xp6(3),e.hij(" ",e.lcZ(10,32,"system.mailSettingsDescription")," "),e.xp6(6),e.Q6J("isRequired",!0)("model",n.config.host)("label",e.lcZ(16,34,"system.mailServer")),e.xp6(2),e.Q6J("isRequired",!0)("model",n.config.port)("label",e.lcZ(18,36,"system.port")),e.xp6(4),e.Q6J("isRequired",!0)("model",n.config.username)("label",e.lcZ(22,38,"system.accountName")),e.xp6(2),e.Q6J("isRequired",!0)("model",n.config.password)("label",e.lcZ(24,40,"system.password")),e.xp6(4),e.Q6J("model",n.config.senderMailAddress)("isRequired",!0)("label",e.lcZ(28,42,"system.senderMailAddress")),e.xp6(4),e.Q6J("model",n.config.displayMailAddress)("label",e.lcZ(32,44,"system.displayMailAddress")),e.xp6(4),e.Q6J("model",n.config.displayName)("label",e.lcZ(36,46,"system.displayName")),e.xp6(4),e.hij(" ",e.lcZ(40,48,"system.securityProtocol")," "),e.xp6(4),e.Q6J("color","primary")("value",n.securityProtocols)("ngModel",n.config.tls),e.xp6(1),e.Q6J("ngForOf",n.securityProtocols),e.xp6(3),e.Q6J("ngIf","SUCCESS"==n.checkStatus),e.xp6(1),e.Q6J("ngIf","FAIL"==n.checkStatus),e.xp6(1),e.Q6J("ngIf",n.isLoading),e.xp6(2),e.hij(" ",e.lcZ(52,50,"system.checkConfig")," "))},dependencies:[_.lW,A.Hw,L.W,m.mk,m.sg,m.O5,u.KI,h.JJ,h.On,P.VQ,P.U0,H.Ou,u.Ot],encapsulation:2}),i})();const gt=["drawer"],pt=function(i,a){return{"hover:bg-gray-100 dark:hover:bg-hover":i,"bg-primary-50 dark:bg-hover":a}},ft=function(i,a){return{"text-hint":i,"text-primary dark:text-primary-500":a}},ht=function(i){return{"text-primary dark:text-primary-500":i}};function _t(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPanel(o.id))}),e._UZ(2,"mat-icon",19),e.TgZ(3,"div",20)(4,"div",21),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"div",22),e._uU(8),e.ALo(9,"transloco"),e.qZA()()(),e.BQk()}if(2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(10,pt,!n.selectedPanel||n.selectedPanel!==t.id,n.selectedPanel&&n.selectedPanel===t.id)),e.xp6(1),e.Q6J("ngClass",e.WLB(13,ft,!n.selectedPanel||n.selectedPanel!==t.id,n.selectedPanel&&n.selectedPanel===t.id))("svgIcon",t.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(16,ht,n.selectedPanel&&n.selectedPanel===t.id)),e.xp6(1),e.hij(" ",e.lcZ(6,6,t.title)," "),e.xp6(3),e.hij(" ",e.lcZ(9,8,t.description)," ")}}function vt(i,a){1&i&&(e.ynx(0),e._UZ(1,"tenant-information"),e.BQk())}function Ct(i,a){1&i&&(e.ynx(0),e._UZ(1,"team-configuration"),e.BQk())}function bt(i,a){1&i&&(e.ynx(0),e._UZ(1,"user-settings"),e.BQk())}function xt(i,a){1&i&&(e.ynx(0),e._UZ(1,"security-settings"),e.BQk())}function St(i,a){1&i&&(e.ynx(0),e._UZ(1,"sso-settings"),e.BQk())}function At(i,a){1&i&&(e.ynx(0),e._UZ(1,"notification-setting"),e.BQk())}function yt(i,a){1&i&&(e.ynx(0),e._UZ(1,"mail-configs"),e.BQk())}const Zt=function(i){return{"max-height":i}};let Tt=(()=>{class i{constructor(t,n,s,o){this._changeDetectorRef=t,this._userService=n,this._activatedRoute=s,this._fuseMediaWatcherService=o,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.tenantId=null,this.isTenantAdmin=!1,this.isInTenant=!1,this.selectedPanel="user-settings",this._unsubscribeAll=new S.x,this.windowSize$=new be.X({width:window.innerWidth,height:window.innerHeight}),n.user$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(l=>{this.isTenantAdmin=l.isTenantAdmin,this.initData()}),(0,V.R)(window,"resize").pipe((0,c.R)(this._unsubscribeAll),(0,X.b)(300)).subscribe(()=>{this.windowSize$.next({width:window.innerWidth,height:window.innerHeight})})}initData(){this.panels=[{id:"workspace-information",icon:"heroicons_outline:building-office",title:"system.tenants",isAdmin:!1,isPublic:!1,description:"system.tenantInformation"},{id:"user",icon:"heroicons_outline:user-group",title:"nav.userManagement",isAdmin:!0,isPublic:!1,description:"system.userList"},{id:"user-settings",icon:"heroicons_outline:lock-closed",title:"nav.userSettings",isAdmin:!1,isPublic:!0,description:"system.userSettings"},{id:"security",icon:"heroicons_outline:key",title:"nav.security",isAdmin:!1,isPublic:!0,description:"system.securitySettings"},{id:"sso-settings",icon:"heroicons_outline:cog-6-tooth",title:"nav.ssoSettings",isAdmin:!1,isPublic:!1,description:"system.ssoSettings"},{id:"notification-settings",icon:"heroicons_outline:bell-alert",title:"nav.notificationSettings",isAdmin:!1,isPublic:!1,description:"system.notificationSettingManagement"},{id:"mail-configs",icon:"heroicons_outline:envelope",title:"nav.mailConfig",isAdmin:!1,isPublic:!1,description:"system.mailSettings"}].filter(t=>!!this.isInTenant||t.isPublic).filter(t=>!!this.isTenantAdmin||!t.isAdmin)}ngOnInit(){this._activatedRoute.parent.params.pipe((0,c.R)(this._unsubscribeAll)).subscribe(t=>{this.isInTenant=!!t.tenantId,this.initData()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,c.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{t.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(t){this.selectedPanel=t,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(t){return this.panels.find(n=>n.id===t)}trackByFn(t,n){return n.id||t}getCurrentHeight(){return this.windowSize$.value.height-120}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(I.K),e.Y36(W.gz),e.Y36(xe.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["organization-settings"]],viewQuery:function(t,n){if(1&t&&e.Gf(gt,5),2&t){let s;e.iGM(s=e.CRH())&&(n.drawer=s.first)}},decls:31,vars:24,consts:[[1,"flex","flex-col","w-full","min-w-0"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","bg-card","border-b","dark:bg-transparent","p-6","sm:py-5","md:px-8"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col",3,"ngStyle"],[1,"flex-auto"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,""],[3,"ngSwitch"],[1,"overflow-auto","h-full","w-full","p-6","bg-slate-100"],[4,"ngSwitchCase"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"]],template:function(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6),e.ALo(7,"transloco"),e.qZA(),e.TgZ(8,"div",6)(9,"button",7),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(3);return e.KtG(l.close())}),e._UZ(10,"mat-icon",8),e.qZA()()(),e.TgZ(11,"div",9),e.YNc(12,_t,10,18,"ng-container",10),e.qZA()(),e.TgZ(13,"mat-drawer-content",11)(14,"div",12)(15,"div",4)(16,"button",13),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(3);return e.KtG(l.toggle())}),e._UZ(17,"mat-icon",8),e.qZA(),e.TgZ(18,"div",5),e._uU(19),e.ALo(20,"transloco"),e.qZA()(),e.TgZ(21,"div",14),e.ynx(22,15),e.TgZ(23,"div",16),e.YNc(24,vt,2,0,"ng-container",17),e.YNc(25,Ct,2,0,"ng-container",17),e.YNc(26,bt,2,0,"ng-container",17),e.YNc(27,xt,2,0,"ng-container",17),e.YNc(28,St,2,0,"ng-container",17),e.YNc(29,At,2,0,"ng-container",17),e.YNc(30,yt,2,0,"ng-container",17),e.qZA(),e.BQk(),e.qZA()()()()()}if(2&t){let s;e.xp6(2),e.Q6J("autoFocus",!1)("mode",n.drawerMode)("opened",n.drawerOpened),e.xp6(4),e.Oqu(e.lcZ(7,18,"system.settings")),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(2),e.Q6J("ngForOf",n.panels)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,Zt,n.getCurrentHeight()+"px")),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:bars-3"),e.xp6(2),e.hij(" ",e.lcZ(20,20,null==(s=n.getPanelInfo(n.selectedPanel))?null:s.description)," "),e.xp6(3),e.Q6J("ngSwitch",n.selectedPanel),e.xp6(2),e.Q6J("ngSwitchCase","workspace-information"),e.xp6(1),e.Q6J("ngSwitchCase","user"),e.xp6(1),e.Q6J("ngSwitchCase","user-settings"),e.xp6(1),e.Q6J("ngSwitchCase","security"),e.xp6(1),e.Q6J("ngSwitchCase","sso-settings"),e.xp6(1),e.Q6J("ngSwitchCase","notification-settings"),e.xp6(1),e.Q6J("ngSwitchCase","mail-configs")}},dependencies:[_.RK,A.Hw,m.mk,m.sg,m.PC,m.RF,m.n9,U.jA,U.kh,U.LW,we,Le,ze,je,$e,ot,dt,u.Ot],encapsulation:2}),i})();var wt=r(71320);(0,m.qS)(oe.Z);const Mt=[{path:"",component:Tt}];let Lt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:w._A,useClass:G.t$,deps:[w.Ad]},{provide:w.sG,useValue:G.lv},{provide:Z.u7,useValue:Z.iF},{provide:w.Ad,useValue:"vi-VN"},{provide:e.soG,useValue:"en-US"}],imports:[W.Bz.forChild(Mt),fe.Xo,_.ot,le.To,y.lN,A.Ps,Q.c,ue.LD,j.p9,me.Nh,O.Is,$.w,ae.QW,ve.Co,Ce.c,m.ez,wt.W,ge.Wr,he.PV,u.y4,R.Rt,$.w,h.u5,U.SJ,P.Fk,x.HQ,J.rP,x.HQ,pe.Hb,H.Cq,_e.ZJ,R.Rt,de.AV,ce.Tx,re.FA,h.UX,E.Ph]}),i})()}}]);