"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[307],{32950:(I,g,r)=>{r.d(g,{F:()=>f});var m=r(22223);let f=(()=>{class d{constructor(i){this.el=i,this.fallbackSrc="assets/images/fallback-image/blank-image.svg"}onError(){const i=this.el.nativeElement;i&&(i.src=this.fallbackSrc)}}return d.\u0275fac=function(i){return new(i||d)(m.Y36(m.SBq))},d.\u0275dir=m.lG2({type:d,selectors:[["img","nzSrc",""]],hostBindings:function(i,k){1&i&&m.NdJ("error",function(){return k.onError()})},inputs:{fallbackSrc:"fallbackSrc"}}),d})()},92982:(I,g,r)=>{r.d(g,{F:()=>f});var m=r(22223);let f=(()=>{class d{}return d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=m.oAB({type:d}),d.\u0275inj=m.cJS({}),d})()},3914:(I,g,r)=>{r.d(g,{G:()=>f});var m=r(22223);let f=(()=>{class d{}return d.\u0275fac=function(i){return new(i||d)},d.\u0275mod=m.oAB({type:d}),d.\u0275inj=m.cJS({}),d})()},80307:(I,g,r)=>{r.r(g),r.d(g,{ApartmentModule:()=>ie});var m=r(31531),f=r(99114),d=r(69609),u=r(11292),i=r(58016),k=r(56467),D=r(61972),x=r(39401),S=r(25580),w=r(22497),e=r(22223);let Y=(()=>{class o{constructor(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["apartment"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[m.lC],encapsulation:2}),o})();var A=r(77579),$=r(78372),y=r(28746),p=r(82722),O=r(82004),T=r(85450),J=r(89040),z=r(14039),q=r(20054),R=r(71683),b=r(51728),N=r(430),E=r(83649),h=r(30430),v=r(44755),M=r(50877),F=r(47148),Q=r(90504),U=r(17406);function W(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",31),e.NdJ("dblclick",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onClickDetail(a.apartmentId))}),e.TgZ(1,"td",32)(2,"span")(3,"button",33)(4,"mat-icon"),e._uU(5," more_vert "),e.qZA(),e.TgZ(6,"mat-menu",null,34),e.ynx(8),e.TgZ(9,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onClickDetail(a.apartmentId))}),e._UZ(10,"mat-icon",36),e._uU(11),e.ALo(12,"transloco"),e.qZA(),e.TgZ(13,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onClickEdit(a.apartmentId))}),e.TgZ(14,"mat-icon"),e._uU(15,"edit"),e.qZA(),e._uU(16),e.ALo(17,"transloco"),e.qZA(),e.BQk(),e.qZA()()()(),e.TgZ(18,"td",37)(19,"div",38),e._uU(20),e.qZA()(),e.TgZ(21,"td",39),e._uU(22),e.qZA(),e.TgZ(23,"td",40),e._uU(24),e.qZA(),e.TgZ(25,"td",40),e._uU(26),e.qZA(),e.TgZ(27,"td",41),e._uU(28),e.qZA(),e.TgZ(29,"td",40),e._uU(30),e.qZA(),e.TgZ(31,"td",42),e._uU(32),e.qZA(),e.TgZ(33,"td",40),e._uU(34),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index,l=e.MAs(7);e.oxw();const a=e.MAs(30);e.xp6(3),e.Q6J("matMenuTriggerFor",l),e.xp6(8),e.hij(" ",e.lcZ(12,18,"view")," "),e.xp6(5),e.hij(" ",e.lcZ(17,20,"edit")," "),e.xp6(4),e.Oqu((a.nzPageIndex-1)*a.nzPageSize+n+1),e.xp6(1),e.Q6J("matTooltip",t.apartmentCode),e.xp6(1),e.hij(" ",t.apartmentCode," "),e.xp6(1),e.Q6J("matTooltip",t.floorName),e.xp6(1),e.hij(" ",t.floorName," "),e.xp6(1),e.Q6J("matTooltip",t.blockName),e.xp6(1),e.hij(" ",t.blockName," "),e.xp6(1),e.Q6J("matTooltip",t.nameOwner),e.xp6(1),e.hij(" ",t.nameOwner," "),e.xp6(1),e.Q6J("matTooltip",t.phoneNumber),e.xp6(1),e.hij(" ",t.phoneNumber," "),e.xp6(1),e.Q6J("matTooltip",t.description),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.Q6J("matTooltip",t.customers.length),e.xp6(1),e.hij(" ",t.customers.length," ")}}let G=(()=>{class o{constructor(t,n,l,a,c,_){this._apartmentService=t,this._blockService=n,this._floorService=l,this._tenantService=a,this._router=c,this._fuseConfirmationService=_,this._unsubscribeAll=new A.x,this.debounce$=new A.x,this.apartments=[],this.isLoading=!1,this.filter={textSearch:null,floorId:null,blockId:null,isUse:!0},this.floorCodes=[],this.blockCodes=[]}ngOnInit(){(0,O.Df)(this._fuseConfirmationService,"message.success",2e3),this.getData(),this.debounce$.pipe((0,$.b)(300),(0,p.R)(this._unsubscribeAll)).subscribe(()=>{this.getData()}),this._blockService.get({isUse:!0}).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.blockCodes=[...t.map(n=>({id:n.blockId,name:n.blockName}))]}),this._floorService.get({isUse:!0}).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.floorCodes=[...t.map(n=>({id:n.floorId,name:n.floorName}))]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getData(){this.isLoading=!0,this._apartmentService.get(this.filter).pipe((0,p.R)(this._unsubscribeAll),(0,y.x)(()=>this.isLoading=!1)).subscribe(({data:t})=>{this.apartments=t})}onSearch(){this.debounce$.next()}onClickAdd(){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/create`)}onRefreshData(){this.filter={textSearch:null,floorId:null,blockId:null,isUse:!0},this.getData()}onClickDetail(t){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/detail/${t}/general`)}onClickEdit(t){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/edit/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.V),e.Y36(J.g),e.Y36(z.w),e.Y36(q.g),e.Y36(m.F0),e.Y36(R.R))},o.\u0275cmp=e.Xpm({type:o,selectors:[["apartment-list"]],decls:62,vars:57,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-col"],[1,"flex","justify-between","items-center","bg-card","border-b","dark:bg-transparent","px-6","sm:py-5","md:px-8","gap-8"],[1,"leading-none","text-3xl","font-extrabold","tracking-tight"],[1,"space-x-4","flex","items-center"],["mat-flat-button","",1,"w-min",3,"color","click"],[3,"svgIcon"],["transloco","add",1,"ml-2"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","heroicons_outline:arrow-path",1,"text-slate-500"],[1,"bg-card","m-6","rounded-md","shadow"],[1,"p-6","space-y-6"],[1,"flex-col","flex","sm:flex-row","sm:justify-between"],[1,"flex","flex-col","w-full","h-full","space-y-6"],[1,"flex","gap-4"],["label","search",1,"flex-1",3,"model","isDisableLength","placeholder","modelChange","keyup"],["label","master.floor",1,"flex-1",3,"placeholder","listData","model","modelChange"],["label","master.block",1,"flex-1",3,"placeholder","listData","model","modelChange"],["color","primary",1,"text-lg","font-medium","flex-1","flex","items-end",3,"ngModel","ngModelChange"],[1,"border-b","w-full"],["nzShowSizeChanger","","nzBordered","true",3,"nzLoading","nzData"],["basicTable",""],["nzWidth","102px"],["nzWidth","70px","nzAlign","center","nzWidth","70px"],["nzWidth","150px"],["nzWidth","31px"],["nzWidth","82px"],["nzWidth","200px"],["nzWidth","117px"],["nzWidth","139px"],["class","hover:cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],[1,"hover:cursor-pointer",3,"dblclick"],[1,"w-[102px]","text-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["headerMenu",""],["mat-menu-item","",3,"click"],["svgIcon","heroicons_outline:eye"],[1,"max-w-[70px]","truncate"],[1,"h-full","flex","justify-center","items-center"],[1,"max-w-[150px]","truncate",3,"matTooltip"],[3,"matTooltip"],[1,"max-w-[200px]","truncate",3,"matTooltip"],[1,"max-w-[621px]","truncate",3,"matTooltip"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return n.onClickAdd()}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return n.onRefreshData()}),e.ALo(11,"transloco"),e._UZ(12,"mat-icon",9),e.qZA()()()(),e.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"cm-input",15),e.NdJ("modelChange",function(a){return n.filter.textSearch=a})("keyup",function(){return n.onSearch()}),e.ALo(19,"transloco"),e.qZA(),e.TgZ(20,"cm-select",16),e.NdJ("modelChange",function(a){return n.filter.floorId=a})("modelChange",function(){return n.onSearch()}),e.ALo(21,"transloco"),e.qZA(),e.TgZ(22,"cm-select",17),e.NdJ("modelChange",function(a){return n.filter.blockId=a})("modelChange",function(){return n.onSearch()}),e.ALo(23,"transloco"),e.qZA(),e.TgZ(24,"mat-slide-toggle",18),e.NdJ("ngModelChange",function(a){return n.filter.isUse=a})("ngModelChange",function(){return n.onSearch()}),e._uU(25),e.ALo(26,"transloco"),e.qZA()(),e._UZ(27,"div",19),e.qZA()(),e.TgZ(28,"div")(29,"nz-table",20,21)(31,"thead")(32,"tr")(33,"th",22),e._uU(34),e.ALo(35,"transloco"),e.qZA(),e.TgZ(36,"th",23),e._uU(37),e.ALo(38,"transloco"),e.qZA(),e.TgZ(39,"th",24),e._uU(40),e.ALo(41,"transloco"),e.qZA(),e.TgZ(42,"th",25),e._uU(43),e.ALo(44,"transloco"),e.qZA(),e.TgZ(45,"th",26),e._uU(46),e.ALo(47,"transloco"),e.qZA(),e.TgZ(48,"th",27),e._uU(49),e.ALo(50,"transloco"),e.qZA(),e.TgZ(51,"th",28),e._uU(52),e.ALo(53,"transloco"),e.qZA(),e.TgZ(54,"th"),e._uU(55),e.ALo(56,"transloco"),e.qZA(),e.TgZ(57,"th",29),e._uU(58),e.ALo(59,"transloco"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,W,35,22,"tr",30),e.qZA()()()()()()),2&t){const l=e.MAs(30);e.xp6(4),e.hij("",e.lcZ(5,27,"nav.apartments")," "),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","add"),e.xp6(2),e.s9C("matTooltip",e.lcZ(11,29,"com.refresh")),e.xp6(8),e.s9C("placeholder",e.lcZ(19,31,"placeholder.searchByApartmentCodeOwnerName")),e.Q6J("model",n.filter.textSearch)("isDisableLength",!0),e.xp6(2),e.s9C("placeholder",e.lcZ(21,33,"placeholder.enterFloor")),e.Q6J("listData",n.floorCodes)("model",n.filter.floorId),e.xp6(2),e.s9C("placeholder",e.lcZ(23,35,"placeholder.enterBlock")),e.Q6J("listData",n.blockCodes)("model",n.filter.blockId),e.xp6(2),e.Q6J("ngModel",n.filter.isUse),e.xp6(1),e.hij(" ",e.lcZ(26,37,"used")," "),e.xp6(4),e.Q6J("nzLoading",n.isLoading)("nzData",n.apartments),e.xp6(5),e.Oqu(e.lcZ(35,39,"master.function")),e.xp6(3),e.Oqu(e.lcZ(38,41,"master.no")),e.xp6(3),e.Oqu(e.lcZ(41,43,"master.apartmentCode")),e.xp6(3),e.Oqu(e.lcZ(44,45,"master.floor")),e.xp6(3),e.Oqu(e.lcZ(47,47,"master.block")),e.xp6(3),e.Oqu(e.lcZ(50,49,"master.ownerName")),e.xp6(3),e.Oqu(e.lcZ(53,51,"master.phoneNumberOwner")),e.xp6(3),e.Oqu(e.lcZ(56,53,"master.description")),e.xp6(3),e.Oqu(e.lcZ(59,55,"master.numberOfCustomer")),e.xp6(3),e.Q6J("ngForOf",l.data)}},dependencies:[i.N8,i.Uo,i._C,i.Om,i.p0,i.$Z,i.UX,b.lW,b.RK,N.Hw,E.gM,x.JJ,x.On,h.KI,v.sg,M.Rr,F.f,Q.W,U.VK,U.OP,U.p6,h.Ot],encapsulation:2}),o})();function P(o,s){1&o&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"master.addApartment")))}function H(o,s){if(1&o&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"transloco"),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.AsE("",e.lcZ(2,2,"master.apartment")," [",t.req.apartmentCode,"]")}}let j=(()=>{class o{constructor(t,n,l,a,c,_,Z,C){this._blockService=t,this._floorService=n,this._activatedRoute=l,this._apartmentService=a,this._fuseConfirmationService=c,this._translocoService=_,this._tenantService=Z,this._router=C,this._unsubscribeAll=new A.x,this.isLoading=!1,this.req={apartmentId:null,apartmentCode:null,blockId:null,floorId:null,nameOwner:null,phoneNumber:null,description:null,isUse:!1},this.apartmentId=null,this.floorCodes=[],this.blockCodes=[]}ngOnInit(){this._blockService.get({isUse:!0}).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.blockCodes=[...t.map(n=>({id:n.blockId,name:n.blockName}))]}),this._floorService.get({isUse:!0}).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:t})=>{this.floorCodes=[...t.map(n=>({id:n.floorId,name:n.floorName}))]}),this._activatedRoute.paramMap.subscribe(t=>{null!==t.get("apartmentId")?(this.apartmentId=t.get("apartmentId"),this.getDetail(t.get("apartmentId"))):this.actionEnum="new"})}getDetail(t){this._apartmentService.getById(t).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:n})=>{n&&(this.req=n,this.actionEnum="edit")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onSave(){if(this.req.apartmentCode&&this.req.floorId&&this.req.blockId&&this.req.nameOwner){if("edit"===this.actionEnum){const t=this.req;this.isLoading=!0,this._apartmentService.update(this.apartmentId,t).pipe((0,p.R)(this._unsubscribeAll),(0,y.x)(()=>this.isLoading=!1)).subscribe(({success:n,data:l})=>{n&&this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/detail/${l.apartmentId}/general`)})}if("new"===this.actionEnum){const{apartmentId:t,...n}=this.req,l=n;this.isLoading=!0,this._apartmentService.create(l).pipe((0,p.R)(this._unsubscribeAll),(0,y.x)(()=>this.isLoading=!1)).subscribe(({success:a,data:c})=>{a&&this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/detail/${c.apartmentId}/general`)})}}else(0,O.tl)(this._fuseConfirmationService,"error.fieldIsRequired",2e3)}onCancel(){(0,O.WD)(this._fuseConfirmationService,this._translocoService.translate("message.confirmUnSaveChange"),this._translocoService.translate("message.unsavedChangesAreYouSure")).afterClosed().subscribe(t=>{"confirmed"==t&&this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments`)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.g),e.Y36(z.w),e.Y36(m.gz),e.Y36(T.V),e.Y36(R.R),e.Y36(h.Vn),e.Y36(q.g),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["apartment-create-edit"]],decls:47,vars:50,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-col"],[1,"flex","justify-between","items-center","bg-card","border-b","dark:bg-transparent","px-6","sm:py-5","md:px-8","gap-8"],["class","leading-none text-3xl font-extrabold tracking-tight",4,"ngIf"],["class","leading-none text-3xl font-medium tracking-tight",4,"ngIf"],[1,"flex","gap-4","md:flex-row","flex-col"],["mat-flat-button","",1,"flex","items-center","justify-center","gap-2",3,"disabled","click"],["mat-flat-button","","color","primary",1,"flex","items-center","justify-center","gap-2",3,"disabled","click"],[1,"flex","flex-col","w-full","p-6"],[1,"flex","flex-col","gap-6"],[1,"flex","flex-col","space-y-5","p-6","bg-card","rounded-md","shadow","dark:bg-gray-900"],[1,"py-4","flex","border-b"],[1,"text-xl","font-medium"],[1,"flex","gap-2","md:flex-row","flex-col"],[1,"flex-grow","flex","flex-col","gap-4"],[1,"flex","gap-4"],["label","master.apartmentCode",1,"flex-1",3,"placeholder","type","model","isRequired","isDisableLength","modelChange"],["isDisableLength","true","label","master.floor",1,"flex-1",3,"placeholder","isRequired","model","listData","modelChange"],["isDisableLength","true","label","master.block",1,"flex-1",3,"placeholder","isRequired","model","listData","modelChange"],["label","master.ownerName",1,"flex-1",3,"placeholder","isRequired","model","isDisableLength","modelChange"],["label","master.phoneNumberOwner",1,"flex-1",3,"placeholder","model","isDisableLength","modelChange"],[1,"flex-1"],[1,"flex"],[1,"flex-1","w-full"],["type","textarea",3,"label","isDisableLength","model","modelChange"],["color","primary",1,"flex-1",3,"ngModel","ngModelChange"],[1,"leading-none","text-3xl","font-extrabold","tracking-tight"],[1,"leading-none","text-3xl","font-medium","tracking-tight"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,P,3,3,"div",3),e.YNc(4,H,3,4,"div",4),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return n.onCancel()}),e._uU(7),e.ALo(8,"transloco"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.onSave()}),e._uU(10),e.ALo(11,"transloco"),e.qZA()()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"span",12),e._uU(17),e.ALo(18,"transloco"),e.qZA()(),e.TgZ(19,"div",13)(20,"div",14),e._UZ(21,"div",5),e.qZA()(),e.TgZ(22,"div",15)(23,"cm-input",16),e.NdJ("modelChange",function(a){return n.req.apartmentCode=a}),e.ALo(24,"transloco"),e.qZA(),e.TgZ(25,"cm-select",17),e.NdJ("modelChange",function(a){return n.req.floorId=a}),e.ALo(26,"transloco"),e.qZA(),e.TgZ(27,"cm-select",18),e.NdJ("modelChange",function(a){return n.req.blockId=a}),e.ALo(28,"transloco"),e.qZA(),e.TgZ(29,"cm-input",19),e.NdJ("modelChange",function(a){return n.req.nameOwner=a}),e.ALo(30,"transloco"),e.qZA()(),e.TgZ(31,"div",15)(32,"cm-input",20),e.NdJ("modelChange",function(a){return n.req.phoneNumber=a}),e.ALo(33,"transloco"),e.qZA(),e._UZ(34,"div",21)(35,"div",21)(36,"div",21),e.qZA(),e.TgZ(37,"div",22)(38,"div",23)(39,"cm-input",24),e.NdJ("modelChange",function(a){return n.req.description=a}),e.qZA()()(),e.TgZ(40,"div",15)(41,"mat-checkbox",25),e.NdJ("ngModelChange",function(a){return n.req.isUse=a}),e._uU(42),e.ALo(43,"transloco"),e.qZA(),e._UZ(44,"div",21)(45,"div",21)(46,"div",21),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf","new"==n.actionEnum),e.xp6(1),e.Q6J("ngIf","edit"==n.actionEnum),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Oqu(e.lcZ(8,32,"cancel")),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Oqu(e.lcZ(11,34,"save")),e.xp6(7),e.Oqu(e.lcZ(18,36,"master.general")),e.xp6(6),e.s9C("placeholder",e.lcZ(24,38,"placeholder.enterApartmentCode")),e.Q6J("type","edit"==n.actionEnum?"readonly":"text")("model",n.req.apartmentCode)("isRequired",!0)("isDisableLength",!0),e.xp6(2),e.s9C("placeholder",e.lcZ(26,40,"placeholder.enterFloor")),e.Q6J("isRequired",!0)("model",n.req.floorId)("listData",n.floorCodes),e.xp6(2),e.s9C("placeholder",e.lcZ(28,42,"placeholder.enterBlock")),e.Q6J("isRequired",!0)("model",n.req.blockId)("listData",n.blockCodes),e.xp6(2),e.s9C("placeholder",e.lcZ(30,44,"placeholder.enterOwnerName")),e.Q6J("isRequired",!0)("model",n.req.nameOwner)("isDisableLength",!0),e.xp6(3),e.s9C("placeholder",e.lcZ(33,46,"placeholder.enterPhoneNumber")),e.Q6J("model",n.req.phoneNumber)("isDisableLength",!0),e.xp6(7),e.Q6J("label","system.desc")("isDisableLength",!0)("model",n.req.description),e.xp6(2),e.Q6J("ngModel",n.req.isUse),e.xp6(1),e.Oqu(e.lcZ(43,48,"master.using")))},dependencies:[u.oG,b.lW,x.JJ,x.On,v.O5,F.f,Q.W,h.Ot],encapsulation:2}),o})();var L=r(13617);function V(o,s){if(1&o&&(e.TgZ(0,"a",25,26)(2,"span"),e._uU(3),e.ALo(4,"transloco"),e.qZA()()),2&o){const t=s.$implicit,n=e.MAs(1);e.Tol("cursor-pointer"),e.Q6J("routerLink",t.path)("queryParams",t.query)("active",n.isActive),e.xp6(3),e.Oqu(e.lcZ(4,6,t.name))}}let K=(()=>{class o{constructor(t,n,l,a,c){this._activatedRoute=t,this._apartmentService=n,this._translocoService=l,this._tenantService=a,this._router=c,this._unsubscribeAll=new A.x,this.isLoading=!1,this.apartmentId=null,this.apartment={apartmentId:null,apartmentCode:null,blockId:null,floorId:null,nameOwner:null,phoneNumber:null,description:null,customers:[],blockName:"",floorName:"",isUse:!1},this.isVisible=!1,this.initialize()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this._activatedRoute.paramMap.subscribe(t=>{"null"!==t.get("apartmentId")&&(this.apartmentId=t.get("apartmentId"),this.getDetail(t.get("apartmentId")))})}initialize(){this.tabs=[{path:"general",name:this._translocoService.translate("nav.general")}]}getDetail(t){this._apartmentService.getById(t).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:n})=>{n&&(this.apartment=n)})}onRouterActive(t){console.log(t),this.childComponent=t}routerBack(){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments`)}onClickEdit(){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/apartments/edit/${this.apartmentId}`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(T.V),e.Y36(h.Vn),e.Y36(q.g),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["apartment-detail"]],decls:38,vars:14,consts:[[1,"flex","flex-col","flex-auto","min-w-0","w-full"],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","gap-0","bg-card","dark:bg-transparent","mb-6","px-6","items-start","sm:pt-6","md:px-8","shadow-md"],[1,"flex","flex-col","w-full","sm:flex-row","bg-card","dark:bg-transparent","items-start","sm:items-center","justify-between","pb-5"],[1,"flex","gap-6"],[1,"flex","flex-col","gap-3","flex-1"],[1,"text-3xl","font-medium","tracking-tight"],[1,"flex","flex-col","sm:flex-row","space-x-3","w-full"],[1,"flex","gap-2","items-center"],["svgIcon","heroicons_solid:rectangle-stack",1,"icon-size-4"],[1,"px-2.5","justify-center","items-center","rounded","bg-slate-100"],[1,"text-slate-500","md","leading-6"],["svgIcon","heroicons_solid:swatch",1,"icon-size-4"],[1,"flex","flex-col","gap-2","w-full","items-end","justify-end","flex-1"],[1,"flex","gap-4","md:flex-row","flex-col"],["mat-flat-button","","color","accent",1,"flex","items-center","justify-center","gap-2",3,"click"],["svgIcon","heroicons_solid:arrow-uturn-left"],["mat-flat-button","","color","primary",1,"flex","items-center","justify-center","gap-2",3,"click"],["svgIcon","heroicons_solid:pencil",1,"icon-size-5"],["mat-tab-nav-bar","",1,"flex-1","w-3/4",3,"tabPanel"],["routerLinkActive","","routerLinkActive","","class","grow-0","mat-tab-link","",3,"class","routerLink","queryParams","active",4,"ngFor","ngForOf"],["tabPanel",""],[1,"flex","flex-col","w-full","pb-6","px-6"],[3,"activate"],["routerLinkActive","","routerLinkActive","","mat-tab-link","",1,"grow-0",3,"routerLink","queryParams","active"],["rla","routerLinkActive"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e._uU(9),e.ALo(10,"transloco"),e.qZA(),e.TgZ(11,"div",8)(12,"div",9),e._UZ(13,"mat-icon",10),e.TgZ(14,"div",11)(15,"span",12),e._uU(16),e.qZA()()(),e.TgZ(17,"div",9),e._UZ(18,"mat-icon",13),e.TgZ(19,"div",11)(20,"span",12),e._uU(21),e.qZA()()()()()(),e.TgZ(22,"div",14)(23,"div",15)(24,"button",16),e.NdJ("click",function(){return n.routerBack()}),e._UZ(25,"mat-icon",17),e._uU(26),e.ALo(27,"transloco"),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return n.onClickEdit()}),e._UZ(29,"mat-icon",19),e._uU(30),e.ALo(31,"transloco"),e.qZA()()()(),e.TgZ(32,"nav",20),e.YNc(33,V,5,8,"a",21),e.qZA(),e._UZ(34,"mat-tab-nav-panel",null,22),e.qZA(),e.TgZ(36,"div",23)(37,"router-outlet",24),e.NdJ("activate",function(a){return n.onRouterActive(a)}),e.qZA()()()()()()),2&t){const l=e.MAs(35);let a,c;e.xp6(9),e.AsE(" ",e.lcZ(10,8,"master.apartment")," [",n.apartment.apartmentCode,"] "),e.xp6(7),e.hij(" ",null!==(a=n.apartment.floorName)&&void 0!==a?a:"_",""),e.xp6(5),e.hij(" ",null!==(c=n.apartment.blockName)&&void 0!==c?c:"_",""),e.xp6(5),e.hij(" ",e.lcZ(27,10,"master.back"),""),e.xp6(4),e.hij(" ",e.lcZ(31,12,"edit"),""),e.xp6(2),e.Q6J("tabPanel",l),e.xp6(1),e.Q6J("ngForOf",n.tabs)}},dependencies:[m.lC,m.rH,m.Od,b.lW,N.Hw,v.sg,L.BU,L.sW,L.Nj,h.Ot],encapsulation:2}),o})();var B=r(74050),X=r(32950),ee=r(3990);function te(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"_"),e.qZA())}function ne(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",22),e.NdJ("dblclick",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onCustomerDetail(a.customerId))}),e.TgZ(1,"td")(2,"div",23),e._uU(3),e.qZA()(),e.TgZ(4,"td",24),e._UZ(5,"img",25),e.qZA(),e.TgZ(6,"td")(7,"a",26),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onCustomerDetail(a.customerId))}),e._uU(8),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index;e.oxw();const l=e.MAs(74);e.xp6(3),e.Oqu((l.nzPageIndex-1)*l.nzPageSize+n+1),e.xp6(2),e.Q6J("nzSrc","https://localhost:5001"+t.avatar),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.hij(" ",t.phoneNumber," ")}}const ae=[{path:"apartments",component:Y,children:[{path:"",component:G},{path:"create",component:j},{path:"edit/:apartmentId",component:j},{path:"detail",children:[{path:":apartmentId",component:K,children:[{path:"general",component:(()=>{class o{constructor(t,n,l,a){this._activatedRoute=t,this._apartmentService=n,this._tenantService=l,this._router=a,this._unsubscribeAll=new A.x,this.isLoading=!1,this.apartmentId=null,this.apartment={apartmentId:null,apartmentCode:null,blockId:null,floorId:null,nameOwner:null,phoneNumber:null,description:null,customers:[],blockName:"",floorName:"",isUse:!1}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}ngOnInit(){this._activatedRoute.parent.paramMap.subscribe(t=>{null!==t.get("apartmentId")&&(this.apartmentId=t.get("apartmentId"),this.getDetail(t.get("apartmentId")))})}getDetail(t){this._apartmentService.getById(t).pipe((0,p.R)(this._unsubscribeAll)).subscribe(({data:n})=>{n&&(this.apartment=n)})}onCustomerDetail(t){this._router.navigateByUrl(`${this._tenantService.currentTenantId}/customers/detail/${t}/general`)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(T.V),e.Y36(q.g),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["apartment-detail-general"]],decls:91,vars:51,consts:[[1,"w-full"],[1,"px-6","py-6","space-y-6","bg-card","shadow","rounded-md","overflow-hidden"],[1,"flex","flex-col","space-y-6","w-full","h-full"],[1,"flex","flex-col","w-full","h-full","gap-4"],[1,"text-xl","font-medium"],[1,"border-b","w-full"],[1,"flex","gap-4","md:flex-row","flex-col"],[1,"flex","flex-col","flex-1"],[1,"text-md","font-medium","text-slate-500","w-52"],[1,"font-medium","mb-2"],[1,"font-medium","mb-2","truncate","max-w-52"],[1,"truncate","max-w-52"],[4,"ngIf"],["color","primary",1,"flex-1",3,"checked","readOnly"],[1,"flex-1"],[1,"mt-6","px-6","py-6","space-y-6","bg-card","shadow","rounded-md","overflow-hidden"],["nzShowSizeChanger","","nzBordered","true",3,"nzLoading","nzData"],["basicTable",""],["nzAlign","center","nzWidth","70px"],["nzWidth","111px"],[1,"w-[681px]"],["class","hover:cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],[1,"hover:cursor-pointer",3,"dblclick"],[1,"h-full","flex","justify-center","items-center"],[1,"flex","justify-center"],["nz-image","",1,"object-cover","h-10","w-10","rounded-full",3,"nzSrc"],[3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div")(5,"div",3)(6,"span",4),e._uU(7),e.ALo(8,"transloco"),e.qZA(),e._UZ(9,"div",5),e.qZA()(),e.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"span",9),e._uU(14),e.ALo(15,"transloco"),e.qZA()(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8)(20,"span",9),e._uU(21),e.ALo(22,"transloco"),e.qZA()(),e.TgZ(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"div",7)(26,"div",8)(27,"span",9),e._uU(28),e.ALo(29,"transloco"),e.qZA()(),e.TgZ(30,"span"),e._uU(31),e.qZA()(),e.TgZ(32,"div",7)(33,"div",8)(34,"span",10),e._uU(35),e.ALo(36,"transloco"),e.qZA()(),e.TgZ(37,"span",11),e._uU(38),e.qZA()()(),e.TgZ(39,"div",6)(40,"div",7)(41,"div",8)(42,"span",9),e._uU(43),e.ALo(44,"transloco"),e.qZA()(),e.TgZ(45,"span"),e._uU(46),e.qZA()()(),e.TgZ(47,"div",6)(48,"div",7)(49,"div",8)(50,"span",9),e._uU(51),e.ALo(52,"transloco"),e.qZA()(),e.YNc(53,te,2,0,"span",12),e.TgZ(54,"span"),e._uU(55),e.qZA()()(),e.TgZ(56,"div",6)(57,"mat-checkbox",13),e._uU(58),e.ALo(59,"transloco"),e.qZA(),e._UZ(60,"div",14)(61,"div",14)(62,"div",14),e.qZA()()(),e.TgZ(63,"div")(64,"div",15)(65,"div",2)(66,"div")(67,"div",3)(68,"span",4),e._uU(69),e.ALo(70,"transloco"),e.qZA(),e._UZ(71,"div",5),e.qZA()(),e.TgZ(72,"div")(73,"nz-table",16,17)(75,"thead")(76,"tr")(77,"th",18),e._uU(78),e.ALo(79,"transloco"),e.qZA(),e.TgZ(80,"th",19),e._uU(81),e.ALo(82,"transloco"),e.qZA(),e.TgZ(83,"th",20),e._uU(84),e.ALo(85,"transloco"),e.qZA(),e.TgZ(86,"th",20),e._uU(87),e.ALo(88,"transloco"),e.qZA()()(),e.TgZ(89,"tbody"),e.YNc(90,ne,11,4,"tr",21),e.qZA()()()()()()()()),2&t){const l=e.MAs(74);let a,c,_,Z,C;e.xp6(7),e.Oqu(e.lcZ(8,25,"master.general")),e.xp6(7),e.Oqu(e.lcZ(15,27,"master.apartmentCode")),e.xp6(3),e.Oqu(null!==(a=n.apartment.apartmentCode)&&void 0!==a?a:"_"),e.xp6(4),e.Oqu(e.lcZ(22,29,"master.floor")),e.xp6(3),e.Oqu(null!==(c=n.apartment.floorName)&&void 0!==c?c:"_"),e.xp6(4),e.Oqu(e.lcZ(29,31,"master.block")),e.xp6(3),e.Oqu(null!==(_=n.apartment.blockName)&&void 0!==_?_:"_"),e.xp6(4),e.Oqu(e.lcZ(36,33,"master.ownerName")),e.xp6(3),e.Oqu(null!==(Z=n.apartment.nameOwner)&&void 0!==Z?Z:"_"),e.xp6(5),e.Oqu(e.lcZ(44,35,"master.phoneNumberOwner")),e.xp6(3),e.Oqu(null!==(C=n.apartment.phoneNumber)&&void 0!==C?C:"_"),e.xp6(5),e.Oqu(e.lcZ(52,37,"system.desc")),e.xp6(2),e.Q6J("ngIf",!n.apartment.apartmentId),e.xp6(2),e.Oqu(n.apartment.description),e.xp6(2),e.Q6J("checked",n.apartment.isUse)("readOnly",!0),e.xp6(1),e.hij(" ",e.lcZ(59,39,"master.using")," "),e.xp6(11),e.Oqu(e.lcZ(70,41,"master.apartmentCustomer")),e.xp6(4),e.Q6J("nzLoading",n.isLoading)("nzData",n.apartment.customers),e.xp6(5),e.Oqu(e.lcZ(79,43,"master.no")),e.xp6(3),e.Oqu(e.lcZ(82,45,"master.avatar")),e.xp6(3),e.Oqu(e.lcZ(85,47,"fullName")),e.xp6(3),e.Oqu(e.lcZ(88,49,"fullName")),e.xp6(3),e.Q6J("ngForOf",l.data)}},dependencies:[u.oG,i.N8,i.Uo,i._C,i.Om,i.p0,i.$Z,i.UX,B.Ie,v.sg,v.O5,X.F,ee.i,h.Ot],encapsulation:2}),o})(),pathMatch:"full"}]}]}]}];var oe=r(74473),le=r(92982),re=r(3914);let ie=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:S.WI,useValue:{}},{provide:S.so,useValue:{}},{provide:w.u7,useValue:w.iF}],imports:[m.Bz.forChild(ae),f.lN,d.c,u.p9,i.HQ,b.ot,N.Ps,E.AV,k.vO,D.qw,x.u5,h.y4,B.Gb,v.ez,M.rP,oe.c,U.Tx,L.Nh,le.F,re.G]}),o})()}}]);