"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[834],{32950:(oe,Z,l)=>{l.d(Z,{F:()=>h});var b=l(22223);let h=(()=>{class c{constructor(f){this.el=f,this.fallbackSrc="assets/images/fallback-image/blank-image.svg"}onError(){const f=this.el.nativeElement;f&&(f.src=this.fallbackSrc)}}return c.\u0275fac=function(f){return new(f||c)(b.Y36(b.SBq))},c.\u0275dir=b.lG2({type:c,selectors:[["img","nzSrc",""]],hostBindings:function(f,j){1&f&&b.NdJ("error",function(){return j.onError()})},inputs:{fallbackSrc:"fallbackSrc"}}),c})()},92982:(oe,Z,l)=>{l.d(Z,{F:()=>h});var b=l(22223);let h=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=b.oAB({type:c}),c.\u0275inj=b.cJS({}),c})()},79834:(oe,Z,l)=>{l.r(Z),l.d(Z,{MeetingModule:()=>_n});var b=l(31531),h=l(77579),c=l(82722),x=l(54244),f=l(54004),j=l(39646),I=l(12017),_=l(25580),M=l(28746),H=l(17489),G=l.n(H),S=l(96119),_e=l(15439),m=l.n(_e),v=l(82004),e=l(22223),A=l(71683),Ce=l(29061),se=l(20054),p=l(30430),T=l(430),C=l(51728),F=l(69609),w=l(99114),u=l(44755),g=l(39401),O=l(74050),L=l(11292),V=l(32950);function be(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",26),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("nzSrc","https://localhost:5001"+t.tenantImageUrl)}}function xe(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.tenantUserName.charAt(0)," ")}}function ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,be,2,1,"ng-container",21),e.YNc(3,xe,3,1,"ng-container",21),e.qZA(),e.TgZ(4,"div",22)(5,"div",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",24)(8,"mat-checkbox",25),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.updateChecked(r.userId,o))}),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",t.tenantImageUrl),e.xp6(1),e.Q6J("ngIf",!t.tenantImageUrl),e.xp6(3),e.Oqu(t.tenantUserName),e.xp6(2),e.Q6J("ngModel",i.setOfChecked.has(t.userId))("color","primary")}}let ze=(()=>{class n extends I.Y{constructor(t,i,o,s,r,d){super(r,i,t),this.dialogRef=t,this.fuseConfirmationService=i,this.tenantService=o,this.currentTenantService=s,this.translocoService=r,this._unsubscribeAll$=new h.x,this.properties={title:"nav.staffList",userIds:[],isRequired:!0},this.isLoading=!1,this.users=[],this.setOfChecked=new Set,this.userDetail=[],this.isRequired=!0,(0,S.TF)(d.title)||(this.properties.title=d.title),this.properties.isRequired=d.isRequired,d.userIds&&d.userIds.length&&(this.properties.userIds=[...d.userIds],d.userIds.forEach(U=>{this.setOfChecked.add(U)}))}ngOnInit(){this.getData$(this.currentTenantService.currentTenantId).subscribe(({data:t})=>{this.userDetail=t.tenantUsers,this.users=t.tenantUsers})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}search(t){this.userDetail=this.users.filter(i=>i.tenantUserName.toLowerCase().includes(t.toLowerCase()))}getData$(t){return this.isLoading=!0,this.tenantService.get(t).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1))}updateChecked(t,i){i?this.setOfChecked.add(t):this.setOfChecked.delete(t)}select(){const t=this.userDetail.filter(o=>this.setOfChecked.has(o.userId));if(this.isRequired&&!t.length)return void(0,v.CK)(this.fuseConfirmationService,this.translocoService.translate("message.itemStaffIsRequired"));const i=t.map(o=>({id:o.userId,fullName:o.tenantUserName,imageUrl:o.tenantImageUrl}));this.closePopup({data:i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.so),e.Y36(A.R),e.Y36(Ce.a),e.Y36(se.g),e.Y36(p.Vn),e.Y36(_.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["select-user-popup"]],features:[e.qOj],decls:20,vars:7,consts:[[1,"flex","flex-col","flex-auto","md:min-w-140","min-w-140","bg-slate-100","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium",3,"transloco"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"flex","flex-col","p-4","overflow-hidden","m-4"],[1,"flex","flex-grow-0","gap-4"],[1,"flex-1","fuse-mat-dense"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],[1,"bg-card","overflow-auto","rounded-2xl"],[1,"sm:items-center","overflow-auto","h-140"],["ngFor","",3,"ngForOf"],[1,"mx-6","mb-6"],[1,"flex","space-x-2","justify-end"],["mat-button","",3,"click"],["transloco","cancel",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"click"],["transloco","select",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"z-20","flex","items-center","p-5","cursor-pointer","border-b","mx-4"],[1,"relative","flex","flex-0","items-center","justify-center","w-10","h-10"],[4,"ngIf"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"flex","items-center","self-center","ml-auto","pl-2"],[3,"ngModel","color","ngModelChange"],["nz-image","","alt","Contact avatar",1,"w-full","h-full","rounded-full","object-cover",3,"nzSrc"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"mat-form-field",7)(8,"input",8),e.NdJ("ngModelChange",function(s){return i.search(s)}),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"mat-icon",9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11),e.YNc(13,ve,9,5,"ng-template",12),e.qZA()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"button",15),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(17,"label",16),e.qZA(),e.TgZ(18,"button",17),e.NdJ("click",function(){return i.select()}),e._UZ(19,"label",18),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("transloco",i.properties.title),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(4),e.Q6J("ngModel",null)("placeholder",e.lcZ(9,5,"placeholder.enterNameStaff")),e.xp6(5),e.Q6J("ngForOf",i.userDetail))},dependencies:[T.Hw,p.KI,C.lW,C.RK,F.Nt,w.KE,w.qo,u.O5,g.Fj,g.JJ,g.On,u.sg,O.Ie,L.oG,V.F,p.Ot],encapsulation:2}),n})();var Te=l(79925);function Me(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",26),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("nzSrc","https://localhost:5001"+t.citizenImageFace)}}function ye(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",27),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.fullName.charAt(0)," ")}}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,Me,2,1,"ng-container",21),e.YNc(3,ye,3,1,"ng-container",21),e.qZA(),e.TgZ(4,"div",22)(5,"div",23),e._uU(6),e.qZA()(),e.TgZ(7,"div",24)(8,"mat-checkbox",25),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.updateChecked(r.outsideCustomerId,o))}),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",t.citizenImageFace),e.xp6(1),e.Q6J("ngIf",!t.citizenImageFace),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Q6J("ngModel",i.setOfChecked.has(t.outsideCustomerId))("color","primary")}}let Ze=(()=>{class n extends I.Y{constructor(t,i,o,s,r){super(s,i,t),this.dialogRef=t,this.fuseConfirmationService=i,this._outsideCustomerService=o,this.translocoService=s,this._unsubscribeAll$=new h.x,this.properties={title:"nav.outsideCustomers",customerIds:[],isRequired:!0},this.isLoading=!1,this.defaultCustomers=[],this.setOfChecked=new Set,this.outsideCustomers=[],(0,S.TF)(r.title)||(this.properties.title=r.title),this.properties.isRequired=r.isRequired,r.customerIds&&r.customerIds.length&&(this.properties.customerIds=[...r.customerIds],r.customerIds.forEach(d=>{this.setOfChecked.add(d)}))}ngOnInit(){this.getData$().subscribe(({data:t})=>{this.outsideCustomers=[...t],this.defaultCustomers=[...t]})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}search(t){this.outsideCustomers=this.defaultCustomers.filter(i=>i.fullName.toLowerCase().includes(t.toLowerCase()))}getData$(){return this.isLoading=!0,this._outsideCustomerService.getAll({isUse:!0}).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1))}updateChecked(t,i){i?this.setOfChecked.add(t):this.setOfChecked.delete(t)}select(){const t=this.outsideCustomers.filter(o=>this.setOfChecked.has(o.outsideCustomerId));if(this.properties.isRequired&&!t.length)return void(0,v.CK)(this.fuseConfirmationService,this.translocoService.translate("message.itemStaffIsRequired"));const i=t.map(o=>({id:o.outsideCustomerId,fullName:o.fullName,imageUrl:o.citizenImageFace}));this.closePopup({data:i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.so),e.Y36(A.R),e.Y36(Te.H),e.Y36(p.Vn),e.Y36(_.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["select-outside-customer-popup"]],features:[e.qOj],decls:20,vars:7,consts:[[1,"flex","flex-col","flex-auto","md:min-w-140","min-w-140","bg-slate-100","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium",3,"transloco"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"flex","flex-col","p-4","overflow-hidden","m-4"],[1,"flex","flex-grow-0","gap-4"],[1,"flex-1","fuse-mat-dense"],["matInput","",3,"ngModel","placeholder","ngModelChange"],["matPrefix","","svgIcon","heroicons_solid:search",1,"cursor-pointer"],[1,"bg-card","overflow-auto","rounded-2xl"],[1,"sm:items-center","overflow-auto","h-140"],["ngFor","",3,"ngForOf"],[1,"mx-6","mb-6"],[1,"flex","space-x-2","justify-end"],["mat-button","",3,"click"],["transloco","cancel",1,"text-base","leading-6","font-medium","cursor-pointer"],["mat-flat-button","","color","primary",3,"click"],["transloco","select",1,"text-base","leading-6","font-medium","cursor-pointer"],[1,"z-20","flex","items-center","p-5","cursor-pointer","border-b","mx-4"],[1,"relative","flex","flex-0","items-center","justify-center","w-10","h-10"],[4,"ngIf"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"flex","items-center","self-center","ml-auto","pl-2"],[3,"ngModel","color","ngModelChange"],["nz-image","","alt","Contact avatar",1,"w-full","h-full","rounded-full","object-cover",3,"nzSrc"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"mat-form-field",7)(8,"input",8),e.NdJ("ngModelChange",function(s){return i.search(s)}),e.ALo(9,"transloco"),e.qZA(),e._UZ(10,"mat-icon",9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",11),e.YNc(13,De,9,5,"ng-template",12),e.qZA()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"button",15),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(17,"label",16),e.qZA(),e.TgZ(18,"button",17),e.NdJ("click",function(){return i.select()}),e._UZ(19,"label",18),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("transloco",i.properties.title),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(4),e.Q6J("ngModel",null)("placeholder",e.lcZ(9,5,"placeholder.enterNameStaff")),e.xp6(5),e.Q6J("ngForOf",i.outsideCustomers))},dependencies:[T.Hw,p.KI,C.lW,C.RK,F.Nt,w.KE,w.qo,u.O5,g.Fj,g.JJ,g.On,u.sg,O.Ie,L.oG,V.F,p.Ot],encapsulation:2}),n})();var ae=l(10304),Ie=l(9866),Se=l(3144);let k=(()=>{class n{constructor(t){this.http=t}get(t){return this.http.get("api/meetings",{params:t})}getStatuses(){return this.http.get("api/meetings/statuses")}add(t){return this.http.post("api/meetings",t)}getById(t){return this.http.get(`api/meetings/${encodeURIComponent(t)}`)}update(t,i){return this.http.put(`api/meetings/${encodeURIComponent(t)}`,i)}delete(t){return this.http.delete(`api/meetings/${encodeURIComponent(t)}`)}updatePatch(t,i){return this.http.patch(`api/meetings/${encodeURIComponent(t)}`,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Se.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ae=l(32202),le=l(47148),K=l(90504),Q=l(76681);function Ne(n,a){1&n&&(e.TgZ(0,"div",25),e._UZ(1,"nz-spin",26),e.qZA())}function we(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",34),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("nzSrc","https://localhost:5001"+t.imageUrl)}}function Oe(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.fullName.charAt(0)," ")}}function Je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.removeMember(o.userId))}),e._UZ(1,"mat-icon",37),e.qZA()}}function Ue(n,a){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30),e.YNc(2,we,2,1,"ng-container",31),e.YNc(3,Oe,3,1,"ng-container",31),e.qZA(),e.TgZ(4,"span",32),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.YNc(7,Je,2,0,"button",33),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",!t.imageUrl),e.xp6(2),e.Oqu(e.lcZ(6,4,t.fullName)),e.xp6(2),e.Q6J("ngIf",!i.properties.metadata.meetingUsers.disabled)}}function Fe(n,a){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Ue,8,6,"div",28),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.userId)}}function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addMembers())}),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",40),e._uU(3),e.ALo(4,"transloco"),e.qZA()()}2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"add")))}function ke(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",34),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("nzSrc","https://localhost:5001"+t.citizenImageFace)}}function Qe(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",35),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.fullName.charAt(0)," ")}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.removeCustomer(o.outsideCustomerId))}),e._UZ(1,"mat-icon",37),e.qZA()}}function Ye(n,a){if(1&n&&(e.TgZ(0,"div",29)(1,"div",30),e.YNc(2,ke,2,1,"ng-container",31),e.YNc(3,Qe,3,1,"ng-container",31),e.qZA(),e.TgZ(4,"span",32),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.YNc(7,Re,2,0,"button",33),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",t.citizenImageFace),e.xp6(1),e.Q6J("ngIf",!t.citizenImageFace),e.xp6(2),e.Oqu(e.lcZ(6,4,t.fullName)),e.xp6(2),e.Q6J("ngIf",!i.properties.metadata.meetingUsers.disabled)}}function Pe(n,a){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Ye,8,6,"div",28),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.outsideCustomerId)}}function $e(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addCustomers())}),e._UZ(1,"mat-icon",39),e.TgZ(2,"span",40),e._uU(3),e.ALo(4,"transloco"),e.qZA()()}2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"add")))}function Ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"cm-input",41),e.NdJ("modelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.meeting.cancelReason=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("actionEnum",t.properties.metadata.cancelReason.disabled?"view":"edit")("model",t.meeting.cancelReason)("label","master.notApprovalOrCancelReason")("isDisableLength",!0)}}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(1,"label",43),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.isLoading)("color","primary")}}function Be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._UZ(1,"label",43),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.isLoading)("color","primary")}}let R=(()=>{class n extends I.Y{constructor(t,i,o,s,r,d,U,Cn,bn){super(t,i,o),this.translocoService=t,this.fuseConfirmationService=i,this.dialogRef=o,this._meetingTypeService=s,this._roomService=r,this._meetingService=d,this._notification=U,this._dialog=Cn,this.isLoading=!1,this.properties={action:"view",meetingId:null,metadata:{description:{disabled:!1},endDate:{disabled:!1},meetingCustomers:{disabled:!1},meetingTypeId:{disabled:!1},meetingUsers:{disabled:!1},roomId:{disabled:!1},startDate:{disabled:!1},title:{disabled:!1},cancelReason:{disabled:!1}}},this.meeting={cancelReason:null,description:null,endDate:null,meetingCustomers:[],meetingId:null,meetingTypeId:null,meetingUsers:[],roomId:null,startDate:null,statusColor:null,statusId:null,statusName:null,title:null},this.meetingTypeCodes=[],this.roomCodes=[],this._unsubscribeAll$=new h.x,this.properties={...bn}}ngOnInit(){this.getData(this.properties.meetingId).pipe((0,c.R)(this._unsubscribeAll$),(0,x.n)(t=>!t)).subscribe(({data:t})=>{this.meeting=(0,H.cloneDeep)({...t})}),this._meetingTypeService.get({isUse:!0}).pipe((0,c.R)(this._unsubscribeAll$),(0,f.U)(({data:t})=>t.map(i=>({id:i.meetingTypeId,name:i.typeName})))).subscribe(t=>this.meetingTypeCodes=[...t]),this._roomService.get({isUse:!0}).pipe((0,c.R)(this._unsubscribeAll$),(0,f.U)(({data:t})=>t.map(i=>({id:i.roomId,name:i.name})))).subscribe(t=>this.roomCodes=[...t])}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}getData(t){return t?(this.isLoading=!0,this._meetingService.getById(this.properties.meetingId).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1))):(0,j.of)()}_isInvalidContent(t){return(0,S.TF)(t)}_isInvalidMeetingTypeId(t){return(0,S.TF)(t)}_isInvalidRoomId(t){return(0,S.TF)(t)}_isInvalidDate(t){return(0,S.TF)(t)&&!m()(t).isValid()}_isEndDateLessThanStartDate(t,i){return m()(t).diff(i)>0}save(){(this._isInvalidContent(this.meeting.description)||this._isInvalidRoomId(this.meeting.roomId)||this._isInvalidMeetingTypeId(this.meeting.meetingTypeId)||this._isInvalidDate(this.meeting.startDate)||this._isInvalidDate(this.meeting.endDate))&&this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("error.formInvalid"),{nzDuration:3e3}),this._isEndDateLessThanStartDate(this.meeting.startDate,this.meeting.endDate)&&this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("error.endDateLessThanStartDate"),{nzDuration:3e3}),this.isLoading=!0,this._meetingService.update(this.meeting.meetingId,{title:this.meeting.title,description:this.meeting.description,meetingId:this.meeting.meetingId,meetingTypeId:this.meeting.meetingTypeId,roomId:this.meeting.roomId,startDate:this.meeting.startDate,endDate:this.meeting.endDate,meetingUsers:this.meeting.meetingUsers,meetingCustomers:this.meeting.meetingCustomers,statusId:this.meeting.statusId}).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1)).subscribe(()=>{(0,v.Df)(this.fuseConfirmationService),this.closePopup()})}add(){(this._isInvalidContent(this.meeting.description)||this._isInvalidRoomId(this.meeting.roomId)||this._isInvalidMeetingTypeId(this.meeting.meetingTypeId)||this._isInvalidDate(this.meeting.startDate)||this._isInvalidDate(this.meeting.endDate))&&this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("error.formInvalid"),{nzDuration:3e3}),this._isEndDateLessThanStartDate(this.meeting.startDate,this.meeting.endDate)&&this._notification.warning(this.translocoService.translate("warning"),this.translocoService.translate("error.endDateLessThanStartDate"),{nzDuration:3e3}),this.isLoading=!0,this._meetingService.add({title:this.meeting.title,description:this.meeting.description,meetingTypeId:this.meeting.meetingTypeId,roomId:this.meeting.roomId,startDate:this.meeting.startDate,endDate:this.meeting.endDate,meetingUsers:this.meeting.meetingUsers,meetingCustomers:this.meeting.meetingCustomers}).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1)).subscribe(()=>{(0,v.Df)(this.fuseConfirmationService),this.closePopup()})}removeMember(t){this.meeting.meetingUsers=this.meeting.meetingUsers.filter(i=>i.userId!==t)}addMembers(){this._dialog.open(ze,{data:{userIds:this.meeting.meetingUsers.map(t=>t.userId)}}).afterClosed().pipe((0,c.R)(this._unsubscribeAll$),(0,x.n)(t=>!t)).subscribe(({data:t})=>{this.meeting.meetingUsers=t.map(i=>({meetingUserId:null,meetingId:null,userId:i.id,fullName:i.fullName,imageUrl:i.imageUrl}))})}removeCustomer(t){this.meeting.meetingCustomers=this.meeting.meetingCustomers.filter(i=>i.outsideCustomerId!==t)}addCustomers(){this._dialog.open(Ze,{data:{customerIds:this.meeting.meetingCustomers.map(t=>t.outsideCustomerId)}}).afterClosed().pipe((0,c.R)(this._unsubscribeAll$),(0,x.n)(t=>!t)).subscribe(({data:t})=>{this.meeting.meetingCustomers=t.map(i=>({meetingCustomerId:null,meetingId:null,outsideCustomerId:i.id,fullName:i.fullName,imageUrl:i.imageUrl}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Vn),e.Y36(A.R),e.Y36(_.so),e.Y36(ae.u),e.Y36(Ie.X),e.Y36(k),e.Y36(Ae.zb),e.Y36(_.uw),e.Y36(_.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting-detail-popup"]],features:[e.qOj],decls:42,vars:43,consts:[[1,"flex","flex-col","flex-auto","min-w-160","max-w-160","-m-6","bg-slate-100"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium",3,"transloco"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"max-h-screen-80","overflow-auto","p-6","space-y-6","dark:bg-gray-900"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[1,"flex","flex-col","p-6","bg-card","shadow","rounded-md","space-y-4"],[1,"flex","md:space-x-4"],[1,"w-full",3,"actionEnum","model","label","isRequired","isDisableLength","modelChange"],["type","textarea",1,"w-full",3,"actionEnum","model","label","isDisableLength","modelChange"],[1,"flex-1",3,"actionEnum","model","isRequired","label","listData","modelChange"],["type","datetimepicker",1,"w-full","flex-1",3,"actionEnum","model","label","isDisableLength","modelChange"],[1,"flex-1","flex","flex-col","gap-2.5"],[1,"font-semibold"],[1,"-mt-1","flex-wrap","flex","gap-2.5","md:flex-row"],["class","flex group gap-2.5 flex-wrap p-2 rounded-md bg-slate-100 hover:bg-slate-200 transition-colors mb-4",4,"ngFor","ngForOf"],["class","flex group gap-2.5 font-semibold flex-wrap p-2 rounded-md bg-slate-100 hover:bg-slate-200 transition-colors mb-4",3,"click",4,"ngIf"],["class","flex md:space-x-4",4,"ngIf"],[1,"flex","justify-between","mt-5"],[1,"flex"],[1,"flex","flex-row","space-x-2","justify-end"],["mat-flat-button","",1,"w-min","bg-slate-100","hover:bg-slate-200",3,"click"],["transloco","cancel",1,"text-md"],["mat-flat-button","","class","w-min",3,"disabled","color","click",4,"ngIf"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],[1,"flex","group","gap-2.5","flex-wrap","p-2","rounded-md","bg-slate-100","hover:bg-slate-200","transition-colors","mb-4"],["class","flex gap-2.5",4,"ngIf"],[1,"flex","gap-2.5"],[1,"flex","flex-0","items-center","justify-center","w-6","h-6"],[4,"ngIf"],[1,"text-base","font-medium","text-slate-600"],[3,"click",4,"ngIf"],["nz-image","","alt","Contact avatar",1,"w-full","h-full","rounded-full","object-cover",3,"nzSrc"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[3,"click"],["svgIcon","heroicons_outline:x-mark",1,"icon-size-5","pt-1","text-slate-500"],[1,"flex","group","gap-2.5","font-semibold","flex-wrap","p-2","rounded-md","bg-slate-100","hover:bg-slate-200","transition-colors","mb-4",3,"click"],["svgIcon","heroicons_outline:plus",1,"icon-size-5","pt-1","text-slate-500"],[1,"text-slate-500"],["type","textarea",1,"w-full","flex-1",3,"actionEnum","model","label","isDisableLength","modelChange"],["mat-flat-button","",1,"w-min",3,"disabled","color","click"],["transloco","save"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5),e.YNc(6,Ne,2,0,"div",6),e.TgZ(7,"div",7)(8,"div",8)(9,"cm-input",9),e.NdJ("modelChange",function(s){return i.meeting.title=s}),e.qZA()(),e.TgZ(10,"div",8)(11,"cm-input",10),e.NdJ("modelChange",function(s){return i.meeting.description=s}),e.qZA()(),e.TgZ(12,"div",8)(13,"cm-select",11),e.NdJ("modelChange",function(s){return i.meeting.meetingTypeId=s}),e.qZA(),e.TgZ(14,"cm-select",11),e.NdJ("modelChange",function(s){return i.meeting.roomId=s}),e.qZA()(),e.TgZ(15,"div",8)(16,"cm-input",12),e.NdJ("modelChange",function(s){return i.meeting.startDate=s}),e.qZA(),e.TgZ(17,"cm-input",12),e.NdJ("modelChange",function(s){return i.meeting.endDate=s}),e.qZA()(),e.TgZ(18,"div",8)(19,"div",13)(20,"span",14),e._uU(21),e.ALo(22,"transloco"),e.qZA(),e.TgZ(23,"div",15),e.YNc(24,Fe,2,1,"div",16),e.YNc(25,Le,5,3,"button",17),e.qZA()()(),e.TgZ(26,"div",8)(27,"div",13)(28,"span",14),e._uU(29),e.ALo(30,"transloco"),e.qZA(),e.TgZ(31,"div",15),e.YNc(32,Pe,2,1,"div",16),e.YNc(33,$e,5,3,"button",17),e.qZA()()(),e.YNc(34,Ee,2,4,"div",18),e.qZA(),e.TgZ(35,"div",19),e._UZ(36,"div",20),e.TgZ(37,"div",21)(38,"button",22),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(39,"label",23),e.qZA(),e.YNc(40,qe,2,2,"button",24),e.YNc(41,Be,2,2,"button",24),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("transloco","master.bookMeeting"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(2),e.Q6J("ngIf",i.isLoading),e.xp6(3),e.Q6J("actionEnum",i.properties.metadata.title.disabled?"view":"edit")("model",i.meeting.title)("label","master.meetingTitle")("isRequired",!0)("isDisableLength",!0),e.xp6(2),e.Q6J("actionEnum",i.properties.metadata.description.disabled?"view":"edit")("model",i.meeting.description)("label","com.content")("isDisableLength",!0),e.xp6(2),e.Q6J("actionEnum",i.properties.metadata.meetingTypeId.disabled?"view":"edit")("model",i.meeting.meetingTypeId)("isRequired",!0)("label","master.meetingType")("listData",i.meetingTypeCodes),e.xp6(1),e.Q6J("actionEnum",i.properties.metadata.roomId.disabled?"view":"edit")("model",i.meeting.roomId)("isRequired",!0)("label","master.meetingRoom")("listData",i.roomCodes),e.xp6(2),e.Q6J("actionEnum",i.properties.metadata.startDate.disabled?"view":"edit")("model",i.meeting.startDate)("label","com.startTime")("isDisableLength",!0),e.xp6(1),e.Q6J("actionEnum",i.properties.metadata.endDate.disabled?"view":"edit")("model",i.meeting.endDate)("label","com.endTime")("isDisableLength",!0),e.xp6(4),e.hij(" ",e.lcZ(22,39,"master.participatedStaff")," "),e.xp6(3),e.Q6J("ngForOf",i.meeting.meetingUsers),e.xp6(1),e.Q6J("ngIf",!i.properties.metadata.meetingUsers.disabled),e.xp6(4),e.hij(" ",e.lcZ(30,41,"master.participatedCustomer")," "),e.xp6(3),e.Q6J("ngForOf",i.meeting.meetingCustomers),e.xp6(1),e.Q6J("ngIf",!i.properties.metadata.meetingUsers.disabled),e.xp6(1),e.Q6J("ngIf","new"!==i.properties.action),e.xp6(6),e.Q6J("ngIf","edit"==i.properties.action),e.xp6(1),e.Q6J("ngIf","new"==i.properties.action))},dependencies:[C.lW,C.RK,T.Hw,p.KI,O.Ie,u.sg,u.O5,le.f,K.W,V.F,Q.W,p.Ot],encapsulation:2}),n})();var je=l(61135),He=l(78372),Ge=l(63900);let re=(()=>{class n extends I.Y{constructor(t,i,o,s){super(t,i,o),this.translocoService=t,this.fuseConfirmationService=i,this.dialogRef=o,this.title="",this.reason="",this._unsubscribeAll$=new h.x,this.title=s.title}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}save(){this.closePopup({reason:this.reason})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Vn),e.Y36(A.R),e.Y36(_.so),e.Y36(_.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting-reason-popup"]],features:[e.qOj],decls:16,vars:5,consts:[[1,"flex","flex-col","flex-aut","min-w-160","max-w-160","-m-6","bg-slate-100"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium",3,"transloco"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"max-h-screen-80","overflow-auto","p-6","space-y-6","dark:bg-gray-900"],[1,"flex","flex-col","p-6","bg-card","shadow","rounded-md","space-y-4"],[1,"flex","md:space-x-4"],["type","textarea",1,"w-full",3,"model","isDisableLength","modelChange"],[1,"flex","justify-between","mt-5"],[1,"flex"],[1,"flex","flex-row","space-x-2","justify-end"],["mat-flat-button","",1,"w-min","bg-slate-100","hover:bg-slate-200",3,"click"],["transloco","cancel",1,"text-md"],["mat-flat-button","",1,"w-min",3,"color","click"],["transloco","save"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"cm-input",8),e.NdJ("modelChange",function(s){return i.reason=s}),e.qZA()()(),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.TgZ(11,"div",11)(12,"button",12),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(13,"label",13),e.qZA(),e.TgZ(14,"button",14),e.NdJ("click",function(){return i.save()}),e._UZ(15,"label",15),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("transloco",i.title),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(4),e.Q6J("model",i.reason)("isDisableLength",!0),e.xp6(6),e.Q6J("color","primary"))},dependencies:[C.lW,C.RK,T.Hw,p.KI,K.W],encapsulation:2}),n})();var y=l(58016),Y=l(17406);const P=function(){return{color:"#22C55E"}};function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.sendApproval(o.meetingId))}),e._UZ(1,"mat-icon",31),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,P)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"com.sendApproval")," "))}function Ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.approve(o.meetingId))}),e._UZ(1,"mat-icon",31),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,P)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"com.approve")," "))}function We(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.sendApproval(o.meetingId))}),e._UZ(1,"mat-icon",31),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,P)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"com.reapprove")," "))}function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.sendNotApproval(o.meetingId))}),e._UZ(1,"mat-icon",32),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"com.sendNotApproval")," "))}const et=function(){return{color:"#3B82F6"}};function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.startMeeting(o.meetingId))}),e._UZ(1,"mat-icon",33),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,et)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"master.startMeeting")," "))}function nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.cancelMeeting(o.meetingId))}),e._UZ(1,"mat-icon",32),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"master.cancelMeeting")," "))}function it(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.rescheduleMeeting(o.meetingId))}),e._UZ(1,"mat-icon",34),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,P)),e.xp6(1),e.hij(" ",e.lcZ(3,2,"master.rescheduleMeeting")," "))}function ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.completeMeeting(o.meetingId))}),e._UZ(1,"mat-icon",35),e._uU(2),e.ALo(3,"transloco"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"master.completeMeeting")," "))}function st(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",16),e.NdJ("dblclick",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.view(s.meetingId))}),e.TgZ(1,"td")(2,"span",17)(3,"button",18)(4,"mat-icon"),e._uU(5," more_vert "),e.qZA(),e.TgZ(6,"mat-menu",null,19)(8,"button",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.view(s.meetingId))}),e._UZ(9,"mat-icon",21),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e.TgZ(12,"button",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.edit(s.meetingId))}),e._UZ(13,"mat-icon",23),e._uU(14),e.ALo(15,"transloco"),e.qZA(),e.YNc(16,Ve,4,5,"button",24),e.YNc(17,Ke,4,5,"button",24),e.YNc(18,We,4,5,"button",24),e.YNc(19,Xe,4,3,"button",24),e.YNc(20,tt,4,5,"button",24),e.YNc(21,nt,4,3,"button",24),e.YNc(22,it,4,5,"button",24),e.YNc(23,ot,4,3,"button",24),e.TgZ(24,"button",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.delete(s.meetingId))}),e._UZ(25,"mat-icon",25),e._uU(26),e.ALo(27,"transloco"),e.qZA()()()()(),e.TgZ(28,"td")(29,"div",26),e._uU(30),e.qZA()(),e.TgZ(31,"td"),e._uU(32),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.TgZ(37,"td"),e._uU(38),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.ALo(41,"date"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.ALo(44,"date"),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.TgZ(47,"td")(48,"div",27)(49,"div",28),e.O4$(),e.TgZ(50,"svg",29),e._UZ(51,"circle",30),e.qZA()(),e._uU(52),e.ALo(53,"transloco"),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.index,o=e.MAs(7),s=e.oxw(),r=e.MAs(14);let d;e.xp6(3),e.Q6J("matMenuTriggerFor",o),e.xp6(7),e.hij(" ",e.lcZ(11,25,"com.view")," "),e.xp6(2),e.Q6J("disabled",s.isCancelledOrCompletedOrProcess(t.statusId)),e.xp6(2),e.hij(" ",e.lcZ(15,27,"com.edit")," "),e.xp6(2),e.Q6J("ngIf",s.isNew(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isWaiting(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isNotApproved(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isWaiting(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isApproved(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isApproved(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isProcess(t.statusId)),e.xp6(1),e.Q6J("ngIf",s.isProcess(t.statusId)),e.xp6(1),e.Q6J("disabled",!s.isNew(t.statusId)),e.xp6(2),e.hij(" ",e.lcZ(27,29,"com.delete")," "),e.xp6(4),e.Oqu((r.nzPageIndex-1)*r.nzPageSize+i+1),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.meetingTypeName),e.xp6(2),e.Oqu(t.roomName),e.xp6(2),e.Oqu(e.xi3(41,31,t.startDate,"dd/MM/yyyy HH:mm:ss")),e.xp6(3),e.Oqu(e.xi3(44,34,t.endDate,"dd/MM/yyyy HH:mm:ss")),e.xp6(3),e.Oqu("user"),e.xp6(4),e.Udp("fill",null!==(d=t.statusColor)&&void 0!==d?d:"#8d8d8d"),e.xp6(2),e.hij(" ",e.lcZ(53,37,t.statusName)," ")}}let W=(()=>{class n{constructor(t,i,o,s){this._meetingService=t,this._meetingTypeService=i,this._dialog=o,this._fuseConfirmationService=s,this.listData=[],this.isLoading=!1,this.filter$=new je.X({textSearch:null,meetingTypeId:null,statusId:null,startDate:m()().startOf("months").startOf("day").toISOString(),endDate:m()().endOf("months").endOf("day").toISOString()}),this.filter=this.filter$.value,this._unsubscribeAll$=new h.x,this.statusCodes=[],this.meetingTypeCodes=[]}ngOnInit(){this.filter$.pipe((0,He.b)(300),(0,c.R)(this._unsubscribeAll$),(0,Ge.w)(t=>this.getData(t))).subscribe(({data:t})=>{this.listData=[...t]}),this._meetingService.getStatuses().pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({data:t})=>{this.statusCodes=[...t]}),this._meetingTypeService.get({isUse:!0}).pipe((0,c.R)(this._unsubscribeAll$),(0,f.U)(({data:t})=>t.map(i=>({id:i.meetingTypeId,name:i.typeName})))).subscribe(t=>this.meetingTypeCodes=[...t])}getData(t){return this.isLoading=!0,this._meetingService.get(t).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1))}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}refresh(){this.filter$.next(this.filter)}search(){this.filter$.next(this.filter)}isNew(t){return"MEETING_NEW"===t}isWaiting(t){return"MEETING_WAIT"===t}isApproved(t){return"MEETING_APPROVE"===t}isNotApproved(t){return"MEETING_NOT_APPROVE"===t}isCancelled(t){return"MEETING_CANCEL"===t}isCancelledOrCompletedOrProcess(t){return this.isCancelled(t)||this.isCompleted(t)||this.isProcess(t)}isCompleted(t){return"MEETING_END"===t}isProcess(t){return"MEETING_PROCESS"===t}sendApproval(t){this._meetingService.updatePatch(t,{statusId:"MEETING_WAIT"}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:i})=>{i&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})}approve(t){this._meetingService.updatePatch(t,{statusId:"MEETING_APPROVE"}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:i})=>{i&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})}sendNotApproval(t){this._dialog.open(re,{data:{title:"master.notApprovedReason"}}).afterClosed().subscribe(({reason:i})=>{this._meetingService.updatePatch(t,{statusId:"MEETING_NOT_APPROVE",cancelReason:i}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:o})=>{o&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})})}startMeeting(t){this._meetingService.updatePatch(t,{statusId:"MEETING_PROCESS"}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:i})=>{i&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})}cancelMeeting(t){this._dialog.open(re,{data:{title:"master.cancelReason"}}).afterClosed().subscribe(({reason:i})=>{this._meetingService.updatePatch(t,{statusId:"MEETING_CANCEL",cancelReason:i}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:o})=>{o&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})})}completeMeeting(t){const i=m()().utc().toISOString();this._meetingService.updatePatch(t,{statusId:"MEETING_END",endDate:i}).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:o})=>{o&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})}view(t){this._dialog.open(R,{data:{action:"view",meetingId:t,metadata:{description:{disabled:!0},endDate:{disabled:!0},meetingCustomers:{disabled:!0},meetingTypeId:{disabled:!0},meetingUsers:{disabled:!0},roomId:{disabled:!0},startDate:{disabled:!0},title:{disabled:!0},cancelReason:{disabled:!0}}},disableClose:!1}).afterClosed()}edit(t){this._dialog.open(R,{data:{action:"edit",meetingId:t,metadata:{description:{disabled:!1},endDate:{disabled:!1},meetingCustomers:{disabled:!1},meetingTypeId:{disabled:!1},meetingUsers:{disabled:!1},roomId:{disabled:!1},startDate:{disabled:!1},title:{disabled:!1},cancelReason:{disabled:!0}}},disableClose:!1}).afterClosed().subscribe(()=>{this.filter$.next(this.filter)})}rescheduleMeeting(t){this._dialog.open(R,{data:{action:"edit",meetingId:t,metadata:{description:{disabled:!0},endDate:{disabled:!1},meetingCustomers:{disabled:!0},meetingTypeId:{disabled:!0},meetingUsers:{disabled:!0},roomId:{disabled:!0},startDate:{disabled:!0},title:{disabled:!0},cancelReason:{disabled:!0}}},disableClose:!1}).afterClosed().subscribe(()=>{this.filter$.next(this.filter)})}delete(t){this._meetingService.delete(t).pipe((0,c.R)(this._unsubscribeAll$)).subscribe(({success:i})=>{i&&((0,v.Df)(this._fuseConfirmationService),this.filter$.next(this.filter))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k),e.Y36(ae.u),e.Y36(_.uw),e.Y36(A.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting-list"]],decls:49,vars:47,consts:[[1,"flex","flex-col","min-w-0","flex-auto"],[1,"bg-card","m-6","rounded-md","shadow"],[1,"p-6","space-y-6"],[1,"flex-col","flex","sm:flex-row","sm:justify-between"],[1,"flex","flex-col","w-full","h-full","space-y-6"],[1,"flex","gap-4"],["label","com.title",1,"flex-1",3,"model","isDisableLength","placeholder","modelChange"],["label","master.meetingType",1,"flex-1",3,"listData","model","modelChange"],["label","com.status",1,"flex-1",3,"listData","model","modelChange"],["label","com.time",1,"flex-1",3,"start","end","callbackChange","isDisableLength","type","startChange","endChange"],[1,"border-b","w-full"],["nzShowSizeChanger","","nzBordered","true",3,"nzLoading","nzData"],["basicTable",""],["width","80px"],["nzAlign","center","nzWidth","70px"],["class","hover:cursor-pointer",3,"dblclick",4,"ngFor","ngForOf"],[1,"hover:cursor-pointer",3,"dblclick"],[1,"items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],["headerMenu",""],["mat-menu-item","",3,"click"],["svgIcon","heroicons_outline:eye"],["mat-menu-item","",3,"disabled","click"],["svgIcon","heroicons_outline:pencil"],["mat-menu-item","",3,"click",4,"ngIf"],["color","warn","svgIcon","heroicons_outline:trash"],[1,"h-full","flex","justify-center","items-center"],[1,"flex","gap-2.5","items-center"],[1,"w-4","h-4"],["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg"],["cx","50","cy","50","r","50"],["svgIcon","heroicons_outline:check-badge",3,"ngStyle"],["color","warn","svgIcon","heroicons_solid:x-circle"],["svgIcon","heroicons_solid:play-circle",3,"ngStyle"],["svgIcon","heroicons_outline:adjustments-vertical",3,"ngStyle"],["color","warn","svgIcon","heroicons_solid:stop-circle"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"cm-input",6),e.NdJ("modelChange",function(s){return i.filter.textSearch=s})("modelChange",function(){return i.search()}),e.ALo(7,"transloco"),e.qZA(),e.TgZ(8,"cm-select",7),e.NdJ("modelChange",function(s){return i.filter.meetingTypeId=s})("modelChange",function(){return i.search()}),e.qZA(),e.TgZ(9,"cm-select",8),e.NdJ("modelChange",function(s){return i.filter.statusId=s})("modelChange",function(){return i.search()}),e.qZA(),e.TgZ(10,"cm-input",9),e.NdJ("startChange",function(s){return i.filter.startDate=s})("endChange",function(s){return i.filter.endDate=s}),e.qZA()(),e._UZ(11,"div",10),e.qZA()(),e.TgZ(12,"div")(13,"nz-table",11,12)(15,"thead")(16,"tr")(17,"th",13),e._uU(18),e.ALo(19,"transloco"),e.qZA(),e.TgZ(20,"th",14),e._uU(21),e.ALo(22,"transloco"),e.qZA(),e.TgZ(23,"th"),e._uU(24),e.ALo(25,"transloco"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.ALo(28,"transloco"),e.qZA(),e.TgZ(29,"th"),e._uU(30),e.ALo(31,"transloco"),e.qZA(),e.TgZ(32,"th"),e._uU(33),e.ALo(34,"transloco"),e.qZA(),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"transloco"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"transloco"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"transloco"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"transloco"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,st,54,39,"tr",15),e.qZA()()()()()()),2&t){const o=e.MAs(14);e.xp6(6),e.s9C("placeholder",e.lcZ(7,25,"plHolder.typeTitle")),e.Q6J("model",i.filter.textSearch)("isDisableLength",!0),e.xp6(2),e.Q6J("listData",i.meetingTypeCodes)("model",i.filter.meetingTypeId),e.xp6(1),e.Q6J("listData",i.statusCodes)("model",i.filter.statusId),e.xp6(1),e.Q6J("start",i.filter.startDate)("end",i.filter.endDate)("callbackChange",i.search)("isDisableLength",!0)("type","daterangepicker"),e.xp6(3),e.Q6J("nzLoading",i.isLoading)("nzData",i.listData),e.xp6(5),e.Oqu(e.lcZ(19,27,"master.function")),e.xp6(3),e.Oqu(e.lcZ(22,29,"master.no")),e.xp6(3),e.Oqu(e.lcZ(25,31,"master.meetingTitle")),e.xp6(3),e.Oqu(e.lcZ(28,33,"com.content")),e.xp6(3),e.Oqu(e.lcZ(31,35,"master.meetingType")),e.xp6(3),e.Oqu(e.lcZ(34,37,"master.meetingRoom")),e.xp6(3),e.Oqu(e.lcZ(37,39,"com.startTime")),e.xp6(3),e.Oqu(e.lcZ(40,41,"com.endTime")),e.xp6(3),e.Oqu(e.lcZ(43,43,"com.booker")),e.xp6(3),e.Oqu(e.lcZ(46,45,"com.status")),e.xp6(3),e.Q6J("ngForOf",o.data)}},dependencies:[y.N8,y.Uo,y._C,y.Om,y.p0,y.$Z,y.UX,C.RK,T.Hw,u.sg,u.O5,u.PC,le.f,K.W,Y.VK,Y.OP,Y.p6,p.Ot,u.uU],encapsulation:2}),n})();var ce=l(83649),N=l(68930),$=l(22643),E=l(22497),X=l(23697),z=l(70655),ee=l(47169),J=l(9436),D=l(44780);const at=["itemLabels"],lt=function(){return{"ant-segmented-thumb":!0,"ant-segmented-thumb-motion":!0}};function rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@thumbMotion.done",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.handleThumbAnimationDone(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.DdM(2,lt))("@thumbMotion",t.animationState)}}function ct(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.label," ")}}const de=function(n,a){return{$implicit:n,index:a}};function dt(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",9),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span"),e.YNc(4,ct,2,1,"ng-container",11),e.qZA(),e.BQk()),2&n){const t=e.oxw(),i=t.$implicit,o=t.index,s=e.oxw();e.xp6(2),e.Q6J("nzType",i.icon),e.xp6(2),e.Q6J("nzStringTemplateOutlet",i.useTemplate&&s.nzLabelTemplate)("nzStringTemplateOutletContext",e.WLB(3,de,i,o))}}function ut(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function mt(n,a){if(1&n&&e.YNc(0,ut,2,1,"ng-container",11),2&n){const t=e.oxw(),i=t.$implicit,o=t.index,s=e.oxw();e.Q6J("nzStringTemplateOutlet",i.useTemplate&&s.nzLabelTemplate)("nzStringTemplateOutletContext",e.WLB(2,de,i,o))}}const pt=function(n,a){return{"ant-segmented-item":!0,"ant-segmented-item-selected":n,"ant-segmented-item-disabled":a}};function gt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"label",3,4),e._UZ(2,"input",5),e.TgZ(3,"div",6),e.NdJ("click",function(){const o=e.CHM(t),s=o.$implicit,r=o.index,d=e.oxw();return e.KtG(!s.disabled&&d.handleOptionClick(r))}),e.YNc(4,dt,5,6,"ng-container",7),e.YNc(5,mt,1,5,"ng-template",null,8,e.W1O),e.qZA()()}if(2&n){const t=a.$implicit,i=a.index,o=e.MAs(6),s=e.oxw();e.Q6J("ngClass",e.WLB(4,pt,i===s.selectedIndex,!!s.nzDisabled||t.disabled)),e.xp6(2),e.Q6J("checked",i===s.selectedIndex),e.xp6(2),e.Q6J("ngIf",t.icon)("ngIfElse",o)}}let _t=(()=>{class n{constructor(t,i,o){this.nzConfigService=t,this.cdr=i,this.directionality=o,this._nzModuleName="segmented",this.nzBlock=!1,this.nzDisabled=!1,this.nzOptions=[],this.nzSize="default",this.nzLabelTemplate=null,this.nzValueChange=new e.vpe,this.dir="ltr",this.selectedIndex=0,this.transitionedToIndex=-1,this.animationState=null,this.normalizedOptions=[],this.destroy$=new h.x,this.onChange=()=>{},this.onTouched=()=>{},this.directionality.change?.pipe((0,c.R)(this.destroy$)).subscribe(s=>{this.dir=s,this.cdr.detectChanges()})}ngOnChanges(t){const{nzOptions:i}=t;i&&(this.normalizedOptions=function ht(n){return n.map(a=>"string"==typeof a||"number"==typeof a?{label:`${a}`,value:a}:a)}(i.currentValue))}handleOptionClick(t){this.nzDisabled||(this.changeSelectedIndex(t),this.onChange(t),this.nzValueChange.emit(t))}handleThumbAnimationDone(t){"from"===t.fromState&&(this.selectedIndex=this.transitionedToIndex,this.transitionedToIndex=-1,this.animationState=null,this.cdr.detectChanges())}writeValue(t){"number"==typeof t&&t>-1&&(this.changeSelectedIndex(t),this.cdr.markForCheck())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}changeSelectedIndex(t){!this.listOfOptions||-1===this.selectedIndex||this.selectedIndex===t||(this.animationState={value:"from",params:ue(this.listOfOptions.get(this.selectedIndex).nativeElement)},this.selectedIndex=-1,this.cdr.detectChanges(),this.animationState={value:"to",params:ue(this.listOfOptions.get(t).nativeElement)},this.transitionedToIndex=t,this.cdr.detectChanges())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.jY),e.Y36(e.sBO),e.Y36(N.Is,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-segmented"]],viewQuery:function(t,i){if(1&t&&e.Gf(at,5,e.SBq),2&t){let o;e.iGM(o=e.CRH())&&(i.listOfOptions=o)}},hostAttrs:[1,"ant-segmented"],hostVars:10,hostBindings:function(t,i){2&t&&e.ekj("ant-segmented-disabled",!!i.nzDisabled)("ant-segmented-rtl","rtl"===i.dir)("ant-segmented-lg","large"===i.nzSize)("ant-segmented-sm","small"===i.nzSize)("ant-segmented-block",!!i.nzBlock)},inputs:{nzBlock:"nzBlock",nzDisabled:"nzDisabled",nzOptions:"nzOptions",nzSize:"nzSize",nzLabelTemplate:"nzLabelTemplate"},outputs:{nzValueChange:"nzValueChange"},exportAs:["nzSegmented"],features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:3,vars:2,consts:[[1,"ant-segmented-group"],[3,"ngClass",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["itemLabels",""],["type","radio",1,"ant-segmented-item-input",3,"checked"],[1,"ant-segmented-item-label",3,"click"],[4,"ngIf","ngIfElse"],["else_template",""],[1,"ant-segmented-item-icon"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,rt,1,3,"div",1),e.YNc(2,gt,7,7,"label",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.animationState),e.xp6(1),e.Q6J("ngForOf",i.normalizedOptions))},dependencies:[u.mk,u.sg,u.O5,X.Ls,$.f],encapsulation:2,data:{animation:[ee.Tw]},changeDetection:0}),(0,z.gn)([(0,D.yF)()],n.prototype,"nzBlock",void 0),(0,z.gn)([(0,D.yF)()],n.prototype,"nzDisabled",void 0),(0,z.gn)([(0,J.oS)()],n.prototype,"nzSize",void 0),n})();function ue(n){return{transform:n.offsetLeft,width:n.clientWidth}}let Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.vT,u.ez,g.u5,E.YI,X.PV,$.T]}),n})();const bt=function(){return["list"]};function xt(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",15),e._UZ(2,"mat-icon",16),e.ALo(3,"transloco"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(4,bt)),e.xp6(1),e.Q6J("matTooltip",e.lcZ(3,2,"master.modeViewTable")))}const vt=function(){return["calendar"]};function zt(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",15),e._UZ(2,"mat-icon",17),e.ALo(3,"transloco"),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(4,vt)),e.xp6(1),e.Q6J("matTooltip",e.lcZ(3,2,"master.modeViewCalendar")))}function Tt(n,a){1&n&&(e.ynx(0,13),e.YNc(1,xt,4,5,"ng-container",14),e.YNc(2,zt,4,5,"ng-container",14),e.BQk()),2&n&&(e.Q6J("ngSwitch",a.index),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",1))}let Mt=(()=>{class n{constructor(t,i,o,s){this._dialog=t,this._router=i,this._activatedRoute=o,this._currentTenantService=s,this._unsubscribeAll$=new h.x,this.pageViewIndex=0,this.pageViewOptions=[{label:"table",value:"list",useTemplate:!0},{label:"calendar",value:"calendar",useTemplate:!0}]}ngOnInit(){this._activatedRoute.firstChild.url.pipe((0,c.R)(this._unsubscribeAll$),(0,x.n)(t=>!t.length)).subscribe(t=>{const i=t.at(0).path;this.pageViewIndex=this.pageViewOptions.findIndex(o=>o.value===i)})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}add(){this._dialog.open(R,{data:{action:"new",meetingId:null,metadata:{description:{disabled:!1},endDate:{disabled:!1},meetingCustomers:{disabled:!1},meetingTypeId:{disabled:!1},meetingUsers:{disabled:!1},roomId:{disabled:!1},startDate:{disabled:!1},title:{disabled:!1},cancelReason:{disabled:!0}}},disableClose:!1}).afterClosed().pipe((0,x.n)(t=>!this.childRef),(0,x.n)(t=>!(this.childRef instanceof W))).subscribe(()=>{this.childRef.refresh()})}onActivate(t){this.childRef=t}onDeactivate(t){this.childRef=void 0}refresh(){this.childRef&&this.childRef instanceof W&&this.childRef.refresh()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.uw),e.Y36(b.F0),e.Y36(b.gz),e.Y36(se.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting"]],decls:17,vars:11,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-col"],[1,"flex","justify-between","items-center","bg-card","border-b","dark:bg-transparent","px-6","sm:py-5","md:px-8","gap-8"],[1,"leading-none","text-3xl","font-extrabold","tracking-tight"],[1,"space-x-4","flex","items-center"],["mat-flat-button","",1,"w-min",3,"color","click"],[1,"mr-2",3,"svgIcon"],["transloco","new"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","heroicons_outline:arrow-path",1,"text-slate-500"],[3,"ngModel","nzLabelTemplate","nzOptions","ngModelChange"],[3,"activate","deactivate"],["pageViewBtnTmpl",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","text-center","w-full","h-full",3,"routerLink"],["svgIcon","heroicons_solid:table-cells",1,"icon-size-5","mt-1",3,"matTooltip"],["svgIcon","heroicons_solid:calendar-days",1,"icon-size-5","mt-1",3,"matTooltip"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.ALo(5,"transloco"),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return i.add()}),e._UZ(8,"mat-icon",6)(9,"label",7),e.qZA(),e.TgZ(10,"button",8),e.NdJ("click",function(){return i.refresh()}),e.ALo(11,"transloco"),e._UZ(12,"mat-icon",9),e.qZA(),e.TgZ(13,"nz-segmented",10),e.NdJ("ngModelChange",function(s){return i.pageViewIndex=s}),e.qZA()()()(),e.TgZ(14,"router-outlet",11),e.NdJ("activate",function(s){return i.onActivate(s)})("deactivate",function(s){return i.onDeactivate(s)}),e.qZA()(),e.YNc(15,Tt,3,3,"ng-template",null,12,e.W1O)),2&t){const o=e.MAs(16);e.xp6(4),e.hij("",e.lcZ(5,7,"nav.meetings")," "),e.xp6(3),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","add"),e.xp6(2),e.s9C("matTooltip",e.lcZ(11,9,"com.refresh")),e.xp6(3),e.Q6J("ngModel",i.pageViewIndex)("nzLabelTemplate",o)("nzOptions",i.pageViewOptions)}},dependencies:[b.lC,b.rH,C.lW,C.RK,T.Hw,ce.gM,g.JJ,g.On,p.KI,u.RF,u.n9,_t,p.Ot],encapsulation:2}),n})();var yt=l(18505),me=l(6205);const Dt=["chart"];function Zt(n,a){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"nz-spin",16),e.qZA())}let It=(()=>{class n extends I.Y{constructor(t,i,o,s,r){super(t,i,o),this.translocoService=t,this.fuseConfirmationService=i,this.dialogRef=o,this._meetingService=s,this.meetings=[],this._unsubscribeAll$=new h.x,this.isLoading=!1,this.chartOptions=this.setupChart(),this.meetings=[...r.meetings]}_createStatusView(t,i){const o=[],s=t.map(r=>r.roomName);for(let r of i)o.push({name:this.translocoService.translate(r.name),data:s.map(d=>({x:this.translocoService.translate(d),y:[],fillColor:r.color}))});return o}_setSeriesYData(t,i,o){for(let s of this.chartOptions.series)if(s.name===t)for(let r of s.data)r.x===i&&(r.y=[...o])}ngOnInit(){this.isLoading=!0,this._meetingService.getStatuses().pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1)).subscribe(({data:t})=>{const i=this._createStatusView(this.meetings,t);this.setChartSeries(i);const o=(0,H.groupBy)(this.meetings,s=>s.roomName);for(let s in o)for(let r of o[s])this._setSeriesYData(this.translocoService.translate(r.statusName),s,[m()(r.startDate).unix(),m()(r.endDate).unix()])})}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}setChartSeries(t){this.chartOptions.series=[...t]}setupChart(){return{series:[],chart:{height:350,type:"rangeBar"},dataLabels:{enabled:!0,formatter:function(t){if(t.some(s=>!s))return"_";let i=m().unix(t[0]),o=m().unix(t[1]);return`${i.format("HH:mm")} - ${o.format("HH:mm")}`}},plotOptions:{bar:{horizontal:!0,dataLabels:{total:{formatter:t=>t}}}},xaxis:{type:"datetime",labels:{datetimeUTC:!1,formatter:(t,i)=>G().isString(t)&&G().isObject(i)?`${m().unix(i.start).format("HH:mm")} - ${m().unix(i.end).format("HH:mm")}`:G().isNumber(t)?m().unix(t).format("HH:mm"):t},tooltip:{enabled:!1}},legend:{show:!1}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Vn),e.Y36(A.R),e.Y36(_.so),e.Y36(k),e.Y36(_.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting-status-chart-popup"]],viewQuery:function(t,i){if(1&t&&e.Gf(Dt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.chart=o.first)}},features:[e.qOj],decls:15,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-240","max-w-240","-m-6","bg-slate-100"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium",3,"transloco"],["mat-icon-button","",3,"click"],[1,"icon-size-7","text-white",3,"svgIcon"],[1,"max-h-screen-80","overflow-auto","p-6","space-y-6","dark:bg-gray-900"],[1,"flex","flex-col","p-6","bg-card","shadow","rounded-md","space-y-4"],["id","chart",1,"relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[3,"series","chart","dataLabels","plotOptions","xaxis","legend"],[1,"flex","justify-between","mt-5"],[1,"flex"],[1,"flex","flex-row","space-x-2","justify-end"],["mat-flat-button","",1,"w-min","bg-slate-100","hover:bg-slate-200",3,"click"],["transloco","cancel",1,"text-md"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"button",3),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(4,"mat-icon",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"div",7),e.YNc(8,Zt,2,0,"div",8),e._UZ(9,"apx-chart",9),e.qZA()(),e.TgZ(10,"div",10),e._UZ(11,"div",11),e.TgZ(12,"div",12)(13,"button",13),e.NdJ("click",function(){return i.buttonClose()}),e._UZ(14,"label",14),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("transloco","master.bookMeetingTimeline"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(4),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("series",i.chartOptions.series)("chart",i.chartOptions.chart)("dataLabels",i.chartOptions.dataLabels)("plotOptions",i.chartOptions.plotOptions)("xaxis",i.chartOptions.xaxis)("legend",i.chartOptions.legend))},dependencies:[C.lW,C.RK,T.Hw,p.KI,u.O5,Q.W,me.x],encapsulation:2}),n})();var te=l(15276),q=l(92839),ne=l(29806),B=l(70265);function St(n,a){if(1&n&&e._UZ(0,"nz-option",7),2&n){const t=a.$implicit;e.Q6J("nzLabel",t.label)("nzValue",t.value)}}function At(n,a){if(1&n&&e._UZ(0,"nz-option",7),2&n){const t=a.$implicit;e.Q6J("nzLabel",t.label)("nzValue",t.value)}}function Nt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"nz-select",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.monthChange.emit(o))}),e.YNc(1,At,1,2,"nz-option",2),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("nzSize",t.size)("nzDropdownMatchSelectWidth",!1)("ngModel",t.activeMonth),e.xp6(1),e.Q6J("ngForOf",t.months)}}function wt(n,a){1&n&&e.GkF(0)}function Ot(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"date-table",6),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onDateSelect(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("prefixCls",t.prefixCls)("value",t.activeDate)("activeDate",t.activeDate)("cellRender",t.dateCell)("fullCellRender",t.dateFullCell)("disabledDate",t.nzDisabledDate)}}function Jt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"month-table",7),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onDateSelect(o))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("prefixCls",t.prefixCls)("value",t.activeDate)("activeDate",t.activeDate)("cellRender",t.monthCell)("fullCellRender",t.monthFullCell)}}let pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","nzDateCell",""]],exportAs:["nzDateCell"]}),n})(),Ut=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","nzMonthCell",""]],exportAs:["nzMonthCell"]}),n})(),Ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","nzDateFullCell",""]],exportAs:["nzDateFullCell"]}),n})(),Lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","nzMonthFullCell",""]],exportAs:["nzMonthFullCell"]}),n})(),kt=(()=>{class n{get activeYear(){return this.activeDate.getYear()}get activeMonth(){return this.activeDate.getMonth()}get size(){return this.fullscreen?"default":"small"}get yearTypeText(){return this.i18n.getLocale().Calendar.lang.year}get monthTypeText(){return this.i18n.getLocale().Calendar.lang.month}constructor(t,i){this.i18n=t,this.dateHelper=i,this.mode="month",this.fullscreen=!0,this.activeDate=new B.Yp,this.modeChange=new e.vpe,this.yearChange=new e.vpe,this.monthChange=new e.vpe,this.yearOffset=10,this.yearTotal=20,this.years=[],this.months=[]}ngOnInit(){this.setUpYears(),this.setUpMonths()}updateYear(t){this.yearChange.emit(t),this.setUpYears(t)}setUpYears(t){const i=(t||this.activeYear)-this.yearOffset,o=i+this.yearTotal;this.years=[];for(let s=i;s<o;s++)this.years.push({label:`${s}`,value:s})}setUpMonths(){this.months=[];for(let t=0;t<12;t++){const i=this.activeDate.setMonth(t),o=this.dateHelper.format(i.nativeDate,"MMM");this.months.push({label:o,value:t})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.wi),e.Y36(E.mx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-calendar-header"]],hostAttrs:[1,"ant-fullcalendar-header"],hostVars:2,hostBindings:function(t,i){2&t&&e.Udp("display","block")},inputs:{mode:"mode",fullscreen:"fullscreen",activeDate:"activeDate"},outputs:{modeChange:"modeChange",yearChange:"yearChange",monthChange:"monthChange"},exportAs:["nzCalendarHeader"],decls:9,vars:9,consts:[[1,"ant-picker-calendar-header"],[1,"ant-picker-calendar-year-select",3,"nzSize","nzDropdownMatchSelectWidth","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["class","ant-picker-calendar-month-select",3,"nzSize","nzDropdownMatchSelectWidth","ngModel","ngModelChange",4,"ngIf"],[1,"ant-picker-calendar-mode-switch",3,"ngModel","nzSize","ngModelChange"],["nz-radio-button","","nzValue","month"],["nz-radio-button","","nzValue","year"],[3,"nzLabel","nzValue"],[1,"ant-picker-calendar-month-select",3,"nzSize","nzDropdownMatchSelectWidth","ngModel","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"nz-select",1),e.NdJ("ngModelChange",function(s){return i.updateYear(s)}),e.YNc(2,St,1,2,"nz-option",2),e.qZA(),e.YNc(3,Nt,2,4,"nz-select",3),e.TgZ(4,"nz-radio-group",4),e.NdJ("ngModelChange",function(s){return i.mode=s})("ngModelChange",function(s){return i.modeChange.emit(s)}),e.TgZ(5,"label",5),e._uU(6),e.qZA(),e.TgZ(7,"label",6),e._uU(8),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("nzSize",i.size)("nzDropdownMatchSelectWidth",!1)("ngModel",i.activeYear),e.xp6(1),e.Q6J("ngForOf",i.years),e.xp6(1),e.Q6J("ngIf","month"===i.mode),e.xp6(1),e.Q6J("ngModel",i.mode)("nzSize",i.size),e.xp6(2),e.Oqu(i.monthTypeText),e.xp6(2),e.Oqu(i.yearTypeText))},dependencies:[u.sg,u.O5,g.JJ,g.On,q.Of,q.Bq,q.Dg,ne.Ip,ne.Vq],encapsulation:2,changeDetection:0}),n})(),Qt=(()=>{class n{get dateCell(){return this.nzDateCell||this.nzDateCellChild}get dateFullCell(){return this.nzDateFullCell||this.nzDateFullCellChild}get monthCell(){return this.nzMonthCell||this.nzMonthCellChild}get monthFullCell(){return this.nzMonthFullCell||this.nzMonthFullCellChild}constructor(t,i){this.cdr=t,this.directionality=i,this.activeDate=new B.Yp,this.prefixCls="ant-picker-calendar",this.destroy$=new h.x,this.dir="ltr",this.onChangeFn=()=>{},this.onTouchFn=()=>{},this.nzMode="month",this.nzModeChange=new e.vpe,this.nzPanelChange=new e.vpe,this.nzSelectChange=new e.vpe,this.nzValueChange=new e.vpe,this.nzFullscreen=!0}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,c.R)(this.destroy$)).subscribe(()=>{this.dir=this.directionality.value})}onModeChange(t){this.nzModeChange.emit(t),this.nzPanelChange.emit({date:this.activeDate.nativeDate,mode:t})}onYearSelect(t){const i=this.activeDate.setYear(t);this.updateDate(i)}onMonthSelect(t){const i=this.activeDate.setMonth(t);this.updateDate(i)}onDateSelect(t){this.updateDate(t)}writeValue(t){this.updateDate(new B.Yp(t),!1),this.cdr.markForCheck()}registerOnChange(t){this.onChangeFn=t}registerOnTouched(t){this.onTouchFn=t}updateDate(t,i=!0){this.activeDate=t,i&&(this.onChangeFn(t.nativeDate),this.onTouchFn(),this.nzSelectChange.emit(t.nativeDate),this.nzValueChange.emit(t.nativeDate))}ngOnChanges(t){t.nzValue&&this.updateDate(new B.Yp(this.nzValue),!1)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(N.Is,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-calendar"]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,pe,5,e.Rgc),e.Suo(o,Ft,5,e.Rgc),e.Suo(o,Ut,5,e.Rgc),e.Suo(o,Lt,5,e.Rgc)),2&t){let s;e.iGM(s=e.CRH())&&(i.nzDateCellChild=s.first),e.iGM(s=e.CRH())&&(i.nzDateFullCellChild=s.first),e.iGM(s=e.CRH())&&(i.nzMonthCellChild=s.first),e.iGM(s=e.CRH())&&(i.nzMonthFullCellChild=s.first)}},hostAttrs:[1,"ant-picker-calendar"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("ant-picker-calendar-full",i.nzFullscreen)("ant-picker-calendar-mini",!i.nzFullscreen)("ant-picker-calendar-rtl","rtl"===i.dir)},inputs:{nzMode:"nzMode",nzValue:"nzValue",nzDisabledDate:"nzDisabledDate",nzDateCell:"nzDateCell",nzDateFullCell:"nzDateFullCell",nzMonthCell:"nzMonthCell",nzMonthFullCell:"nzMonthFullCell",nzFullscreen:"nzFullscreen"},outputs:{nzModeChange:"nzModeChange",nzPanelChange:"nzPanelChange",nzSelectChange:"nzSelectChange",nzValueChange:"nzValueChange"},exportAs:["nzCalendar"],features:[e._Bn([{provide:g.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:9,vars:9,consts:[[3,"fullscreen","activeDate","mode","modeChange","yearChange","monthChange"],[1,"ant-picker-panel"],[1,"ant-picker-body"],[4,"ngIf","ngIfThen","ngIfElse"],["monthModeTable",""],["yearModeTable",""],[3,"prefixCls","value","activeDate","cellRender","fullCellRender","disabledDate","valueChange"],[3,"prefixCls","value","activeDate","cellRender","fullCellRender","valueChange"]],template:function(t,i){if(1&t&&(e.TgZ(0,"nz-calendar-header",0),e.NdJ("modeChange",function(s){return i.nzMode=s})("modeChange",function(s){return i.onModeChange(s)})("yearChange",function(s){return i.onYearSelect(s)})("monthChange",function(s){return i.onMonthSelect(s)}),e.qZA(),e.TgZ(1,"div",1)(2,"div")(3,"div",2),e.YNc(4,wt,1,0,"ng-container",3),e.qZA()()(),e.YNc(5,Ot,1,6,"ng-template",null,4,e.W1O),e.YNc(7,Jt,1,5,"ng-template",null,5,e.W1O)),2&t){const o=e.MAs(6),s=e.MAs(8);e.Q6J("fullscreen",i.nzFullscreen)("activeDate",i.activeDate)("mode",i.nzMode),e.xp6(2),e.Gre("ant-picker-","month"===i.nzMode?"date":"month","-panel"),e.xp6(2),e.Q6J("ngIf","month"===i.nzMode)("ngIfThen",o)("ngIfElse",s)}},dependencies:[u.O5,te.te,te.Ah,kt],encapsulation:2,changeDetection:0}),(0,z.gn)([(0,D.yF)()],n.prototype,"nzFullscreen",void 0),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.vT,u.ez,g.u5,E.YI,q.aF,ne.LV,te.rT]}),n})();var ie=l(86760),Yt=l(70829);function Pt(n,a){if(1&n&&(e.TgZ(0,"p",6),e._uU(1),e.qZA()),2&n){const t=a.$implicit,i=e.oxw(2).index,o=e.oxw(2);e.ekj("current",t===o.countArray[i]),e.xp6(1),e.hij(" ",t," ")}}function $t(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Pt,2,3,"p",5),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.countSingleArray)}}function Et(n,a){if(1&n&&(e.TgZ(0,"span",3),e.YNc(1,$t,2,1,"ng-container",4),e.qZA()),2&n){const t=a.index,i=e.oxw(2);e.Udp("transform","translateY("+100*-i.countArray[t]+"%)"),e.Q6J("nzNoAnimation",i.noAnimation),e.xp6(1),e.Q6J("ngIf",!i.nzDot&&void 0!==i.countArray[t])}}function qt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Et,2,4,"span",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.maxNumberArray)}}function Bt(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw();e.hij("",t.nzOverflowCount,"+")}}function jt(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.nzText)}}function Ht(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"span",2),e.TgZ(2,"span",3),e.YNc(3,jt,2,1,"ng-container",1),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Gre("ant-badge-status-dot ant-badge-status-",t.nzStatus||t.presetColor,""),e.Udp("background",!t.presetColor&&t.nzColor),e.Q6J("ngStyle",t.nzStyle),e.xp6(2),e.Q6J("nzStringTemplateOutlet",t.nzText)}}function Gt(n,a){if(1&n&&e._UZ(0,"nz-badge-sup",5),2&n){const t=e.oxw(2);e.Q6J("nzOffset",t.nzOffset)("nzSize",t.nzSize)("nzTitle",t.nzTitle)("nzStyle",t.nzStyle)("nzDot",t.nzDot)("nzOverflowCount",t.nzOverflowCount)("disableAnimation",!!(t.nzStandalone||t.nzStatus||t.nzColor||null!=t.noAnimation&&t.noAnimation.nzNoAnimation))("nzCount",t.nzCount)("noAnimation",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))}}function Vt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Gt,1,9,"nz-badge-sup",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showSup)}}const Kt=["*"],Wt=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];let Xt=(()=>{class n{constructor(){this.nzStyle=null,this.nzDot=!1,this.nzOverflowCount=99,this.disableAnimation=!1,this.noAnimation=!1,this.nzSize="default",this.maxNumberArray=[],this.countArray=[],this.count=0,this.countSingleArray=[0,1,2,3,4,5,6,7,8,9]}generateMaxNumberArray(){this.maxNumberArray=this.nzOverflowCount.toString().split("")}ngOnInit(){this.generateMaxNumberArray()}ngOnChanges(t){const{nzOverflowCount:i,nzCount:o}=t;o&&"number"==typeof o.currentValue&&(this.count=Math.max(0,o.currentValue),this.countArray=this.count.toString().split("").map(s=>+s)),i&&this.generateMaxNumberArray()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-badge-sup"]],hostAttrs:[1,"ant-scroll-number"],hostVars:17,hostBindings:function(t,i){2&t&&(e.uIk("title",null===i.nzTitle?"":i.nzTitle||i.nzCount),e.d8E("@.disabled",i.disableAnimation)("@zoomBadgeMotion",void 0),e.Akn(i.nzStyle),e.Udp("right",i.nzOffset&&i.nzOffset[0]?-i.nzOffset[0]:null,"px")("margin-top",i.nzOffset&&i.nzOffset[1]?i.nzOffset[1]:null,"px"),e.ekj("ant-badge-count",!i.nzDot)("ant-badge-count-sm","small"===i.nzSize)("ant-badge-dot",i.nzDot)("ant-badge-multiple-words",i.countArray.length>=2))},inputs:{nzOffset:"nzOffset",nzTitle:"nzTitle",nzStyle:"nzStyle",nzDot:"nzDot",nzOverflowCount:"nzOverflowCount",disableAnimation:"disableAnimation",nzCount:"nzCount",noAnimation:"noAnimation",nzSize:"nzSize"},exportAs:["nzBadgeSup"],features:[e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overflowTemplate",""],["class","ant-scroll-number-only",3,"nzNoAnimation","transform",4,"ngFor","ngForOf"],[1,"ant-scroll-number-only",3,"nzNoAnimation"],[4,"ngIf"],["class","ant-scroll-number-only-unit",3,"current",4,"ngFor","ngForOf"],[1,"ant-scroll-number-only-unit"]],template:function(t,i){if(1&t&&(e.YNc(0,qt,2,1,"ng-container",0),e.YNc(1,Bt,1,1,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",i.count<=i.nzOverflowCount)("ngIfElse",o)}},dependencies:[u.sg,u.O5,ie.P],encapsulation:2,data:{animation:[ee.Ev]},changeDetection:0}),n})(),tn=(()=>{class n{constructor(t,i,o,s,r,d){this.nzConfigService=t,this.renderer=i,this.cdr=o,this.elementRef=s,this.directionality=r,this.noAnimation=d,this._nzModuleName="badge",this.showSup=!1,this.presetColor=null,this.dir="ltr",this.destroy$=new h.x,this.nzShowZero=!1,this.nzShowDot=!0,this.nzStandalone=!1,this.nzDot=!1,this.nzOverflowCount=99,this.nzColor=void 0,this.nzStyle=null,this.nzText=null,this.nzSize="default"}ngOnInit(){this.directionality.change?.pipe((0,c.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.prepareBadgeForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareBadgeForRtl()}ngOnChanges(t){const{nzColor:i,nzShowDot:o,nzDot:s,nzCount:r,nzShowZero:d}=t;i&&(this.presetColor=this.nzColor&&-1!==Wt.indexOf(this.nzColor)?this.nzColor:null),(o||s||r||d)&&(this.showSup=this.nzShowDot&&this.nzDot||"number"==typeof this.nzCount&&this.nzCount>0||"number"==typeof this.nzCount&&this.nzCount<=0&&this.nzShowZero)}prepareBadgeForRtl(){this.isRtlLayout?this.renderer.addClass(this.elementRef.nativeElement,"ant-badge-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-badge-rtl")}get isRtlLayout(){return"rtl"===this.dir}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.jY),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(N.Is,8),e.Y36(ie.P,9))},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-badge"]],hostAttrs:[1,"ant-badge"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("ant-badge-status",i.nzStatus)("ant-badge-not-a-wrapper",!!(i.nzStandalone||i.nzStatus||i.nzColor))},inputs:{nzShowZero:"nzShowZero",nzShowDot:"nzShowDot",nzStandalone:"nzStandalone",nzDot:"nzDot",nzOverflowCount:"nzOverflowCount",nzColor:"nzColor",nzStyle:"nzStyle",nzText:"nzText",nzTitle:"nzTitle",nzStatus:"nzStatus",nzCount:"nzCount",nzOffset:"nzOffset",nzSize:"nzSize"},exportAs:["nzBadge"],features:[e.TTD],ngContentSelectors:Kt,decls:3,vars:2,consts:[[4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"ngStyle"],[1,"ant-badge-status-text"],[3,"nzOffset","nzSize","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount","noAnimation",4,"ngIf"],[3,"nzOffset","nzSize","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount","noAnimation"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Ht,4,7,"ng-container",0),e.Hsn(1),e.YNc(2,Vt,2,1,"ng-container",1)),2&t&&(e.Q6J("ngIf",i.nzStatus||i.nzColor),e.xp6(2),e.Q6J("nzStringTemplateOutlet",i.nzCount))},dependencies:[u.O5,u.PC,$.f,Xt],encapsulation:2,data:{animation:[ee.Ev]},changeDetection:0}),(0,z.gn)([(0,D.yF)()],n.prototype,"nzShowZero",void 0),(0,z.gn)([(0,D.yF)()],n.prototype,"nzShowDot",void 0),(0,z.gn)([(0,D.yF)()],n.prototype,"nzStandalone",void 0),(0,z.gn)([(0,D.yF)()],n.prototype,"nzDot",void 0),(0,z.gn)([(0,J.oS)()],n.prototype,"nzOverflowCount",void 0),(0,z.gn)([(0,J.oS)()],n.prototype,"nzColor",void 0),n})(),nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.vT,u.ez,Yt.Q8,$.T,ie.g]}),n})();var ge=l(54259),on=l(2242),sn=l(64247);function an(n,a){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"nz-spin",6),e.qZA())}function ln(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.clickView(o.getDate()))}),e._uU(1),e.ALo(2,"transloco"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"com.view")))}function rn(n,a){if(1&n&&(e.TgZ(0,"li"),e._UZ(1,"nz-badge",12),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("nzColor",t.statusColor)("nzText",t.title)}}function cn(n,a){if(1&n&&(e.TgZ(0,"ul",7)(1,"div",8),e.YNc(2,ln,3,3,"button",9),e.qZA(),e.YNc(3,rn,2,2,"li",10),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.hasMapData(t.getDate())),e.xp6(1),e.Q6J("ngForOf",i.getMapData(t.getDate()))}}const dn=[{path:"meetings",component:Mt,children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:W},{path:"calendar",component:(()=>{class n{constructor(t,i){this._meetingService=t,this._dialog=i,this._unsubscribeAll$=new h.x,this.isLoading=!1,this.filter={startDate:m()().startOf("months").startOf("day").toISOString(),endDate:m()().endOf("months").endOf("day").toISOString()},this.data=[],this.mapByDateInMonth=new Map,this._transform=o=>{const s=new Map;for(let r of o){const d=m()(r.startDate).date();s.has(d)||s.set(d,[]);const U=s.get(d);s.set(d,[...U,r])}return s}}ngOnInit(){this.getData$(this.filter).pipe((0,c.R)(this._unsubscribeAll$)).subscribe()}ngOnDestroy(){this._unsubscribeAll$.next(),this._unsubscribeAll$.complete()}getData$(t){return this.isLoading=!0,this._meetingService.get(t).pipe((0,c.R)(this._unsubscribeAll$),(0,M.x)(()=>this.isLoading=!1),(0,yt.b)(({data:i})=>{this.data=[...i],this.mapByDateInMonth=this._transform(i)}))}getMapData(t){return this.mapByDateInMonth.has(t)?this.mapByDateInMonth.get(t):[]}hasMapData(t){return this.mapByDateInMonth.has(t)}onSelect(t){!m()(t).isValid()||this._isSameMonthYear(t,m()(this.filter.startDate).toDate())||this._handleEvenNotSameMonthYear(t)}_handleEvenNotSameMonthYear(t){this.filter={startDate:m()(t).startOf("months").startOf("day").toISOString(),endDate:m()(t).endOf("months").endOf("day").toISOString()},this.getData$(this.filter).pipe((0,c.R)(this._unsubscribeAll$)).subscribe()}_isSameMonthYear(t,i){return m()(t).isSame(m()(i),"months")}clickView(t){this._dialog.open(It,{data:{meetings:this.getMapData(t)},disableClose:!1}).afterClosed()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k),e.Y36(_.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-meeting-calendar"]],decls:5,vars:1,consts:[[1,"flex","flex-col","min-w-0","flex-auto"],[1,"bg-card","m-6","rounded-md","shadow","px-4","relative"],["class","absolute inset-0 bg-transparent flex w-full h-full items-center justify-center",4,"ngIf"],[3,"nzSelectChange"],["class","events",4,"nzDateCell"],[1,"absolute","inset-0","bg-transparent","flex","w-full","h-full","items-center","justify-center"],["nzSize","large"],[1,"events"],[1,"flex","items-end"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["nz-button","","nzType","primary",3,"click"],[3,"nzColor","nzText"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,an,2,0,"div",2),e.TgZ(3,"nz-calendar",3),e.NdJ("nzSelectChange",function(s){return i.onSelect(s)}),e.YNc(4,cn,4,2,"ul",4),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",i.isLoading))},dependencies:[u.sg,u.O5,Q.W,Qt,pe,tn,ge.ix,on.w,sn.dQ,p.Ot],encapsulation:2}),n})()}]}];var un=l(56467),mn=l(50877),he=l(74473),pn=l(21352),gn=l(8551),hn=l(13617),fe=l(92982);let fn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Ps,p.y4,he.c,F.c,g.u5,O.Gb,L.p9,fe.F]}),n})(),_n=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(dn),w.lN,F.c,L.p9,y.HQ,C.ot,T.Ps,ce.AV,un.vO,g.u5,p.y4,O.Gb,u.ez,mn.rP,he.c,Y.Tx,pn.cS,gn.Qp,hn.Nh,X.PV,fe.F,Q.j,Ct,Rt,nn,me.X,ge.sL,fn]}),n})()}}]);