(function(){"use strict";function Hi(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=typeof t;return"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}function Vi(t){return Vo(function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0})}function $r(t){return Vo(function(e,n){var o,i,a=Object.keys(e),u=Object.keys(n);if(o=Vi(Dy),i=function(l){return Array.prototype.slice.call(l).sort(void 0)},!Vo(function(l,d){return o.eq(i(l),i(d))}).eq(a,u))return!1;for(var c=a.length,s=0;s<c;s++){var f=a[s];if(!t.eq(e[f],n[f]))return!1}return!0})}function ts(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}}function es(t){return function(e){return typeof e===t}}function $f(t){return function(e){return t===e}}function on(t){return null==t}function Et(t){return!on(t)}function vt(){}function an(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}}function Wf(t,e){return function(n){return t(e(n))}}function ot(t){return function(){return t}}function he(t){return t}function ky(t,e){return t===e}var Vo=function(t){return{eq:t}},Dy=Vo(function(t,e){return t===e}),ns=Vo(function(t,e){if(t===e)return!0;var n=Hi(t);return n===Hi(e)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?t===e:"array"===n?Vi(ns).eq(t,e):"object"===n&&$r(ns).eq(t,e))}),Lt=ts("string"),Wr=ts("object"),Me=ts("array"),jo=$f(null),Kf=es("boolean"),Ce=$f(void 0),Ot=es("function"),Kr=es("number");function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=e.concat(r);return t.apply(null,i)}}function rs(t){return function(e){return!t(e)}}function Ay(t){return t()}function Ty(t){t()}function os(){return ji}var Dt=ot(!1),Ut=ot(!0),ji={fold:function(t,e){return t()},isSome:Dt,isNone:Ut,getOr:he,getOrThunk:Xf,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:ot(null),getOrUndefined:ot(void 0),or:he,orThunk:Xf,map:os,each:vt,bind:os,exists:Dt,forall:Ut,filter:function(){return ji},toArray:function(){return[]},toString:ot("none()")};function Xf(t){return t()}function Yf(t,e){return Ry.call(t,e)}function Yt(t,e){return-1<Yf(t,e)}function de(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return!0;return!1}function At(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++)r[o]=e(t[o],o);return r}function nt(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function Gf(t,e){for(var n=t.length-1;0<=n;n--)e(t[n],n)}function Jf(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}}function bt(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}function Qf(t,e,n){return Gf(t,function(r,o){n=e(n,r,o)}),n}function Ke(t,e,n){return nt(t,function(r,o){n=e(n,r,o)}),n}function Zf(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return E.some(i);if(n(i,r))break}return E.none()}function Gt(t,e){return Zf(t,e,Dt)}function qi(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n))return E.some(n);return E.none()}function qo(t,e){return function(n){for(var r=[],o=0,i=n.length;o<i;++o){if(!Me(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);Oy.apply(r,n[o])}return r}(At(t,e))}function $o(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n))return!1;return!0}function $i(t){var e=ls.call(t,0);return e.reverse(),e}function td(t,e){return bt(t,function(n){return!Yt(e,n)})}function is(t,e){var n=ls.call(t,0);return n.sort(e),n}function as(t,e){return 0<=e&&e<t.length?E.some(t[e]):E.none()}function _e(t){return as(t,0)}function fr(t){return as(t,t.length-1)}function ed(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return E.none()}function Bt(t,e){for(var n=Gr(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}function nd(t,e){return Py(t,function(n,r){return{k:r,v:e(n,r)}})}function us(t){return function(e,n){t[n]=e}}function rd(t,e,n,r){return Bt(t,function(o,i){(e(o,i)?n:r)(o,i)}),1}function Wo(t,e){var n={};return rd(t,e,us(n),vt),n}function zt(t,e){return yt(t,e)?E.from(t[e]):E.none()}function Xr(t,e){return yt(t,e)&&null!=t[e]}function Ko(t,e,n){var r,o;if(!t)return!1;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return!1}else for(r in t)if(yt(t,r)&&!1===e.call(n,t[r],r,t))return!1;return!0}function ss(t,e){var n=[];return Ko(t,function(r,o){n.push(e(r,o,t))}),n}function Yr(t,e){var n=[];return Ko(t,function(r,o){e&&!e(r,o,t)||n.push(r)}),n}function od(t,e){if(t)for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function Wi(t,e,n,r){for(var o=Ce(n)?t[0]:n,i=0;i<t.length;i++)o=e.call(r,o,t[i],i);return o}function id(t,e,n){for(var r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1}function dr(t){return t[t.length-1]}var cs=function(t){function e(){return o}function n(i){return i(t)}var r=ot(t),o={fold:function(i,a){return a(t)},isSome:Ut,isNone:Dt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(i){return cs(i(t))},each:function(i){i(t)},bind:n,exists:n,forall:n,filter:function(i){return i(t)?o:ji},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},E={some:cs,none:os,from:function(t){return null==t?ji:cs(t)}},ls=Array.prototype.slice,Ry=Array.prototype.indexOf,Oy=Array.prototype.push,un=Ot(Array.from)?Array.from:function(t){return ls.call(t)},Gr=Object.keys,By=Object.hasOwnProperty,Py=function(t,e){var n={};return Bt(t,function(r,o){var i=e(r,o);n[i.k]=i.v}),n},yt=function(t,e){return By.call(t,e)},fs=Array.isArray,ft=function(){return(ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Un(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||((r=r||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function ds(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}}function ad(t,e){var n=String(e).toLowerCase();return Gt(t,function(r){return r.search(n)})}function ue(t,e){return-1!==t.indexOf(e)}function ms(t){return function(e){return e.replace(t,"")}}function Ki(t){return 0<t.length}function ud(t){return!Ki(t)}function _n(t){return function(e){return ue(e,t)}}function Ly(t){return window.matchMedia(t).matches}function sd(t){return null==t?"":(""+t).replace(qy,"")}function cd(t,e){return e?!("array"!==e||!fs(t))||typeof t===e:void 0!==t}function ld(t,e){for(var n=[],r=function(i){return n.push(i),e(i)},o=e(t);(o=o.bind(r)).isSome(););return n}function Jr(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}function fd(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount}function _t(t,e){return t.dom===e.dom}function zn(t,e){return Fe().browser.isIE()?(o=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(t.dom.compareDocumentPosition(e.dom)&o)):(i=t.dom)!==(a=e.dom)&&i.contains(a);var o,i,a}function dd(){return gs(0,0)}function md(t){function e(o){return function(){return n===o}}var n=t.current;return{current:n,version:t.version,isEdge:e("Edge"),isChrome:e("Chrome"),isIE:e("IE"),isOpera:e("Opera"),isFirefox:e(vd),isSafari:e("Safari")}}function gd(t){function e(o){return function(){return n===o}}var n=t.current;return{current:n,version:t.version,isWindows:e(bd),isiOS:e("iOS"),isAndroid:e(yd),isOSX:e("OSX"),isLinux:e("Linux"),isSolaris:e(Cd),isFreeBSD:e(xd),isChromeOS:e(wd)}}function Xo(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:t}}var gs=function(t,e){return{major:t,minor:e}},Yo={nu:gs,detect:function(t,e){var n,r,o=String(e).toLowerCase();return 0===t.length?dd():(r=function(a,u){for(var c=0;c<a.length;c++){var s=a[c];if(s.test(u))return s}}(t,n=o))?gs(i(1),i(2)):{major:0,minor:0};function i(a){return Number(n.replace(r,"$"+a))}},unknown:dd},mr=function(t,e){return""===(n=e)||t.length>=n.length&&t.substr(0,0+n.length)===n;var n},ps=ms(/^\s+|\s+$/g),Iy=ms(/^\s+/g),pd=ms(/\s+$/g),hs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,hd={browsers:ot([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ue(t,"edge/")&&ue(t,"chrome")&&ue(t,"safari")&&ue(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hs],search:function(t){return ue(t,"chrome")&&!ue(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ue(t,"msie")||ue(t,"trident")}},{name:"Opera",versionRegexes:[hs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_n("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_n("firefox")},{name:"Safari",versionRegexes:[hs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ue(t,"safari")||ue(t,"mobile/"))&&ue(t,"applewebkit")}}]),oses:ot([{name:"Windows",search:_n("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ue(t,"iphone")||ue(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_n("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_n("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_n("linux"),versionRegexes:[]},{name:"Solaris",search:_n("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_n("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_n("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},vd="Firefox",My=function(){return md({current:void 0,version:Yo.unknown()})},Fy=md,bd=(ot("Edge"),ot("Chrome"),ot("IE"),ot("Opera"),ot(vd),ot("Safari"),"Windows"),yd="Android",Cd="Solaris",xd="FreeBSD",wd="ChromeOS",Uy=function(){return gd({current:void 0,version:Yo.unknown()})},zy=gd,Fe=(ot(bd),ot("iOS"),ot(yd),ot("Linux"),ot("OSX"),ot(Cd),ot(xd),ot(wd),ds(function(){return t=navigator.userAgent,e=E.from(navigator.userAgentData),n=Ly,p=hd.browsers(),v=hd.oses(),{browser:h=e.bind(function(y){return w=p,ed(y.brands,function(_){var C=_.brand.toLowerCase();return Gt(w,function(x){var S;return C===(null===(S=x.brand)||void 0===S?void 0:S.toLowerCase())}).map(function(x){return{current:x.name,version:Yo.nu(parseInt(_.version,10),0)}})});var w}).orThunk(function(){return ad(p,y=t).map(function(w){var _=Yo.detect(w.versionRegexes,y);return{current:w.name,version:_}});var y}).fold(My,Fy),os:b=ad(v,r=t).map(function(y){var w=Yo.detect(y.versionRegexes,r);return{current:y.name,version:w}}).fold(Uy,zy),deviceType:(i=h,a=t,u=n,c=(o=b).isiOS()&&!0===/ipad/i.test(a),s=o.isiOS()&&!c,l=(f=o.isiOS()||o.isAndroid())||u("(pointer:coarse)"),d=c||!s&&f&&u("(min-device-width:768px)"),m=s||f&&!d,g=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),{isiPad:ot(c),isiPhone:ot(s),isTablet:ot(d),isPhone:ot(m),isTouch:ot(l),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:ot(g),isDesktop:ot(!m&&!d&&!g)})};var t,e,n,r,o,i,a,u,c,s,f,l,d,m,g,p,v,h,b})),Sd=navigator.userAgent,vs=Fe(),me=vs.browser,ke=vs.os,sn=vs.deviceType,Hy=/WebKit/.test(Sd)&&!me.isEdge(),Vy="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,jy=-1!==Sd.indexOf("Windows Phone"),mt={opera:me.isOpera(),webkit:Hy,ie:!(!me.isIE()&&!me.isEdge())&&me.version.major,gecko:me.isFirefox(),mac:ke.isOSX()||ke.isiOS(),iOS:sn.isiPad()||sn.isiPhone(),android:ke.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:me.isIE()?document.documentMode||7:10,fileApi:Vy,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!me.isIE(),desktop:sn.isDesktop(),windowsPhone:jy,browser:{current:me.current,version:me.version,isChrome:me.isChrome,isEdge:me.isEdge,isFirefox:me.isFirefox,isIE:me.isIE,isOpera:me.isOpera,isSafari:me.isSafari},os:{current:ke.current,version:ke.version,isAndroid:ke.isAndroid,isChromeOS:ke.isChromeOS,isFreeBSD:ke.isFreeBSD,isiOS:ke.isiOS,isLinux:ke.isLinux,isOSX:ke.isOSX,isSolaris:ke.isSolaris,isWindows:ke.isWindows},deviceType:{isDesktop:sn.isDesktop,isiPad:sn.isiPad,isiPhone:sn.isiPhone,isPhone:sn.isPhone,isTablet:sn.isTablet,isTouch:sn.isTouch,isWebView:sn.isWebView}},qy=/^\s*|\s*$/g,Nd=function(t,e,n,r){r=r||this,t&&Ko(t=n?t[n]:t,function(o,i){return!1!==e.call(r,o,i,n)&&void Nd(o,e,n,r)})},U={trim:sd,isArray:fs,is:cd,toArray:function(t){if(fs(t))return t;for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[n];return e},makeMap:function(t,e,n){var r;for(e=e||",",n=n||{},r=(t="string"==typeof(t=t||[])?t.split(e):t).length;r--;)n[t[r]]={};return n},each:Ko,map:ss,grep:Yr,inArray:od,hasOwn:yt,extend:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o,i,a=e[r];for(o in a)!yt(a,o)||void 0!==(i=a[o])&&(t[o]=i)}return t},create:function(t,e,n){var r,o,i,a=this,u=0,c=(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2],s=a.createNS(t[3].replace(/\.\w+$/,""),n);if(!s[c]){if("static"===t[2])return s[c]=e,void(this.onCreate&&this.onCreate(t[2],t[3],s[c]));e[c]||(e[c]=function(){},u=1),s[c]=e[c],a.extend(s[c].prototype,e),t[5]&&(r=a.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=s[c],s[c]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},s[c].prototype[c]=s[c],a.each(r,function(f,l){s[c].prototype[l]=r[l]}),a.each(e,function(f,l){r[l]?s[c].prototype[l]=function(){return this.parent=r[l],f.apply(this,arguments)}:l!==c&&(s[c].prototype[l]=f)})),a.each(e.static,function(f,l){s[c][l]=f})}},walk:Nd,createNS:function(t,e){var n,r;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[r=t[n]]||(e[r]={}),e=e[r];return e},resolve:function(t,e){var n,r;for(e=e||window,n=0,r=(t=t.split(".")).length;n<r&&(e=e[t[n]]);n++);return e},explode:function(t,e){return!t||cd(t,"array")?t:ss(t.split(e||","),sd)},_addCacheSuffix:function(t){var e=mt.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},B={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Xo(n.childNodes[0])},fromTag:function(t,e){return Xo((e||document).createElement(t))},fromText:function(t,e){return Xo((e||document).createTextNode(t))},fromDom:Xo,fromPoint:function(t,e,n){return E.from(t.dom.elementFromPoint(e,n)).map(Xo)}};function Ht(t){return t.dom.nodeName.toLowerCase()}function Ed(t){return t.dom.nodeType}function Xi(t){return function(e){return Ed(e)===t}}function _d(t){return B.fromDom(t.dom.ownerDocument)}function Qr(t){return Ky(t)?t:_d(t)}function kd(t){return B.fromDom(Qr(t).dom.defaultView)}function Xe(t){return E.from(t.dom.parentNode).map(B.fromDom)}function gr(t){return E.from(t.dom.previousSibling).map(B.fromDom)}function Go(t){return E.from(t.dom.nextSibling).map(B.fromDom)}function Dd(t){return $i(ld(t,gr))}function Ad(t){return ld(t,Go)}function Yi(t,e){return E.from(t.dom.childNodes[e]).map(B.fromDom)}function Td(t){return Yi(t,0)}function bs(t){return Yi(t,t.dom.childNodes.length-1)}function Rd(t){return t.dom.childNodes.length}function Od(t){return Xy(t)&&Et(t.dom.host)}function ys(t){return Od(t)?t:function(){var e=Qr(t).dom.head;if(null==e)throw new Error("Head is not available yet");return B.fromDom(e)}()}function $y(t){return B.fromDom(t.dom.host)}function Ye(t,e){Xe(t).each(function(n){n.dom.insertBefore(e.dom,t.dom)})}function Jo(t,e){Go(t).fold(function(){Xe(t).each(function(n){ee(n,e)})},function(n){Ye(n,e)})}function Bd(t,e){Td(t).fold(function(){ee(t,e)},function(n){t.dom.insertBefore(e.dom,n.dom)})}function Gi(t,e){nt(e,function(n){ee(t,n)})}function Cs(t){t.dom.textContent="",nt(He(t),function(e){Vt(e)})}function Pd(t){var e,n=He(t);0<n.length&&(e=t,nt(n,function(r){Ye(e,r)})),Vt(t)}function Ji(t,e){return void 0!==t?t:void 0!==e?e:0}function xs(t){var e=void 0!==t?t.dom:document;return eo(e.body.scrollLeft||e.documentElement.scrollLeft,e.body.scrollTop||e.documentElement.scrollTop)}function Ld(t,e,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(t,e)}function Id(t,e){Fe().browser.isSafari()&&Ot(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)}function Md(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}function Fd(t){var e=void 0===t?window:t,r=xs(B.fromDom(e.document)),o=void 0===e?window:e;return(Fe().browser.isFirefox()?E.none():E.from(o.visualViewport)).fold(function(){var i=e.document.documentElement;return Md(r.left,r.top,i.clientWidth,i.clientHeight)},function(i){return Md(Math.max(i.pageLeft,r.left),Math.max(i.pageTop,r.top),i.width,i.height)})}function Qo(t){return function(e){return!!e&&e.nodeType===t}}function Qi(t){return t&&!Object.getPrototypeOf(t)}function Ue(t){var e=t.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var r=n.nodeName.toLowerCase();return Yt(e,r)}return!1}}function Zi(t,e){var n=e.toLowerCase().split(" ");return function(r){if(lt(r))for(var o=0;o<n.length;o++){var i=r.ownerDocument.defaultView.getComputedStyle(r,null);if((i?i.getPropertyValue(t):null)===n[o])return!0}return!1}}function Ud(t){return function(e){return lt(e)&&e.hasAttribute(t)}}function pr(t){return lt(t)&&t.hasAttribute("data-mce-bogus")}function Zr(t){return lt(t)&&"TABLE"===t.tagName}function zd(t){return function(e){return!(!lt(e)||e.contentEditable!==t&&e.getAttribute("data-mce-contenteditable")!==t)}}function ta(t,e,n){return void 0===n&&(n=ky),t.exists(function(r){return n(r,e)})}function ve(t,e,n){return t.isSome()&&e.isSome()?E.some(n(t.getOrDie(),e.getOrDie())):E.none()}function ea(t){return void 0!==t.style&&Ot(t.style.getPropertyValue)}function Hd(t,e,n){if(!(Lt(n)||Kf(n)||Kr(n)))throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")}function cn(t,e,n){Hd(t.dom,e,n)}function Hn(t,e){var n=t.dom;Bt(e,function(r,o){Hd(n,o,r)})}function to(t,e){var n=t.dom.getAttribute(e);return null===n?void 0:n}function Vd(t,e){return E.from(to(t,e))}function jd(t,e){var n=t.dom;return n&&n.hasAttribute&&n.hasAttribute(e)}function kn(t,e){t.dom.removeAttribute(e)}function Dn(t,e){var n=t.dom,r=window.getComputedStyle(n).getPropertyValue(e);return""!==r||Zo(t)?r:Yd(n,e)}function ws(t,e){var r=Yd(t.dom,e);return E.from(r).filter(function(o){return 0<o.length})}function qd(t){var e={},n=t.dom;if(ea(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e}function $d(t){return Gt(t,Ge)}function Wd(t,e){return t.children&&Yt(t.children,e)}typeof window<"u"||Function("return this;")();var Ge=Xi(1),ze=Xi(3),Ky=Xi(9),Xy=Xi(11),He=function(t){return At(t.dom.childNodes,B.fromDom)},Kd=Ot(Element.prototype.attachShadow)&&Ot(Node.prototype.getRootNode),Yy=ot(Kd),hr=Kd?function(t){return B.fromDom(t.dom.getRootNode())}:Qr,ee=function(t,e){t.dom.appendChild(e.dom)},Vt=function(t){var e=t.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Zo=function(t){var e=ze(t)?t.dom.parentNode:t.dom;if(null==e||null===e.ownerDocument)return!1;var n=e.ownerDocument,r=B.fromDom(e),o=hr(r);return(Od(o)?E.some(o):E.none()).fold(function(){return n.body.contains(e)},Wf(Zo,$y))},Xd=function(t,e){return{left:t,top:e,translate:function(n,r){return Xd(t+n,e+r)}}},eo=Xd,Ss=function(t){var e,n=t.dom,r=n.ownerDocument.body;return r===n?eo(r.offsetLeft,r.offsetTop):Zo(t)?(e=n.getBoundingClientRect(),eo(e.left,e.top)):eo(0,0)},lt=Qo(1),Ns=Ue(["textarea","input"]),it=Qo(3),Gy=Qo(8),Es=Qo(9),_s=Qo(11),It=Ue(["br"]),Jy=Ue(["img"]),ln=zd("true"),Tt=zd("false"),na=Ue(["td","th"]),Ve=Ue(["video","audio","object","embed"]),Yd=function(t,e){return ea(t)?t.style.getPropertyValue(e):""},Qy=Fe().browser,Gd={},ks={exports:Gd};function Zy(t){setTimeout(function(){throw t},0)}function Jd(t){return ti(function(){return new Qd(t)})}function Vn(t){if(!Me(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return nt(t,function(r,o){var i=Gr(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!Me(u))throw new Error("case arguments must be an array");e.push(a),n[a]=function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];var f=c.length;if(f!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+f);return{fold:function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];if(l.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+l.length);return l[o].apply(null,c)},match:function(l){var d=Gr(l);if(e.length!==d.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+d.join(","));if(!$o(e,function(m){return Yt(d,m)}))throw new Error("Not all branches were specified when using match. Specified: "+d.join(", ")+"\nRequired: "+e.join(", "));return l[a].apply(null,c)},log:function(l){console.log(l,{constructors:e,constructor:a,params:c})}}}}),n}!function(){var t=this,e=function(){var n,r,o,i={exports:{}};function a(){}function u(p){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof p)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(p,this)}function c(p,v){for(;3===p._state;)p=p._value;0!==p._state?(p._handled=!0,u._immediateFn(function(){var h,b=1===p._state?v.onFulfilled:v.onRejected;if(null!==b){try{h=b(p._value)}catch(y){return void f(v.promise,y)}s(v.promise,h)}else(1===p._state?s:f)(v.promise,p._value)})):p._deferreds.push(v)}function s(p,v){try{if(v===p)throw new TypeError("A promise cannot be resolved with itself.");if(v&&("object"==typeof v||"function"==typeof v)){var h=v.then;if(v instanceof u)return p._state=3,p._value=v,void l(p);if("function"==typeof h)return void m((b=h,y=v,function(){b.apply(y,arguments)}),p)}p._state=1,p._value=v,l(p)}catch(w){f(p,w)}var b,y}function f(p,v){p._state=2,p._value=v,l(p)}function l(p){2===p._state&&0===p._deferreds.length&&u._immediateFn(function(){p._handled||u._unhandledRejectionFn(p._value)});for(var v=0,h=p._deferreds.length;v<h;v++)c(p,p._deferreds[v]);p._deferreds=null}function d(p,v,h){this.onFulfilled="function"==typeof p?p:null,this.onRejected="function"==typeof v?v:null,this.promise=h}function m(p,v){var h=!1;try{p(function(b){h||(h=!0,s(v,b))},function(b){h||(h=!0,f(v,b))})}catch(b){if(h)return;h=!0,f(v,b)}}n=i,r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=setTimeout,u.prototype.catch=function(p){return this.then(null,p)},u.prototype.then=function(p,v){var h=new this.constructor(a);return c(this,new d(p,v,h)),h},u.all=function(p){var v=Array.prototype.slice.call(p);return new u(function(h,b){if(0===v.length)return h([]);for(var y=v.length,w=0;w<v.length;w++)!function _(C,x){try{if(x&&("object"==typeof x||"function"==typeof x)){var S=x.then;if("function"==typeof S)return S.call(x,function(R){_(C,R)},b),0}v[C]=x,0==--y&&h(v)}catch(R){b(R)}}(w,v[w])})},u.resolve=function(p){return p&&"object"==typeof p&&p.constructor===u?p:new u(function(v){v(p)})},u.reject=function(p){return new u(function(v,h){h(p)})},u.race=function(p){return new u(function(v,h){for(var b=0,y=p.length;b<y;b++)p[b].then(v,h)})},u._immediateFn="function"==typeof setImmediate?function(p){setImmediate(p)}:function(p){o(p,0)},u._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)},u._setImmediateFn=function(p){u._immediateFn=p},u._setUnhandledRejectionFn=function(p){u._unhandledRejectionFn=p},n.exports?n.exports=u:r.Promise||(r.Promise=u);var g=i.exports;return{boltExport:(typeof window<"u"?window:Function("return this;")()).Promise||g}};"object"==typeof Gd&&void 0!==ks?ks.exports=e():(t=typeof globalThis<"u"?globalThis:t||self).EphoxContactWrapper=e()}();var Qd=ks.exports.boltExport,Ds=function(t){function e(a){o()?i(a):r.push(a)}var n=E.none(),r=[],o=function(){return n.isSome()},i=function(a){n.each(function(u){setTimeout(function(){a(u)},0)})};return t(function(a){o()||(n=E.some(a),nt(r,i),r=[])}),{get:e,map:function(a){return Ds(function(u){e(function(c){u(a(c))})})},isReady:o}},t1={nu:Ds,pure:function(t){return Ds(function(e){e(t)})}},ti=function(t){function e(n){t().then(n,Zy)}return{map:function(n){return ti(function(){return t().then(n)})},bind:function(n){return ti(function(){return t().then(function(r){return n(r).toPromise()})})},anonBind:function(n){return ti(function(){return t().then(function(){return n.toPromise()})})},toLazy:function(){return t1.nu(e)},toCached:function(){var n=null;return ti(function(){return n=null===n?t():n})},toPromise:t,get:e}},no=function(t){return{isValue:Ut,isError:Dt,getOr:ot(t),getOrThunk:ot(t),getOrDie:ot(t),or:function(e){return no(t)},orThunk:function(e){return no(t)},fold:function(e,n){return n(t)},map:function(e){return no(e(t))},mapError:function(e){return no(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOptional:function(){return E.some(t)}}},ei=function(t){return{isValue:Dt,isError:Ut,getOr:he,getOrThunk:function(e){return e()},getOrDie:function(){return e=String(t),function(){throw new Error(e)}();var e},or:he,orThunk:function(e){return e()},fold:function(e,n){return e(t)},map:function(e){return ei(t)},mapError:function(e){return ei(e(t))},each:vt,bind:function(e){return ei(t)},exists:Dt,forall:Ut,toOptional:E.none}},Zd={value:no,error:ei,fromOption:function(t,e){return t.fold(function(){return ei(e)},no)}};function tm(t){return t.fold(he,he)}function em(t,e,n,r,o){return t(n,r)?E.some(n):Ot(o)&&o(n)?E.none():e(n,r,o)}function ni(t,e,n){for(var r=t.dom,o=Ot(n)?n:Dt;r.parentNode;){var i=B.fromDom(r=r.parentNode);if(e(i))return E.some(i);if(o(i))break}return E.none()}function ra(t,e,n){return em(function(r,o){return o(r)},ni,t,e,n)}function oa(t,e,n){return ni(t,function(r){return Jr(r,e)},n)}function ia(t,e){return n=e,fd(r=void 0===t?document:t.dom)?E.none():E.from(r.querySelector(n)).map(B.fromDom);var n,r}function As(t,e,n){return em(Jr,oa,t,e,n)}function Ts(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function nm(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)}function rm(t,e){function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];clearTimeout(r),r=Ts(function(){t.apply(this,o)},e)}var r;return n.stop=function(){clearTimeout(r)},n}function om(t,e){function n(f,l,d){var m,g=U._addCacheSuffix(f),p=zt(a,g).getOrThunk(function(){return{id:"mce-u"+i++,passed:[],failed:[],count:0}});function v(x,S){for(var R=x.length;R--;)x[R]();p.status=S,p.passed=[],p.failed=[],m&&(m.onload=null,m.onerror=null,m=null)}function h(){return v(p.passed,2),0}function b(){return v(p.failed,3)}(a[g]=p).count++;var y,w,_,C=function(){var x=C;!function(){for(var S=t.styleSheets,R=S.length;R--;){var O=S[R].ownerNode;if(O&&O.id===m.id)return h(),1}}()&&(Date.now()-w<s?re.setTimeout(x):b())};l&&p.passed.push(l),d&&p.failed.push(d),1!==p.status&&(2!==p.status?3!==p.status?(p.status=1,Hn(y=B.fromTag("link",c.dom),{rel:"stylesheet",type:"text/css",id:p.id}),w=Date.now(),e.contentCssCors&&cn(y,"crossOrigin","anonymous"),e.referrerPolicy&&cn(y,"referrerpolicy",e.referrerPolicy),(m=y.dom).onload=C,m.onerror=b,_=y,ee(ys(u),_),cn(y,"href",g)):b():h())}function r(f){return Jd(function(l){n(f,an(l,ot(Zd.value(f))),an(l,ot(Zd.error(f))))})}function o(f){var l=U._addCacheSuffix(f);zt(a,l).each(function(d){var m;0==--d.count&&(delete a[l],m=d.id,ia(ys(u),"#"+m).each(Vt))})}void 0===e&&(e={});var i=0,a={},u=B.fromDom(t),c=Qr(u),s=e.maxLoadTime||5e3;return{load:n,loadAll:function(f,l,d){var m,g=At(f,r);m=g,Jd(function(p){var v=[],h=0;0===m.length?p([]):nt(m,function(b,y){var w;b.get((w=y,function(_){v[w]=_,++h>=m.length&&p(v)}))})}).get(function(p){var v=Jf(p,function(h){return h.isValue()});0<v.fail.length?d(v.fail.map(tm)):l(v.pass.map(tm))})},unload:o,unloadAll:function(f){nt(f,function(l){o(l)})},_setReferrerPolicy:function(f){e.referrerPolicy=f}}}Vn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Rs,Os,ne=window.Promise||Qd,re={requestAnimationFrame:function(t,e){Rs?Rs.then(t):Rs=new ne(function(n){!function(r,o){for(var i=window.requestAnimationFrame,a=["ms","moz","webkit"],u=0;u<a.length&&!i;u++)i=window[a[u]+"RequestAnimationFrame"];(i=i||function(c){window.setTimeout(c,0)})(r,o)}(n,e=e||document.body)}).then(t)},setTimeout:Ts,setInterval:nm,setEditorTimeout:function(t,e,n){return Ts(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var r=nm(function(){t.removed?clearInterval(r):e()},n);return r},debounce:rm,throttle:rm,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},im=(Os=new WeakMap,{forElement:function(t,e){var n=hr(t).dom;return E.from(Os.get(n)).getOrThunk(function(){var r=om(n,e);return Os.set(n,r),r})}}),jt=(vr.prototype.current=function(){return this.node},vr.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},vr.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},vr.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},vr.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},vr.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t&&(o=t[n],!this.rootNode||o!==this.rootNode)){if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}return(i=t.parentNode)&&i!==this.rootNode?i:void 0}},vr);function vr(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function jn(t){var e;return function(n){return e=e||function(r,o){for(var i={},a=0,u=r.length;a<u;a++){var c=r[a];i[String(c)]=o(c,a)}return i}(t,Ut),yt(e,Ht(n))}}function Bs(t){return Ge(t)&&!dn(t)}function ro(t){return Ge(t)&&"br"===Ht(t)}function oo(t){return uo(t)&&(t=t.parentNode),o1(t)&&t.hasAttribute("data-mce-caret")}function io(t){return uo(t)&&fa(t.data)}function De(t){return oo(t)||io(t)}function am(t){return t.firstChild!==t.lastChild||!It(t.firstChild)}function Ps(t){var e=t.container();return!!it(e)&&(e.data.charAt(t.offset())===Qt||t.isAtStart()&&io(e.previousSibling))}function Ls(t){var e=t.container();return!!it(e)&&(e.data.charAt(t.offset()-1)===Qt||t.isAtEnd()&&io(e.nextSibling))}function Is(t){return t&&t.hasAttribute("data-mce-caret")?(pr(n=(e=t.getElementsByTagName("br"))[e.length-1])&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n}function um(t){return oo(t.startContainer)}function fn(t){return!l1(t)&&(u1(t)?!s1(t.parentNode):ym(t)||a1(t)||c1(t)||qs(t))}function aa(t,e){return fn(t)&&function(n,r){for(n=n.parentNode;n&&n!==r;n=n.parentNode){if(qs(n))return!1;if(bm(n))return!0}return!0}(t,e)}function br(t){return f1.test(t)}function ua(t,e){return fn(t)&&(a=e,!1===(it(i=t)&&br(i.data)&&(n=i,r=B.fromDom(a),!1===oa(B.fromDom(n),"pre,code",et(_t,r)).isSome())))||lt(o=t)&&"A"===o.nodeName&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id"))||d1(t);var n,r,o,i,a}function qt(t,e){return function(n,r){var o=0;if(ua(n,n))return!1;var i=n.firstChild;if(!i)return!0;var a=new jt(i,n);do{if(r){if(g1(i)){i=a.next(!0);continue}if(m1(i)){i=a.next();continue}}if(It(i))o++,i=a.next();else{if(ua(i,n))return!1;i=a.next()}}while(i);return o<=1}(t.dom,e=void 0===e||e)}function sm(t,e){return Et(t)&&(ua(t,e)||Bs(B.fromDom(t)))}function cm(t){return"span"===t.nodeName.toLowerCase()&&"bookmark"===t.getAttribute("data-mce-type")}function lm(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),yr[r]||(i[r]=o="&"+t[n+1]+";",i[o]=r);return i}}function fm(t,e){return t.replace(e?ga:pa,function(n){return yr[n]||n})}function dm(t,e){return t.replace(e?ga:pa,function(n){return 1<n.length?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":yr[n]||"&#"+n.charCodeAt(0)+";"})}function Ms(t,e,n){return n=n||Ws,t.replace(e?ga:pa,function(r){return yr[r]||n[r]||r})}function Jt(t,e){return(t=U.trim(t))?t.split(e||" "):[]}function mm(t,e){var n=so(t," ",so(t.toUpperCase()," "));return Ks(n,e)}function gm(t){return mm("td th li dt dd figcaption caption details summary",t.getTextBlockElements())}function Fs(t,e){var n;return t&&(n={},oe(t="string"==typeof t?{"*":t}:t,function(r,o){n[o]=n[o.toUpperCase()]=("map"===e?so:Cm)(r,/[, ]/)})),n}function qn(t){function e(H,J,at){var ct=t[H];return ct?ct=so(ct,/[, ]/,so(ct.toUpperCase(),/[, ]/)):(ct=Cr[H])||(ct=mm(J,at),Cr[H]=ct),ct}var n,r,o,i,a,u,c,s,f={},l={},d=[],m={},g={},p=(n=(t=t||{}).schema,s={},Cr[n]||(r="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==n&&(r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==n&&(r+=" xml:lang",i=[i,c="acronym applet basefont big font strike tt"].join(" "),oe(Jt(c),function(H){v(H,"",i)}),o=[o,u="center dir isindex noframes"].join(" "),a=[o,i].join(" "),oe(Jt(u),function(H){v(H,"",a)})),a=a||[o,i].join(" "),v("html","manifest","head body"),v("head","","base command link meta noscript script style title"),v("title hr noscript br"),v("base","href target"),v("link","href rel media hreflang type sizes hreflang"),v("meta","name http-equiv content charset"),v("style","media type scoped"),v("script","src async defer type charset"),v("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),v("address dt dd div caption","",a),v("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),v("blockquote","cite",a),v("ol","reversed start type","li"),v("ul","","li"),v("li","value",a),v("dl","","dt dd"),v("a","href target rel media hreflang type",i),v("q","cite",i),v("ins del","cite datetime",a),v("img","src sizes srcset alt usemap ismap width height"),v("iframe","src name width height",a),v("embed","src type width height"),v("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),v("param","name value"),v("map","name",[a,"area"].join(" ")),v("area","alt coords shape href target rel media hreflang type"),v("table","border","caption colgroup thead tfoot tbody tr"+("html4"===n?" col":"")),v("colgroup","span","col"),v("col","span"),v("tbody thead tfoot","","tr"),v("tr","","td th"),v("td","colspan rowspan headers",a),v("th","colspan rowspan headers scope abbr",a),v("form","accept-charset action autocomplete enctype method name novalidate target",a),v("fieldset","disabled form name",[a,"legend"].join(" ")),v("label","form for",i),v("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),v("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===n?a:i),v("select","disabled form multiple name required size","option optgroup"),v("optgroup","disabled label","option"),v("option","disabled label selected value"),v("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),v("menu","type label",[a,"li"].join(" ")),v("noscript","",a),"html4"!==n&&(v("wbr"),v("ruby","",[i,"rt rp"].join(" ")),v("figcaption","",a),v("mark rt rp summary bdi","",i),v("canvas","width height",a),v("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),v("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),v("picture","","img source"),v("source","src srcset type media sizes"),v("track","kind src srclang label default"),v("datalist","",[i,"option"].join(" ")),v("article section nav aside main header footer","",a),v("hgroup","","h1 h2 h3 h4 h5 h6"),v("figure","",[a,"figcaption"].join(" ")),v("time","datetime",i),v("dialog","open",a),v("command","type label icon disabled checked radiogroup command"),v("output","for form name",i),v("progress","value max",i),v("meter","value min max low high optimum",i),v("details","open",[a,"summary"].join(" ")),v("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==n&&(h("script","language xml:space"),h("style","xml:space"),h("object","declare classid code codebase codetype archive standby align border hspace vspace"),h("embed","align name hspace vspace"),h("param","valuetype type"),h("a","charset name rev shape coords"),h("br","clear"),h("applet","codebase archive code object alt name width height align hspace vspace"),h("img","name longdesc align border hspace vspace"),h("iframe","longdesc frameborder marginwidth marginheight scrolling align"),h("font basefont","size color face"),h("input","usemap align"),h("select"),h("textarea"),h("h1 h2 h3 h4 h5 h6 div p legend caption","align"),h("ul","type compact"),h("li","type"),h("ol dl menu dir","compact"),h("pre","width xml:space"),h("hr","align noshade size width"),h("isindex","prompt"),h("table","summary width frame rules cellspacing cellpadding align bgcolor"),h("col","width align char charoff valign"),h("colgroup","width align char charoff valign"),h("thead","align char charoff valign"),h("tr","align char charoff valign bgcolor"),h("th","axis align char charoff valign nowrap bgcolor width height"),h("form","accept"),h("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),h("tfoot","align char charoff valign"),h("tbody","align char charoff valign"),h("area","nohref"),h("body","background bgcolor text link vlink alink")),"html4"!==n&&(h("input button select textarea","autofocus"),h("input textarea","placeholder"),h("a","download"),h("link script img","crossorigin"),h("img","loading"),h("iframe","sandbox seamless allowfullscreen loading")),oe(Jt("a form meter progress dfn"),function(H){s[H]&&delete s[H].children[H]}),delete s.caption.children.table,delete s.script,Cr[n]=s));function v(H,J,at){function ct(Rt,Xt){for(var Zt={},Mt=0,te=Rt.length;Mt<te;Mt++)Zt[Rt[Mt]]=Xt||{};return Zt}var St,dt;J=J||"","string"==typeof(at=at||[])&&(at=Jt(at));for(var st=Jt(H),xt=st.length;xt--;)dt={attributes:ct(St=Jt([r,J].join(" "))),attributesOrder:St,children:ct(at,C1)},s[st[xt]]=dt}function h(H,J){for(var at,ct,St,dt=Jt(H),st=dt.length,xt=Jt(J);st--;)for(at=s[dt[st]],ct=0,St=xt.length;ct<St;ct++)at.attributes[xt[ct]]={},at.attributesOrder.push(xt[ct])}!1===t.verify_html&&(t.valid_elements="*[*]");var b=Fs(t.valid_styles),y=Fs(t.invalid_styles,"map"),w=Fs(t.valid_classes,"map"),_=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),C=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),S=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),R="td th iframe video audio object script code",O=e("non_empty_elements",R+" pre",x),I=e("move_caret_before_on_enter_elements",R+" table",x),L=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),k=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",L),D=e("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");function T(H){return new RegExp("^"+H.replace(/([?+*])/g,".$1")+"$")}function P(H){var J,at,ct,St,dt,st,xt,Rt,Xt,Zt,Mt,te,Fn,En,zo,We,qr,Ho,tN=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,eN=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Ey=/[*?+]/;if(H){var _y=Jt(H,",");for(f["@"]&&(We=f["@"].attributes,qr=f["@"].attributesOrder),J=0,at=_y.length;J<at;J++)if(dt=tN.exec(_y[J])){if(Xt=dt[2],zo=dt[3],Rt=dt[5],st={attributes:te={},attributesOrder:Fn=[]},"#"===(En=dt[1])&&(st.paddEmpty=!0),"-"===En&&(st.removeEmpty=!0),"!"===dt[4]&&(st.removeEmptyAttrs=!0),We&&(Bt(We,function(nN,rN){te[rN]=nN}),Fn.push.apply(Fn,qr)),Rt)for(ct=0,St=(Rt=Jt(Rt,"|")).length;ct<St;ct++)(dt=eN.exec(Rt[ct]))&&(xt={},Mt=dt[1],Zt=dt[2].replace(/[\\:]:/g,":"),En=dt[3],Ho=dt[4],"!"===Mt&&(st.attributesRequired=st.attributesRequired||[],st.attributesRequired.push(Zt),xt.required=!0),"-"!==Mt?(En&&("="===En&&(st.attributesDefault=st.attributesDefault||[],st.attributesDefault.push({name:Zt,value:Ho}),xt.defaultValue=Ho),":"===En&&(st.attributesForced=st.attributesForced||[],st.attributesForced.push({name:Zt,value:Ho}),xt.forcedValue=Ho),"<"===En&&(xt.validValues=so(Ho,"?"))),Ey.test(Zt)?(st.attributePatterns=st.attributePatterns||[],xt.pattern=T(Zt),st.attributePatterns.push(xt)):(te[Zt]||Fn.push(Zt),te[Zt]=xt)):(delete te[Zt],Fn.splice(x1(Fn,Zt),1)));We||"@"!==Xt||(We=te,qr=Fn),zo&&(st.outputName=Xt,f[zo]=st),Ey.test(Xt)?(st.pattern=T(Xt),d.push(st)):f[Xt]=st}}}function q(H){f={},d=[],P(H),oe(p,function(J,at){l[at]=J.children})}function X(H){var J=/^(~)?(.+)$/;H&&(Cr.text_block_elements=Cr.block_elements=null,oe(Jt(H,","),function(at){var ct,St=J.exec(at),dt="~"===St[1],st=dt?"span":"div",xt=St[2];l[xt]=l[st],m[xt]=st,dt||(k[xt.toUpperCase()]={},k[xt]={}),f[xt]||(delete(ct=Ks({},ct=f[st])).removeEmptyAttrs,delete ct.removeEmpty,f[xt]=ct),oe(l,function(Rt,Xt){Rt[st]&&(l[Xt]=Rt=Ks({},l[Xt]),Rt[xt]=Rt[st])})}))}function j(H){var J=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Cr[t.schema]=null,H&&oe(Jt(H,","),function(at){var ct,St,dt=J.exec(at);dt&&(ct=(St=dt[1])?l[dt[2]]:l[dt[2]]={"#comment":{}},ct=l[dt[2]],oe(Jt(dt[3],"|"),function(st){"-"===St?delete ct[st]:ct[st]={}}))})}function Y(H){var J,at=f[H];if(at)return at;for(J=d.length;J--;)if((at=d[J]).pattern.test(H))return at}oe((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(H){g[H]=new RegExp("</"+H+"[^>]*>","gi")}),t.valid_elements?q(t.valid_elements):(oe(p,function(H,J){f[J]={attributes:H.attributes,attributesOrder:H.attributesOrder},l[J]=H.children}),"html5"!==t.schema&&oe(Jt("strong/b em/i"),function(H){var J=Jt(H,"/");f[J[1]].outputName=J[0]}),oe(D,function(H,J){f[J]&&(t.padd_empty_block_inline_children&&(f[J].paddInEmptyBlock=!0),f[J].removeEmpty=!0)}),oe(Jt("ol ul blockquote a table tbody"),function(H){f[H]&&(f[H].removeEmpty=!0)}),oe(Jt("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(H){f[H].paddEmpty=!0}),oe(Jt("span"),function(H){f[H].removeEmptyAttrs=!0})),X(t.custom_elements),j(t.valid_children),P(t.extended_valid_elements),j("+ol[ul|ol],+ul[ul|ol]"),oe({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(H,J){f[J]&&(f[J].parentsRequired=Jt(H))}),t.invalid_elements&&oe(Cm(t.invalid_elements),function(H){f[H]&&delete f[H]}),Y("span")||P("span[!data-mce-type|*]");var W=ot(b),G=ot(y),K=ot(w),Z=ot(S),z=ot(k),Q=ot(L),$=ot(D),rt=ot(x),tt=ot(C),pt=ot(O),N=ot(I),A=ot(_),M=ot(g),V=ot(m);return{children:l,elements:f,getValidStyles:W,getValidClasses:K,getBlockElements:z,getInvalidStyles:G,getShortEndedElements:rt,getTextBlockElements:Q,getTextInlineElements:$,getBoolAttrs:Z,getElementRule:Y,getSelfClosingElements:tt,getNonEmptyElements:pt,getMoveCaretBeforeOnEnterElements:N,getWhiteSpaceElements:A,getSpecialElements:M,isValidChild:function(H,J){var at=l[H.toLowerCase()];return!(!at||!at[J.toLowerCase()])},isValid:function(H,J){var at,ct,St=Y(H);if(St){if(!J||St.attributes[J])return!0;if(at=St.attributePatterns)for(ct=at.length;ct--;)if(at[ct].pattern.test(H))return!0}return!1},getCustomElements:V,addValidElements:P,setValidElements:q,addCustomElements:X,addValidChildren:j}}function pm(t,e,n,r){function o(i){return 1<(i=parseInt(i,10).toString(16)).length?i:"0"+i}return"#"+o(e)+o(n)+o(r)}function Us(t,e){var n,r,o=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,s={},f=js;t=t||{},e&&(n=e.getValidStyles(),r=e.getInvalidStyles());for(var l=("\\\" \\' \\; \\: ; : "+f).split(" "),d=0;d<l.length;d++)s[l[d]]=f+d,s[f+d]=l[d];return{toHex:function(m){return m.replace(i,pm)},parse:function(m){function g(T,P,q){var X=L[T+"-top"+P];if(X){var j=L[T+"-right"+P];if(j){var Y=L[T+"-bottom"+P];if(Y){var W=L[T+"-left"+P];if(W){var G=[X,j,Y,W];for(d=G.length-1;d--&&G[d]===G[d+1];);-1<d&&q||(L[T+P]=-1===d?G[0]:G.join(" "),delete L[T+"-top"+P],delete L[T+"-right"+P],delete L[T+"-bottom"+P],delete L[T+"-left"+P])}}}}}function p(T){var P,q=L[T];if(q){for(P=(q=q.split(" ")).length;P--;)if(q[P]!==q[0])return;return L[T]=q[0],1}}function v(T){return S=!0,s[T]}function h(T,P){return S&&(T=T.replace(/\uFEFF[0-9]/g,function(q){return s[q]})),P?T:T.replace(/\\([\'\";:])/g,"$1")}function b(T){return String.fromCharCode(parseInt(T.slice(1),16))}function y(T){return T.replace(/\\[0-9a-f]+/gi,b)}function w(T,P,q,X,j,Y){if(j=j||Y)return"'"+(j=h(j)).replace(/\'/g,"\\'")+"'";if(P=h(P||q||X),!t.allow_script_urls){var W=P.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(W)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(W))return""}return"url('"+(P=k?k.call(D,P,"style"):P).replace(/\'/g,"\\'")+"')"}var _,C,x,S,R,O,I,L={},k=t.url_converter,D=t.url_converter_scope||o;if(m){for(m=(m=m.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(T){return T.replace(/[;:]/g,v)});_=u.exec(m);)u.lastIndex=_.index+_[0].length,C=_[1].replace(c,"").toLowerCase(),x=_[2].replace(c,""),C&&x&&(C=y(C),x=y(x),-1===C.indexOf(f)&&-1===C.indexOf('"')&&(t.allow_script_urls||"behavior"!==C&&!/expression\s*\(|\/\*|\*\//.test(x))&&("font-weight"===C&&"700"===x?x="bold":"color"!==C&&"background-color"!==C||(x=x.toLowerCase()),x=(x=x.replace(i,pm)).replace(a,w),L[C]=S?h(x,!0):x));g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),O="border-style",I="border-color",p(R="border-width")&&p(O)&&p(I)&&(L.border=L[R]+" "+L[O]+" "+L[I],delete L[R],delete L[O],delete L[I]),"medium none"===L.border&&delete L.border,"none"===L["border-image"]&&delete L["border-image"]}return L},serialize:function(m,g){function p(h){var b,y=n[h];if(y)for(var w=0,_=y.length;w<_;w++)(b=m[h=y[w]])&&(v+=(0<v.length?" ":"")+h+": "+b+";")}var v="";return g&&n?(p("*"),p(g)):Bt(m,function(h,b){var y;!h||r&&((y=r["*"])&&y[b]||(y=r[g])&&y[b])||(v+=(0<v.length?" ":"")+b+": "+h+";")}),v}}}function zs(t){return t instanceof Event||Ot(t.initEvent)}function hm(t,e,n,r){var o,i,a=function(u){var c,s=r??{};for(c in u)yt(w1,c)||(s[c]=u[c]);return Et(s.composedPath)&&(s.composedPath=function(){return u.composedPath()}),s}(e);return a.type=t,on(a.target)&&(a.target=null!==(o=a.srcElement)&&void 0!==o?o:n),(on((i=e).preventDefault)||zs(i))&&(a.preventDefault=function(){a.defaultPrevented=!0,a.isDefaultPrevented=Ut,Ot(e.preventDefault)?e.preventDefault():zs(e)&&(e.returnValue=!1)},a.stopPropagation=function(){a.cancelBubble=!0,a.isPropagationStopped=Ut,Ot(e.stopPropagation)?e.stopPropagation():zs(e)&&(e.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=Ut,a.stopPropagation()},a.isDefaultPrevented!==Ut&&a.isDefaultPrevented!==Dt&&(a.isDefaultPrevented=!0===a.defaultPrevented?Ut:Dt,a.isPropagationStopped=!0===a.cancelBubble?Ut:Dt,a.isImmediatePropagationStopped=Dt)),a}function Hs(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function sa(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function ao(t,e){var n,r,o,i,a=hm(t.type,t,document,e);return Et(i=t)&&S1.test(i.type)&&Ce(t.pageX)&&!Ce(t.clientX)&&(r=(n=a.target.ownerDocument||document).documentElement,o=n.body,a.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),a.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),Ce(a.metaKey)&&(a.metaKey=!1),a}var n1=jn(["h1","h2","h3","h4","h5","h6"]),dn=jn(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),vm=jn(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Vs=jn(["ul","ol","dl"]),ri=jn(["li","dd","dt"]),r1=jn(["thead","tbody","tfoot"]),ca=jn(["td","th"]),la=jn(["pre","script","textarea","style"]),js="\ufeff",xe="\xa0",Qt=js,fa=function(t){return t===js},Ae=function(t){return t.replace(/\uFEFF/g,"")},o1=lt,uo=it,da=function(t){return uo(t)&&t.data[0]===Qt},ma=function(t){return uo(t)&&t.data[t.data.length-1]===Qt},bm=ln,i1=Tt,a1=It,u1=it,s1=Ue(["script","style","textarea"]),ym=Ue(["img","input","textarea","hr","iframe","video","audio","object","embed"]),c1=Ue(["table"]),l1=De,qs=function(t){return!1===(lt(e=t)&&"true"===e.getAttribute("unselectable"))&&i1(t);var e},f1=/^[ \t\r\n]*$/,d1=Ud("data-mce-bookmark"),m1=Ud("data-mce-bogus"),g1=function(t){return lt(t)&&"all"===t.getAttribute("data-mce-bogus")},$s=function(t,e,n){var r=n||e;if(lt(e)&&cm(e))return e;for(var o,i,a,u,c,s,f,l,d,m,g,p=e.childNodes,v=p.length-1;0<=v;v--)$s(t,p[v],r);return!lt(e)||1===(o=e.childNodes).length&&cm(o[0])&&e.parentNode.insertBefore(o[0],e),_s(a=e)||Es(a)||ua(e,r)||lt(i=e)&&0<i.childNodes.length||(c=r,it(u=e)&&0<u.data.length&&(l=new jt(s=u,f=c).prev(!1),d=new jt(s,f).next(!1),m=Ce(l)||sm(l,f),g=Ce(d)||sm(d,f),m&&g))||t.remove(e),e},p1=U.makeMap,ga=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pa=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h1=/[<>&\"\']/g,v1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,b1={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},yr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},y1={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ws=lm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),$n={encodeRaw:fm,encodeAllRaw:function(t){return(""+t).replace(h1,function(e){return yr[e]||e})},encodeNumeric:dm,encodeNamed:Ms,getEncodeFunc:function(t,e){var n=lm(e)||Ws,r=p1(t.replace(/\+/g,","));return r.named&&r.numeric?function(o,i){return o.replace(i?ga:pa,function(a){return void 0!==yr[a]?yr[a]:void 0!==n[a]?n[a]:1<a.length?"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";":"&#"+a.charCodeAt(0)+";"})}:r.named?e?function(o,i){return Ms(o,i,n)}:Ms:r.numeric?dm:fm},decode:function(t){return t.replace(v1,function(e,n){return n?65535<(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):b1[n]||String.fromCharCode(n):y1[e]||Ws[e]||(r=e,(o=B.fromTag("div").dom).innerHTML=r,o.textContent||o.innerText||r);var r,o})}},Cr={},C1={},so=U.makeMap,oe=U.each,Ks=U.extend,Cm=U.explode,x1=U.inArray,w1={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},S1=/^(?:mouse|contextmenu)|click/,co=(mn.prototype.bind=function(t,e,n,r){function o(p){l.executeHandlers(ao(p||d.event),i)}var i,a,u,c,s,f,l=this,d=window;if(t&&3!==t.nodeType&&8!==t.nodeType){t[l.expando]?i=t[l.expando]:(i=l.count++,t[l.expando]=i,l.events[i]={}),r=r||t;for(var m=e.split(" "),g=m.length;g--;)s=o,c=f=!1,"DOMContentLoaded"===(u=m[g])&&(u="ready"),l.domLoaded&&"ready"===u&&"complete"===t.readyState?n.call(r,ao({type:u})):(l.hasMouseEnterLeave||(c=l.mouseEnterLeave[u])&&(s=function(p){var v=p.currentTarget,h=p.relatedTarget;if(h&&v.contains)h=v.contains(h);else for(;h&&h!==v;)h=h.parentNode;h||((p=ao(p||d.event)).type="mouseout"===p.type?"mouseleave":"mouseenter",p.target=v,l.executeHandlers(p,i))}),l.hasFocusIn||"focusin"!==u&&"focusout"!==u||(f=!0,c="focusin"===u?"focus":"blur",s=function(p){(p=ao(p||d.event)).type="focus"===p.type?"focusin":"focusout",l.executeHandlers(p,i)}),(a=l.events[i][u])?"ready"===u&&l.domLoaded?n(ao({type:u})):a.push({func:n,scope:r}):(l.events[i][u]=a=[{func:n,scope:r}],a.fakeName=c,a.capture=f,a.nativeHandler=s,"ready"===u?function(p,v,h){var b,y=p.document,w={type:"ready"};h.domLoaded?v(w):(b=function(){sa(p,"DOMContentLoaded",b),sa(p,"load",b),h.domLoaded||(h.domLoaded=!0,v(w)),p=null},"complete"===y.readyState||"interactive"===y.readyState&&y.body?b():Hs(p,"DOMContentLoaded",b),h.domLoaded||Hs(p,"load",b))}(t,s,l):Hs(t,c||u,s,f)));return t=a=null,n}},mn.prototype.unbind=function(t,e,n){var r,o,i;if(!t||3===t.nodeType||8===t.nodeType)return this;var a=t[this.expando];if(a){if(i=this.events[a],e){for(var u,c,s,f,l=e.split(" "),d=l.length;d--;)if(f=i[o=l[d]]){if(n)for(r=f.length;r--;)f[r].func===n&&(u=f.nativeHandler,c=f.fakeName,s=f.capture,(f=f.slice(0,r).concat(f.slice(r+1))).nativeHandler=u,f.fakeName=c,f.capture=s,i[o]=f);n&&0!==f.length||(delete i[o],sa(t,f.fakeName||o,f.nativeHandler,f.capture))}}else Bt(i,function(m,g){sa(t,m.fakeName||g,m.nativeHandler,m.capture)}),i={};for(o in i)if(yt(i,o))return this;delete this.events[a];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},mn.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;for(var o=ao({type:e,target:t},n);(r=t[this.expando])&&this.executeHandlers(o,r),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!o.isPropagationStopped(););return this},mn.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),(t=t.getElementsByTagName?t:t.document)&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},mn.prototype.destroy=function(){this.events={}},mn.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},mn.prototype.executeHandlers=function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},mn.Event=new mn,mn);function mn(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function Wn(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var $t,kt,ha,xm,oi,Xs,wm,va,Kn,lo,Xn,Te,ba,gn,Yn,fo,ii,ie="sizzle"+-new Date,Je=window.document,pn=0,N1=0,Sm=Qs(),Nm=Qs(),Em=Qs(),Ys=function(t,e){return t===e&&(lo=!0),0},ya="undefined",E1={}.hasOwnProperty,Gn=[],_1=Gn.pop,k1=Gn.push,Jn=Gn.push,_m=Gn.slice,xr=Gn.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Pt="[\\x20\\t\\r\\n\\f]",wr="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",km="\\["+Pt+"*("+wr+")(?:"+Pt+"*([*^$|!~]?=)"+Pt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+wr+"))|)"+Pt+"*\\]",Dm=":("+wr+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+km+")*)|.*)\\)|)",Ca=new RegExp("^"+Pt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Pt+"+$","g"),D1=new RegExp("^"+Pt+"*,"+Pt+"*"),A1=new RegExp("^"+Pt+"*([>+~]|"+Pt+")"+Pt+"*"),T1=new RegExp("="+Pt+"*([^\\]'\"]*?)"+Pt+"*\\]","g"),R1=new RegExp(Dm),O1=new RegExp("^"+wr+"$"),xa={ID:new RegExp("^#("+wr+")"),CLASS:new RegExp("^\\.("+wr+")"),TAG:new RegExp("^("+wr+"|[*])"),ATTR:new RegExp("^"+km),PSEUDO:new RegExp("^"+Dm),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Pt+"*(even|odd|(([+-]|)(\\d*)n|)"+Pt+"*(?:([+-]|)"+Pt+"*(\\d+)|))"+Pt+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Pt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Pt+"*((?:-\\d)?\\d*)"+Pt+"*\\)|)(?=[^-]|$)","i")},B1=/^(?:input|select|textarea|button)$/i,P1=/^h\d$/i,Gs=/^[^{]+\{\s*\[native \w/,L1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Js=/[+~]/,I1=/'|\\/g,Qn=new RegExp("\\\\([\\da-f]{1,6}"+Pt+"?|("+Pt+")|.)","ig");try{Jn.apply(Gn=_m.call(Je.childNodes),Je.childNodes)}catch{Jn={apply:Gn.length?function(e,n){k1.apply(e,_m.call(n))}:function(e,n){for(var r=e.length,o=0;e[r++]=n[o++];);e.length=r-1}}}var wt=function(t,e,n,r){var o,i,a,u,c,s,f,l,d,m;if((e?e.ownerDocument||e:Je)!==Te&&Xn(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(u=(e=e||Te).nodeType)&&9!==u)return[];if(gn&&!r){if(o=L1.exec(t))if(a=o[1]){if(9===u){if(!(i=e.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&ii(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Jn.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&$t.getElementsByClassName)return Jn.apply(n,e.getElementsByClassName(a)),n}if($t.qsa&&(!Yn||!Yn.test(t))){if(l=f=ie,d=e,m=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(s=oi(t),(f=e.getAttribute("id"))?l=f.replace(I1,"\\$&"):e.setAttribute("id",l),l="[id='"+l+"'] ",c=s.length;c--;)s[c]=l+wa(s[c]);d=Js.test(t)&&Zs(e.parentNode)||e,m=s.join(",")}if(m)try{return Jn.apply(n,d.querySelectorAll(m)),n}catch{}finally{f||e.removeAttribute("id")}}}return wm(t.replace(Ca,"$1"),e,n,r)};function Qs(){var t=[];return function e(n,r){return t.push(n+" ")>kt.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function Qe(t){return t[ie]=!0,t}function Am(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Sr(t){return Qe(function(e){return e=+e,Qe(function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function Zs(t){return t&&typeof t.getElementsByTagName!=ya&&t}function Tm(){}function wa(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function tc(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=N1++;return e.first?function(a,u,c){for(;a=a[r];)if(1===a.nodeType||o)return t(a,u,c)}:function(a,u,c){var s,f,l=[pn,i];if(c){for(;a=a[r];)if((1===a.nodeType||o)&&t(a,u,c))return!0}else for(;a=a[r];)if(1===a.nodeType||o){if((s=(f=a[ie]||(a[ie]={}))[r])&&s[0]===pn&&s[1]===i)return l[2]=s[2];if((f[r]=l)[2]=t(a,u,c))return!0}}}function ec(t){return 1<t.length?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Sa(t,e,n,r,o){for(var i,a=[],u=0,c=t.length,s=null!=e;u<c;u++)(i=t[u])&&(n&&!n(i,r,o)||(a.push(i),s&&e.push(u)));return a}function ai(t){return void 0!==t}function nc(t){return"string"==typeof t}function Rm(t,e){var n,r=(e=e||Im).createElement("div"),o=e.createDocumentFragment();for(r.innerHTML=t;n=r.firstChild;)o.appendChild(n);return o}function Om(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function Bm(t,e,n){var r,o;return e=gt(e)[0],t.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=e.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),t}function Re(t,e){return new gt.fn.init(t,e)}function Pm(t){return null==t?"":(""+t).replace(q1,"")}function An(t,e){var n,r,o,i;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(i=t[r],r,i))break}else for(o=0;o<n&&!1!==e.call(i=t[o],o,i);o++);return t}function Lm(t,e){var n=[];return An(t,function(r,o){e(o,r)&&n.push(o)}),n}$t=wt.support={},xm=wt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Xn=wt.setDocument=function(t){var e,n=t?t.ownerDocument||t:Je,r=n.defaultView;return n!==Te&&9===n.nodeType&&n.documentElement?(ba=(Te=n).documentElement,gn=!xm(n),r&&r!==function(o){try{return o.top}catch{}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Xn()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Xn()})),$t.attributes=!0,$t.getElementsByTagName=!0,$t.getElementsByClassName=Gs.test(n.getElementsByClassName),$t.getById=!0,kt.find.ID=function(o,i){if(typeof i.getElementById!=ya&&gn){var a=i.getElementById(o);return a&&a.parentNode?[a]:[]}},kt.filter.ID=function(o){var i=o.replace(Qn,Wn);return function(a){return a.getAttribute("id")===i}},kt.find.TAG=$t.getElementsByTagName?function(o,i){if(typeof i.getElementsByTagName!=ya)return i.getElementsByTagName(o)}:function(o,i){var a,u=[],c=0,s=i.getElementsByTagName(o);if("*"!==o)return s;for(;a=s[c++];)1===a.nodeType&&u.push(a);return u},kt.find.CLASS=$t.getElementsByClassName&&function(o,i){if(gn)return i.getElementsByClassName(o)},fo=[],Yn=[],$t.disconnectedMatch=!0,Yn=Yn.length&&new RegExp(Yn.join("|")),fo=fo.length&&new RegExp(fo.join("|")),e=Gs.test(ba.compareDocumentPosition),ii=e||Gs.test(ba.contains)?function(o,i){var a=9===o.nodeType?o.documentElement:o,u=i&&i.parentNode;return o===u||!(!u||1!==u.nodeType||!(a.contains?a.contains(u):o.compareDocumentPosition&&16&o.compareDocumentPosition(u)))}:function(o,i){if(i)for(;i=i.parentNode;)if(i===o)return!0;return!1},Ys=e?function(o,i){return o===i?(lo=!0,0):(a=!o.compareDocumentPosition-!i.compareDocumentPosition)||(1&(a=(o.ownerDocument||o)===(i.ownerDocument||i)?o.compareDocumentPosition(i):1)||!$t.sortDetached&&i.compareDocumentPosition(o)===a?o===n||o.ownerDocument===Je&&ii(Je,o)?-1:i===n||i.ownerDocument===Je&&ii(Je,i)?1:Kn?xr.call(Kn,o)-xr.call(Kn,i):0:4&a?-1:1);var a}:function(o,i){if(o===i)return lo=!0,0;var a,u=0,c=o.parentNode,s=i.parentNode,f=[o],l=[i];if(!c||!s)return o===n?-1:i===n?1:c?-1:s?1:Kn?xr.call(Kn,o)-xr.call(Kn,i):0;if(c===s)return Am(o,i);for(a=o;a=a.parentNode;)f.unshift(a);for(a=i;a=a.parentNode;)l.unshift(a);for(;f[u]===l[u];)u++;return u?Am(f[u],l[u]):f[u]===Je?-1:l[u]===Je?1:0},n):Te},wt.matches=function(t,e){return wt(t,null,null,e)},wt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Te&&Xn(t),e=e.replace(T1,"='$1']"),$t.matchesSelector&&gn&&(!fo||!fo.test(e))&&(!Yn||!Yn.test(e)))try{var n=(void 0).call(t,e);if(n||$t.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch{}return 0<wt(e,Te,null,[t]).length},wt.contains=function(t,e){return(t.ownerDocument||t)!==Te&&Xn(t),ii(t,e)},wt.attr=function(t,e){(t.ownerDocument||t)!==Te&&Xn(t);var n=kt.attrHandle[e.toLowerCase()],r=n&&E1.call(kt.attrHandle,e.toLowerCase())?n(t,e,!gn):void 0;return void 0!==r?r:$t.attributes||!gn?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},wt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},wt.uniqueSort=function(t){var e,n=[],r=0,o=0;if(lo=!$t.detectDuplicates,Kn=!$t.sortStable&&t.slice(0),t.sort(Ys),lo){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return Kn=null,t},ha=wt.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=ha(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=ha(e);return n},(kt=wt.selectors={cacheLength:50,createPseudo:Qe,match:xa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Qn,Wn),t[3]=(t[3]||t[4]||t[5]||"").replace(Qn,Wn),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||wt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&wt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return xa.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&R1.test(n)&&(e=oi(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Qn,Wn).toLowerCase();return"*"===t?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Sm[t+" "];return e||(e=new RegExp("(^|"+Pt+")"+t+"("+Pt+"|$)"))&&Sm(t,function(n){return e.test("string"==typeof n.className&&n.className||typeof n.getAttribute!=ya&&n.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var o=wt.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&-1<o.indexOf(n):"$="===e?n&&o.slice(-n.length)===n:"~="===e?-1<(" "+o+" ").indexOf(n):"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===o?function(c){return!!c.parentNode}:function(c,s,f){var l,d,m,g,p,v,h=i!=a?"nextSibling":"previousSibling",b=c.parentNode,y=u&&c.nodeName.toLowerCase(),w=!f&&!u;if(b){if(i){for(;h;){for(m=c;m=m[h];)if(u?m.nodeName.toLowerCase()===y:1===m.nodeType)return!1;v=h="only"===t&&!v&&"nextSibling"}return!0}if(v=[a?b.firstChild:b.lastChild],a&&w){for(p=(l=(d=b[ie]||(b[ie]={}))[t]||[])[0]===pn&&l[1],g=l[0]===pn&&l[2],m=p&&b.childNodes[p];m=++p&&m&&m[h]||(g=p=0)||v.pop();)if(1===m.nodeType&&++g&&m===c){d[t]=[pn,p,g];break}}else if(w&&(l=(c[ie]||(c[ie]={}))[t])&&l[0]===pn)g=l[1];else for(;(m=++p&&m&&m[h]||(g=p=0)||v.pop())&&((u?m.nodeName.toLowerCase()!==y:1!==m.nodeType)||!++g||(w&&((m[ie]||(m[ie]={}))[t]=[pn,g]),m!==c)););return(g-=o)===r||g%r==0&&0<=g/r}}},PSEUDO:function(t,e){var n,r=kt.pseudos[t]||kt.setFilters[t.toLowerCase()]||wt.error("unsupported pseudo: "+t);return r[ie]?r(e):1<r.length?(n=[t,t,"",e],kt.setFilters.hasOwnProperty(t.toLowerCase())?Qe(function(o,i){for(var a,u=r(o,e),c=u.length;c--;)o[a=xr.call(o,u[c])]=!(i[a]=u[c])}):function(o){return r(o,0,n)}):r}},pseudos:{not:Qe(function(t){var e=[],n=[],r=Xs(t.replace(Ca,"$1"));return r[ie]?Qe(function(o,i,a,u){for(var c,s=r(o,null,u,[]),f=o.length;f--;)(c=s[f])&&(o[f]=!(i[f]=c))}):function(o,i,a){return e[0]=o,r(e,null,a,n),e[0]=null,!n.pop()}}),has:Qe(function(t){return function(e){return 0<wt(t,e).length}}),contains:Qe(function(t){return t=t.replace(Qn,Wn),function(e){return-1<(e.textContent||e.innerText||ha(e)).indexOf(t)}}),lang:Qe(function(t){return O1.test(t||"")||wt.error("unsupported lang: "+t),t=t.replace(Qn,Wn).toLowerCase(),function(e){var n;do{if(n=gn?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===ba},focus:function(t){return t===Te.activeElement&&(!Te.hasFocus||Te.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!kt.pseudos.empty(t)},header:function(t){return P1.test(t.nodeName)},input:function(t){return B1.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Sr(function(){return[0]}),last:Sr(function(t,e){return[e-1]}),eq:Sr(function(t,e,n){return[n<0?n+e:n]}),even:Sr(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:Sr(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:Sr(function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t}),gt:Sr(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=kt.pseudos.eq,nt(["radio","checkbox","file","password","image"],function(t){var e;kt.pseudos[t]=(e=t,function(n){return"input"===n.nodeName.toLowerCase()&&n.type===e})}),nt(["submit","reset"],function(t){var e;kt.pseudos[t]=(e=t,function(n){var r=n.nodeName.toLowerCase();return("input"===r||"button"===r)&&n.type===e})}),Tm.prototype=kt.filters=kt.pseudos,kt.setFilters=new Tm,oi=wt.tokenize=function(t,e){var n,r,o,i,a,u,c,s=Nm[t+" "];if(s)return e?0:s.slice(0);for(a=t,u=[],c=kt.preFilter;a;){for(i in n&&!(r=D1.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=A1.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ca," ")}),a=a.slice(n.length)),kt.filter)kt.filter.hasOwnProperty(i)&&(!(r=xa[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?wt.error(t):Nm(t,u).slice(0)},Xs=wt.compile=function(t,e){var n,r,o,i,a,u=[],c=[],s=Em[t+" "];if(!s){for(n=(e=e||oi(t)).length;n--;)((s=function l(d){for(var m,g,p,v=d.length,h=kt.relative[d[0].type],b=h||kt.relative[" "],y=h?1:0,w=tc(function(x){return x===m},b,!0),_=tc(function(x){return-1<xr.call(m,x)},b,!0),C=[function(x,S,R){var O=!h&&(R||S!==va)||((m=S).nodeType?w:_)(x,S,R);return m=null,O}];y<v;y++)if(g=kt.relative[d[y].type])C=[tc(ec(C),g)];else{if((g=kt.filter[d[y].type].apply(null,d[y].matches))[ie]){for(p=++y;p<v&&!kt.relative[d[p].type];p++);return function x(S,R,O,I,L,k){return I&&!I[ie]&&(I=x(I)),L&&!L[ie]&&(L=x(L,k)),Qe(function(D,T,P,q){var X,j,Y,W=[],G=[],K=T.length,Z=D||function($,rt,tt){for(var pt=0,N=rt.length;pt<N;pt++)wt($,rt[pt],tt);return tt}(R||"*",P.nodeType?[P]:P,[]),z=!S||!D&&R?Z:Sa(Z,W,S,P,q),Q=O?L||(D?S:K||I)?[]:T:z;if(O&&O(z,Q,P,q),I)for(X=Sa(Q,G),I(X,[],P,q),j=X.length;j--;)(Y=X[j])&&(Q[G[j]]=!(z[G[j]]=Y));if(D){if(L||S){if(L){for(X=[],j=Q.length;j--;)(Y=Q[j])&&X.push(z[j]=Y);L(null,Q=[],X,q)}for(j=Q.length;j--;)(Y=Q[j])&&-1<(X=L?xr.call(D,Y):W[j])&&(D[X]=!(T[X]=Y))}}else Q=Sa(Q===T?Q.splice(K,Q.length):Q),L?L(null,T,Q,q):Jn.apply(T,Q)})}(1<y&&ec(C),1<y&&wa(d.slice(0,y-1).concat({value:" "===d[y-2].type?"*":""})).replace(Ca,"$1"),g,y<p&&l(d.slice(y,p)),p<v&&l(d=d.slice(p)),p<v&&wa(d))}C.push(g)}return ec(C)}(e[n]))[ie]?u:c).push(s);(s=Em(t,(r=c,i=0<(o=u).length,a=0<r.length,i?Qe(f):f))).selector=t}function f(l,d,m,g,p){var v,h,b,y=0,w="0",_=l&&[],C=[],x=va,S=l||a&&kt.find.TAG("*",p),R=pn+=null==x?1:Math.random()||.1,O=S.length;for(p&&(va=d!==Te&&d);w!==O&&null!=(v=S[w]);w++){if(a&&v){for(h=0;b=r[h++];)if(b(v,d,m)){g.push(v);break}p&&(pn=R)}i&&((v=!b&&v)&&y--,l&&_.push(v))}if(y+=w,i&&w!==y){for(h=0;b=o[h++];)b(_,C,d,m);if(l){if(0<y)for(;w--;)_[w]||C[w]||(C[w]=_1.call(g));C=Sa(C)}Jn.apply(g,C),p&&!l&&0<C.length&&1<y+o.length&&wt.uniqueSort(g)}return p&&(pn=R,va=x),_}return s},wm=wt.select=function(t,e,n,r){var o,i,a,u,c,s="function"==typeof t&&t,f=!r&&oi(t=s.selector||t);if(n=n||[],1===f.length){if(2<(i=f[0]=f[0].slice(0)).length&&"ID"===(a=i[0]).type&&$t.getById&&9===e.nodeType&&gn&&kt.relative[i[1].type]){if(!(e=(kt.find.ID(a.matches[0].replace(Qn,Wn),e)||[])[0]))return n;s&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=xa.needsContext.test(t)?0:i.length;o--&&!kt.relative[u=(a=i[o]).type];)if((c=kt.find[u])&&(r=c(a.matches[0].replace(Qn,Wn),Js.test(i[0].type)&&Zs(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&wa(i)))return Jn.apply(n,r),n;break}}return(s||Xs(t,f))(r,e,!gn,n,Js.test(t)&&Zs(e.parentNode)||e),n},$t.sortStable=ie.split("").sort(Ys).join("")===ie,$t.detectDuplicates=!!lo,Xn(),$t.sortDetached=!0;var Im=document,rc=Array.prototype.push,M1=Array.prototype.slice,F1=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ui=co.Event,U1=U.makeMap("children,contents,next,prev"),mo=function(t,e,n,r){var o;if(nc(e))e=Rm(e,ac(t[0]));else if(e.length&&!e.nodeType){if(e=gt.makeArray(e),r)for(o=e.length-1;0<=o;o--)mo(t,e[o],n,r);else for(o=0;o<e.length;o++)mo(t,e[o],n,r);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},z1=U.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),H1=U.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),V1={for:"htmlFor",class:"className",readonly:"readOnly"},j1={float:"cssFloat"},oc={},ic={},q1=/^\s*|\s*$/g,ac=function(t){return t?9===t.nodeType?t:t.ownerDocument:Im};function Mm(t,e,n){var r=[],o=t[e];for("string"!=typeof n&&n instanceof gt&&(n=n[0]);o&&9!==o.nodeType&&(void 0===n||!(o===n||"string"==typeof n&&gt(o).is(n)));)1===o.nodeType&&r.push(o),o=o[e];return r}function uc(t,e,n,r){var o=[];for(r instanceof gt&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r&&(t===r||"string"==typeof r&&gt(t).is(r)))break;o.push(t)}return o}function Fm(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null}function Um(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName)||null;e.attr("data-mce-style",r)}function go(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o}Re.fn=Re.prototype={constructor:Re,selector:"",context:null,length:0,init:function(t,e){var n,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return gt(t).attr(e);o.context=e=document}if(nc(t)){if(!(n="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:F1.exec(t)))return gt(e).find(t);if(n[1])for(r=Rm(t,ac(e)).firstChild;r;)rc.call(o,r),r=r.nextSibling;else{if(!(r=ac(e).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return U.toArray(this)},add:function(t,e){var n,r;if(nc(t))return this.add(gt(t));if(!1!==e)for(n=gt.unique(this.toArray().concat(gt.makeArray(t))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else rc.apply(this,gt.makeArray(t));return this},attr:function(t,e){var n,r=this;if("object"==typeof t)An(t,function(o,i){r.attr(o,i)});else{if(!ai(e)){if(r[0]&&1===r[0].nodeType){if((n=oc[t])&&n.get)return n.get(r[0],t);if(H1[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each(function(){var o;1===this.nodeType&&((o=oc[t])&&o.set?o.set(this,e):null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2))})}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=V1[t]||t))An(t,function(r,o){n.prop(r,o)});else{if(!ai(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(u){return u.replace(/-(\D)/g,function(c,s){return s.toUpperCase()})}function r(u){return u.replace(/[A-Z]/g,function(c){return"-"+c})}var o,i,a=this;if("object"==typeof t)An(t,function(u,c){a.css(u,c)});else if(ai(e))t=n(t),"number"!=typeof e||z1[t]||(e=e.toString()+"px"),a.each(function(){var u=this.style;if((i=ic[t])&&i.set)i.set(this,e);else{try{this.style[j1[t]||t]=e}catch{}null!==e&&""!==e||(u.removeProperty?u.removeProperty(r(t)):u.removeAttribute(t))}});else{if(o=a[0],(i=ic[t])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[n(t)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(t))}catch{return}}return a},remove:function(){for(var t,e=this.length;e--;)ui.clean(t=this[e]),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(ai(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch{gt(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(ai(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return mo(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return mo(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?mo(this,arguments,function(t){this.parentNode.insertBefore(t,this)}):this},after:function(){return this[0]&&this[0].parentNode?mo(this,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):this},appendTo:function(t){return gt(t).append(this),this},prependTo:function(t){return gt(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Bm(this,t)},wrapAll:function(t){return Bm(this,t,!0)},wrapInner:function(t){return this.each(function(){gt(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){gt(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),gt(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?An(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(r,o){var i,a=Om(o,t);a!==e&&(i=o.className,a?o.className=Pm((" "+i+" ").replace(" "+t+" "," ")):o.className+=i?" "+t:t)})),n},hasClass:function(t){return Om(this[0],t)},each:function(t){return An(this,t)},on:function(t,e){return this.each(function(){ui.bind(this,t,e)})},off:function(t,e){return this.each(function(){ui.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?ui.fire(this,t.type,t):ui.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return gt(M1.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){for(var e=[],n=0,r=this.length;n<r;n++)gt.find(t,this[n],e);return gt(e)},filter:function(t){return gt("function"==typeof t?Lm(this.toArray(),function(e,n){return t(n,e)}):gt.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof gt&&(t=t[0]),this.each(function(n,r){for(;r;){if("string"==typeof t&&gt(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}}),gt(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(o=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:rc,sort:Array.prototype.sort,splice:Array.prototype.splice},U.extend(Re,{extend:U.extend,makeArray:function(t){return t&&t===t.window||t.nodeType?[t]:U.toArray(t)},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:U.isArray,each:An,trim:Pm,grep:Lm,find:wt,expr:wt.selectors,unique:wt.uniqueSort,text:wt.getText,contains:wt.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return 1===e.length?gt.find.matchesSelector(e[0],t)?[e[0]]:[]:gt.find.matches(t,e)}}),An({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Mm(t,"parentNode")},next:function(t){return Fm(t,"nextSibling",1)},prev:function(t){return Fm(t,"previousSibling",1)},children:function(t){return uc(t.firstChild,"nextSibling",1)},contents:function(t){return U.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Re.fn[t]=function(n){var r=[];this.each(function(){var i=e.call(r,this,n,r);i&&(gt.isArray(i)?r.push.apply(r,i):r.push(i))}),1<this.length&&(U1[t]||(r=gt.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=gt(r);return n?o.filter(n):o}}),An({parentsUntil:function(t,e){return Mm(t,"parentNode",e)},nextUntil:function(t,e){return uc(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return uc(t,"previousSibling",1,e).slice(1)}},function(t,e){Re.fn[t]=function(n,r){var o=[];this.each(function(){var a=e.call(o,this,n,o);a&&(gt.isArray(a)?o.push.apply(o,a):o.push(a))}),1<this.length&&(o=gt.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var i=gt(o);return r?i.filter(r):i}}),Re.fn.is=function(t){return!!t&&0<this.filter(t).length},Re.fn.init.prototype=Re.fn,Re.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),new n.fn.init(r,o=o||e.context)};return gt.extend(n,this),n},Re.attrHooks=oc,Re.cssHooks=ic;var gt=Re,si=U.each,$1=U.grep,sc=mt.ie,W1=/^([a-z0-9],?)+$/i,Nt=function(t,e){function n(N){return N&&t&&Lt(N)?t.getElementById(N):N}function r(N){return z("string"==typeof N?n(N):N)}function o(N,A,M){var V,H,J=r(N);return void 0===(H=J.length?(V=pt[A])&&V.get?V.get(J,A):J.attr(A):H)?M||"":H}function i(N){var A=n(N);return A?A.attributes:[]}function a(N,A,M){""===M&&(M=null);var V,H=r(N),J=H.attr(A);H.length&&((V=pt[A])&&V.set?V.set(H,M,A):H.attr(A,M),J!==M&&e.onSetAttrib&&e.onSetAttrib({attrElm:H,attrName:A,attrValue:M}))}function u(){return e.root_element||t.body}function c(N,A){return function(M,V,H){var J,at=0,ct=0,St=M.ownerDocument;if(H=H||M,V){if(H===M&&V.getBoundingClientRect&&"static"===Dn(B.fromDom(M),"position")){var dt=V.getBoundingClientRect();return{x:at=dt.left+(St.documentElement.scrollLeft||M.scrollLeft)-St.documentElement.clientLeft,y:ct=dt.top+(St.documentElement.scrollTop||M.scrollTop)-St.documentElement.clientTop}}for(var st=V;st&&st!==H&&st.nodeType&&!Wd(st,H);)at+=st.offsetLeft||0,ct+=st.offsetTop||0,st=st.offsetParent;for(st=V.parentNode;st&&st!==H&&st.nodeType&&!Wd(st,H);)at-=st.scrollLeft||0,ct-=st.scrollTop||0,st=st.parentNode;ct+=(J=B.fromDom(V),Qy.isFirefox()&&"table"===Ht(J)?$d(He(J)).filter(function(Rt){return"caption"===Ht(Rt)}).bind(function(Rt){return $d(Ad(Rt)).map(function(Xt){return Xt.dom.offsetTop<=Rt.dom.offsetTop?-Rt.dom.offsetHeight:0})}).getOr(0):0)}return{x:at,y:ct}}(t.body,n(N),A)}function s(N,A,M){var V=r(N);return M?V.css(A):("float"===(A=A.replace(/-(\D)/g,function(H,J){return J.toUpperCase()}))&&(A=mt.browser.isIE()?"styleFloat":"cssFloat"),V[0]&&V[0].style?V[0].style[A]:void 0)}function f(N){var A=s(N=n(N),"width"),M=s(N,"height");return-1===A.indexOf("px")&&(A=0),-1===M.indexOf("px")&&(M=0),{w:parseInt(A,10)||N.offsetWidth||N.clientWidth,h:parseInt(M,10)||N.offsetHeight||N.clientHeight}}function l(N,A){if(!N)return!1;if(!Array.isArray(N)){if("*"===A)return 1===N.nodeType;if(W1.test(A)){for(var M=A.toLowerCase().split(/,/),V=N.nodeName.toLowerCase(),H=M.length-1;0<=H;H--)if(M[H]===V)return!0;return!1}if(N.nodeType&&1!==N.nodeType)return!1}var J=Array.isArray(N)?N:[N];return 0<wt(A,J[0].ownerDocument||J[0],null,J).length}function d(N,A,M,V){var H,J=[],at=n(N);for(V=void 0===V,M=M||("BODY"!==u().nodeName?u().parentNode:null),U.is(A,"string")&&(A="*"===(H=A)?function(ct){return 1===ct.nodeType}:function(ct){return l(ct,H)});at&&!(at===M||on(at.nodeType)||Es(at)||_s(at));){if(!A||"function"==typeof A&&A(at)){if(!V)return[at];J.push(at)}at=at.parentNode}return V?J:null}function m(N,A,M){var V=A;if(N)for("string"==typeof A&&(V=function(H){return l(H,A)}),N=N[M];N;N=N[M])if("function"==typeof V&&V(N))return N;return null}function g(N,A,M){var V,H="string"==typeof N?n(N):N;return!!H&&(U.isArray(H)&&(H.length||0===H.length)?(V=[],si(H,function(J,at){J&&V.push(A.call(M,"string"==typeof J?n(J):J,at))}),V):A.call(M||this,H))}function p(N,A){r(N).each(function(M,V){si(A,function(H,J){a(V,J,H)})})}function v(N,A){var M=r(N);sc?M.each(function(V,H){if(!1!==H.canHaveHTML){for(;H.firstChild;)H.removeChild(H.firstChild);try{H.innerHTML="<br>"+A,H.removeChild(H.firstChild)}catch{gt("<div></div>").html("<br>"+A).contents().slice(1).appendTo(H)}return A}}):M.html(A)}function h(N,A,M,V,H){return g(N,function(J){var at="string"==typeof A?t.createElement(A):A;return p(at,M),V&&("string"!=typeof V&&V.nodeType?at.appendChild(V):"string"==typeof V&&v(at,V)),H?at:J.appendChild(at)})}function b(N,A,M){return h(t.createElement(N),N,A,M,!0)}function y(N,A){var M=r(N);return(A?M.each(function(){for(var V;V=this.firstChild;)3===V.nodeType&&0===V.data.length?this.removeChild(V):this.parentNode.insertBefore(V,this)}):M).remove(),1<M.length?M.toArray():M[0]}function w(N,A,M){r(N).toggleClass(A,M).each(function(){""===this.className&&gt(this).attr("class",null)})}function _(N,A,M){return g(A,function(V){return U.is(V,"array")&&(N=N.cloneNode(!0)),M&&si($1(V.childNodes),function(H){N.appendChild(H)}),V.parentNode.replaceChild(N,V)})}function C(N){if(lt(N)){var A="a"===N.nodeName.toLowerCase()&&!o(N,"href")&&o(N,"id");return o(N,"name")||o(N,"data-mce-bookmark")||A?1:void 0}}function x(){return t.createRange()}function S(N){if(N&&lt(N)){var A=N.getAttribute("data-mce-contenteditable");return A&&"inherit"!==A?A:"inherit"!==N.contentEditable?N.contentEditable:null}return null}void 0===e&&(e={});var R,O,I,L,k,D,T={},P=window,q={},X=0,j=im.forElement(B.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),Y=[],W=e.schema||qn({}),G=Us({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),K=e.ownEvents?new co:co.Event,Z=W.getBlockElements(),z=gt.overrideDefaults(function(){return{context:t,element:tt.getRoot()}}),Q=$n.encodeAllRaw,$=function(N,A,M,V){if(U.isArray(N)){for(var H=N.length,J=[];H--;)J[H]=$(N[H],A,M,V);return J}return!e.collect||N!==t&&N!==P||Y.push([N,A,M,V]),K.bind(N,A,M,V||tt)},rt=function(N,A,M){if(U.isArray(N)){for(var V=N.length,H=[];V--;)H[V]=rt(N[V],A,M);return H}if(0<Y.length&&(N===t||N===P))for(V=Y.length;V--;){var J=Y[V];N!==J[0]||A&&A!==J[1]||M&&M!==J[2]||K.unbind(J[0],J[1],J[2])}return K.unbind(N,A,M)},tt={doc:t,settings:e,win:P,files:q,stdMode:!0,boxModel:!0,styleSheetLoader:j,boundEvents:Y,styles:G,schema:W,events:K,isBlock:function(N){if("string"==typeof N)return!!Z[N];if(N){var A=N.nodeType;if(A)return!(1!==A||!Z[N.nodeName])}return!1},$:z,$$:r,root:null,clone:function(N,A){if(!sc||1!==N.nodeType||A)return N.cloneNode(A);var M=t.createElement(N.nodeName);return si(i(N),function(V){a(M,V.nodeName,o(N,V.nodeName))}),M},getRoot:u,getViewPort:function(N){var A=Fd(N);return{x:A.x,y:A.y,w:A.width,h:A.height}},getRect:function(N){var A=c(N=n(N)),M=f(N);return{x:A.x,y:A.y,w:M.w,h:M.h}},getSize:f,getParent:function(N,A,M){var V=d(N,A,M,!1);return V&&0<V.length?V[0]:null},getParents:d,get:n,getNext:function(N,A){return m(N,A,"nextSibling")},getPrev:function(N,A){return m(N,A,"previousSibling")},select:function(N,A){return wt(N,n(A)||e.root_element||t,[])},is:l,add:h,create:b,createHTML:function(N,A,M){var V,H="";for(V in H+="<"+N,A)Xr(A,V)&&(H+=" "+V+'="'+Q(A[V])+'"');return void 0!==M?H+">"+M+"</"+N+">":H+" />"},createFragment:function(N){var A,M=t.createElement("div"),V=t.createDocumentFragment();for(V.appendChild(M),N&&(M.innerHTML=N);A=M.firstChild;)V.appendChild(A);return V.removeChild(M),V},remove:y,setStyle:function(N,A,M){var V=Lt(A)?r(N).css(A,M):r(N).css(A);e.update_styles&&Um(G,V)},getStyle:s,setStyles:function(N,A){var M=r(N).css(A);e.update_styles&&Um(G,M)},removeAllAttribs:function(N){return g(N,function(A){for(var M=A.attributes,V=M.length-1;0<=V;V--)A.removeAttributeNode(M.item(V))})},setAttrib:a,setAttribs:p,getAttrib:o,getPos:c,parseStyle:function(N){return G.parse(N)},serializeStyle:function(N,A){return G.serialize(N,A)},addStyle:function(N){var A,M;if(tt!==Nt.DOM&&t===document){if(T[N])return;T[N]=!0}(M=t.getElementById("mceDefaultStyles"))||((M=t.createElement("style")).id="mceDefaultStyles",M.type="text/css",(A=t.getElementsByTagName("head")[0]).firstChild?A.insertBefore(M,A.firstChild):A.appendChild(M)),M.styleSheet?M.styleSheet.cssText+=N:M.appendChild(t.createTextNode(N))},loadCSS:function(N){nt((N=N||"").split(","),function(A){q[A]=!0,j.load(A,vt)})},addClass:function(N,A){r(N).addClass(A)},removeClass:function(N,A){w(N,A,!1)},hasClass:function(N,A){return r(N).hasClass(A)},toggleClass:w,show:function(N){r(N).show()},hide:function(N){r(N).hide()},isHidden:function(N){return"none"===r(N).css("display")},uniqueId:function(N){return(N||"mce_")+X++},setHTML:v,getOuterHTML:function(N){var A="string"==typeof N?n(N):N;return lt(A)?A.outerHTML:gt("<div></div>").append(gt(A).clone()).html()},setOuterHTML:function(N,A){r(N).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=A)}catch{}y(gt(this).html(A),!0)})},decode:$n.decode,encode:Q,insertAfter:function(N,A){var M=n(A);return g(N,function(V){var H=M.parentNode,J=M.nextSibling;return J?H.insertBefore(V,J):H.appendChild(V),V})},replace:_,rename:function(N,A){var M;return N.nodeName!==A.toUpperCase()&&(M=b(A),si(i(N),function(V){a(M,V.nodeName,o(N,V.nodeName))}),_(M,N,!0)),M||N},findCommonAncestor:function(N,A){for(var M,V=N;V;){for(M=A;M&&V!==M;)M=M.parentNode;if(V===M)break;V=V.parentNode}return!V&&N.ownerDocument?N.ownerDocument.documentElement:V},toHex:function(N){return G.toHex(U.trim(N))},run:g,getAttribs:i,isEmpty:function(N,A){var M,V,H=0;if(C(N))return!1;if(N=N.firstChild){var J=new jt(N,N.parentNode),at=W?W.getWhiteSpaceElements():{};A=A||(W?W.getNonEmptyElements():null);do{if(M=N.nodeType,lt(N)){var ct=N.getAttribute("data-mce-bogus");if(ct){N=J.next("all"===ct);continue}if(V=N.nodeName.toLowerCase(),A&&A[V]){if("br"!==V)return!1;H++,N=J.next();continue}if(C(N))return!1}if(8===M||3===M&&!br(N.nodeValue)||3===M&&N.parentNode&&at[N.parentNode.nodeName]&&br(N.nodeValue))return!1;N=J.next()}while(N)}return H<=1},createRng:x,nodeIndex:go,split:function(N,A,M){var V,H,J,at=x();if(N&&A)return at.setStart(N.parentNode,go(N)),at.setEnd(A.parentNode,go(A)),V=at.extractContents(),(at=x()).setStart(A.parentNode,go(A)+1),at.setEnd(N.parentNode,go(N)+1),H=at.extractContents(),(J=N.parentNode).insertBefore($s(tt,V),N),J.insertBefore(M||A,N),J.insertBefore($s(tt,H),N),y(N),M||A},bind:$,unbind:rt,fire:function(N,A,M){return K.fire(N,A,M)},getContentEditable:S,getContentEditableParent:function(N){for(var A=u(),M=null;N&&N!==A&&null===(M=S(N));N=N.parentNode);return M},destroy:function(){if(0<Y.length)for(var N=Y.length;N--;){var A=Y[N];K.unbind(A[0],A[1],A[2])}Bt(q,function(M,V){j.unload(V),delete q[V]}),wt.setDocument&&wt.setDocument()},isChildOf:function(N,A){if(sc){for(;N;){if(A===N)return!0;N=N.parentNode}return!1}return N===A||A.contains(N)},dumpRng:function(N){return"startContainer: "+N.startContainer.nodeName+", startOffset: "+N.startOffset+", endContainer: "+N.endContainer.nodeName+", endOffset: "+N.endOffset}},pt=(R=G,I=ot(tt),k={set:function(N,A,M){O.url_converter&&null!==A&&(A=O.url_converter.call(O.url_converter_scope||I(),A,M,N[0])),N.attr("data-mce-"+M,A).attr(M,A)},get:function(N,A){return N.attr("data-mce-"+A)||N.attr(A)}},D={style:{set:function(N,A){null===A||"object"!=typeof A?(L&&N.attr("data-mce-style",A),null!==A&&"string"==typeof A?(N.removeAttr("style"),N.css(R.parse(A))):N.attr("style",A)):N.css(A)},get:function(N){var A=N.attr("data-mce-style")||N.attr("style");return R.serialize(R.parse(A),N[0].nodeName)}}},(L=(O=e).keep_values)&&(D.href=D.src=k),D);return tt};Nt.DOM=Nt(document),Nt.nodeIndex=go;var K1=Nt.DOM,cc=U.each,X1=U.grep,Tn=(je.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},je.prototype.loadScript=function(t,e,n){function r(){o.remove(i),a&&(a.onerror=a.onload=a=null)}var o=K1,i=o.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=U._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){r(),e()},a.onerror=function(){r(),Ot(n)?n():typeof console<"u"&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},je.prototype.isDone=function(t){return 2===this.states[t]},je.prototype.markDone=function(t){this.states[t]=2},je.prototype.add=function(t,e,n,r){var o=this.states[t];this.queue.push(t),void 0===o&&(this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},je.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},je.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},je.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},je.prototype.loadScripts=function(t,e,n,r){function o(c,s){cc(i.scriptLoadedCallbacks[s],function(f){Ot(f[c])&&f[c].call(f.scope)}),i.scriptLoadedCallbacks[s]=void 0}var i=this,a=[];i.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this});var u=function(){var c,s=X1(t);t.length=0,cc(s,function(f){2!==i.states[f]?3!==i.states[f]?1!==i.states[f]&&(i.states[f]=1,i.loading++,i.loadScript(f,function(){i.states[f]=2,i.loading--,o("success",f),u()},function(){i.states[f]=3,i.loading--,a.push(f),o("failure",f),u()})):o("failure",f):o("success",f)}),i.loading||(c=i.queueLoadedCallbacks.slice(0),i.queueLoadedCallbacks.length=0,cc(c,function(f){0===a.length?Ot(f.success)&&f.success.call(f.scope):Ot(f.failure)&&f.failure.call(f.scope,a)}))};u()},je.ScriptLoader=new je,je);function je(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}function se(t){var e=t;return{get:function(){return e},set:function(n){e=n}}}function zm(){return zt(ci,lc.get())}var ci={},lc=se("en"),Ze={getData:function(){return nd(ci,function(t){return ft({},t)})},setCode:function(t){t&&lc.set(t)},getCode:function(){return lc.get()},add:function(t,e){var n=ci[t];n||(ci[t]=n={}),Bt(e,function(r,o){n[o.toLowerCase()]=r})},translate:function(t){function e(s){return Ot(s)?Object.prototype.toString.call(s):u(s)?"":""+s}function n(s){var f=e(s);return zt(a,f.toLowerCase()).map(e).getOr(f)}function r(s){return s.replace(/{context:\w+}$/,"")}var o,i,a=zm().getOr({}),u=function(s){return""===s||null==s};if(u(t))return"";if(Wr(o=t)&&yt(o,"raw"))return e(t.raw);if(Me(i=t)&&1<i.length){var c=t.slice(1);return r(n(t[0]).replace(/\{([0-9]+)\}/g,function(s,f){return yt(c,f)?e(c[f]):s}))}return r(n(t))},isRtl:function(){return zm().bind(function(t){return zt(t,"_dir")}).exists(function(t){return"rtl"===t})},hasCode:function(t){return yt(ci,t)}},we=function(){function t(s,f){nt(bt(u,function(l){return l.name===s&&l.state===f}),function(l){return l.callback()})}function e(s){return(a[s]?a[s].dependencies:void 0)||[]}function n(s,f){return"object"==typeof f?f:"string"==typeof s?{prefix:"",resource:f,suffix:""}:{prefix:s.prefix,resource:f,suffix:s.suffix}}function r(s,f,l){void 0===l&&(l="added"),yt(a,s)&&"added"===l||yt(i,s)&&"loaded"===l?f():u.push({name:s,state:l,callback:f})}var o=[],i={},a={},u=[],c=function(s,f,l,d,m){var g,p;i[s]||(0!==(g="string"==typeof f?f:f.prefix+f.resource+f.suffix).indexOf("/")&&-1===g.indexOf("://")&&(g=we.baseURL+"/"+g),i[s]=g.substring(0,g.lastIndexOf("/")),p=function(){var v,h,b;t(s,"loaded"),v=f,h=l,b=d,nt(e(s),function(y){var w=n(v,y);c(w.resource,w,void 0,void 0)}),h&&h.call(b||Tn)},a[s]?p():Tn.ScriptLoader.add(g,p,d,m))};return{items:o,urls:i,lookup:a,_listeners:u,get:function(s){if(a[s])return a[s].instance},dependencies:e,requireLangPack:function(s,f){!1!==we.languageLoad&&r(s,function(){var l=Ze.getCode();!l||f&&-1===(","+(f||"")+",").indexOf(","+l+",")||Tn.ScriptLoader.add(i[s]+"/langs/"+l+".js")},"loaded")},add:function(s,f,l){var d=f;return o.push(d),a[s]={instance:d,dependencies:l},t(s,"added"),d},remove:function(s){delete i[s],delete a[s]},createUrl:n,addComponents:function(s,f){var l=i[s];nt(f,function(d){Tn.ScriptLoader.add(l+"/"+d)})},load:c,waitFor:r}};function po(){var t,e,n=(t=vt,e=se(E.none()),{clear:function(){r(),e.set(E.none())},isSet:function(){return e.get().isSome()},get:function(){return e.get()},set:function(o){r(),e.set(E.some(o))}});function r(){return e.get().each(t)}return ft(ft({},n),{on:function(o){return n.get().each(o)}})}function fc(t,e){var n=null;return{cancel:function(){jo(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];jo(n)&&(n=setTimeout(function(){n=null,t.apply(null,r)},e))}}}function Hm(t,e){function n(){jo(r)||(clearTimeout(r),r=null)}var r=null;return{cancel:n,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n(),r=setTimeout(function(){r=null,t.apply(null,o)},e)}}}function dc(t,e){var n=to(t,e);return void 0===n||""===n?[]:n.split(" ")}function Na(t){return void 0!==t.dom.classList}function Ea(t,e){var n,r,o;Na(t)?t.dom.classList.add(e):(r=e,o=dc(n=t,"class").concat([r]),cn(n,"class",o.join(" ")))}function Vm(t,e){return Na(t)&&t.dom.classList.contains(e)}function be(t,e){return fd(n=void 0===t?document:t.dom)?[]:At(n.querySelectorAll(e),B.fromDom);var n}function jm(t,e){function n(u,c){return jd(u,c)?E.some(to(u,c)):E.none()}var r=t.selection.getRng(),o=B.fromDom(r.startContainer),i=B.fromDom(t.getBody()),a=e.fold(function(){return"."+hc()},function(u){return"["+li()+'="'+u+'"]'});return As(Yi(o,r.startOffset).getOr(o),a,function(u){return _t(u,i)}).bind(function(u){return n(u,""+ka()).bind(function(c){return n(u,""+li()).map(function(s){var f=G1(t,c);return{uid:c,name:s,elements:f}})})})}function qm(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++J1+String(e)}function $m(t,e){var n,r,o=_d(t).dom,i=B.fromDom(o.createDocumentFragment());Gi(i,(n=e,(r=(o||document).createElement("div")).innerHTML=n,He(B.fromDom(r)))),Cs(t),ee(t,i)}function Wm(t,e){return B.fromDom(t.dom.cloneNode(e))}function ho(t){return Wm(t,!1)}function Km(t){return Wm(t,!0)}function Xm(t,e,n){function r(i){for(var a;(a=o[i]())&&!it(a)&&!n(a););return E.from(a).filter(it)}void 0===n&&(n=Dt);var o=new jt(t,e);return{current:function(){return E.from(o.current()).filter(it)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function Ym(t,e){var n=e||function(o){return t.isBlock(o)||It(o)||Tt(o)},r=function(o,i,a,u){if(it(o)){var c=u(o,i,o.data);if(-1!==c)return E.some({container:o,offset:c})}return a().bind(function(s){return r(s.container,s.offset,a,u)})};return{backwards:function(o,i,a,u){var c=Xm(o,u,n);return r(o,i,function(){return c.prev().map(function(s){return{container:s,offset:s.length}})},a).getOrNull()},forwards:function(o,i,a,u){var c=Xm(o,u,n);return r(o,i,function(){return c.next().map(function(s){return{container:s,offset:0}})},a).getOrNull()}}}function Nr(t){return t?{left:yo(t.left),top:yo(t.top),bottom:yo(t.bottom),right:yo(t.right),width:yo(t.width),height:yo(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function Gm(t,e){return t=Nr(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t}function Jm(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2}function vo(t,e){var n=Math.min(e.height/2,t.height/2);return t.bottom-n<e.top||!(t.top>e.bottom)&&Jm(e.top-t.bottom,t,e)}function bo(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Jm(e.bottom-t.top,t,e)}function Qm(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}function _a(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null}function Zn(t,e){if(lt(t)&&t.hasChildNodes()){var n=t.childNodes;return n[(r=n.length-1,Math.min(Math.max(e,0),r))]}return t;var r}function Zm(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&Q1.test(t)}function mc(t){return"createRange"in t?t.createRange():Nt.DOM.createRng()}function gc(t){return t&&/[\r\n\t ]/.test(t)}function tg(t){return t.setStart&&t.setEnd}function pc(t){var e=t.startContainer,n=t.startOffset;if(gc(t.toString())&&eC(e.parentNode)&&it(e)){var r=e.data;return gc(r[n-1])||gc(r[n+1])?1:void 0}}function eg(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom}function Er(t,e){var n=Gm(t,e);return n.width=1,n.right=n.left+1,n}we.languageLoad=!0,we.baseURL="",we.PluginManager=we(),we.ThemeManager=we();var ng=function(t,e){var n=[];return nt(He(t),function(r){n=(n=e(r)?n.concat([r]):n).concat(ng(r,e))}),n},hc=ot("mce-annotation"),li=ot("data-mce-annotation"),ka=ot("data-mce-annotation-uid"),G1=function(t,e){return be(B.fromDom(t.getBody()),"["+ka()+'="'+e+'"]')},J1=0,yo=Math.round,Q1=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),rg=lt,Z1=fn,og=Zi("display","block table"),tC=Zi("float","left right"),fi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){for(var r=0;r<t.length;r++)if(!t[r](n))return!1;return!0}}(rg,Z1,rs(tC)),eC=rs(Zi("white-space","pre pre-line pre-wrap")),di=it,vc=It,ig=Nt.nodeIndex,Da=function(t,e){if(!(e<0&&lt(t)&&t.hasChildNodes()))return Zn(t,e)},tr=function(t){var e=t.getClientRects(),n=Nr(0<e.length?e[0]:t.getBoundingClientRect());return!tg(t)&&vc(t)&&eg(n)?function(r){var o=r.ownerDocument,i=mc(o),a=o.createTextNode(xe),u=r.parentNode;u.insertBefore(a,r),i.setStart(a,0),i.setEnd(a,1);var c=Nr(i.getBoundingClientRect());return u.removeChild(a),c}(t):eg(n)&&tg(t)?function(r){var i=r.endContainer,a=r.startOffset,u=r.endOffset;if(r.startContainer===i&&it(i)&&0===a&&1===u){var c=r.cloneRange();return c.setEndAfter(i),tr(c)}return null}(t):n},F=function(t,e,n){function r(){return n=n||function(o){function i(d){var m;0!==d.height&&(0<u.length&&d.left===(m=u[u.length-1]).left&&d.top===m.top&&d.bottom===m.bottom&&d.right===m.right||u.push(d))}function a(d,m){var g=mc(d.ownerDocument);if(m<d.data.length){if(Zm(d.data[m]))return u;if(Zm(d.data[m-1])&&(g.setStart(d,m),g.setEnd(d,m+1),!pc(g)))return i(Er(tr(g),!1)),u}0<m&&(g.setStart(d,m-1),g.setEnd(d,m),pc(g)||i(Er(tr(g),!1))),m<d.data.length&&(g.setStart(d,m),g.setEnd(d,m+1),pc(g)||i(Er(tr(g),!0)))}var u=[],c=o.container(),s=o.offset();if(di(c))return a(c,s),u;if(rg(c))if(o.isAtEnd()){var f=Da(c,s);di(f)&&a(f,f.data.length),fi(f)&&!vc(f)&&i(Er(tr(f),!1))}else{if(f=Da(c,s),di(f)&&a(f,0),fi(f)&&o.isAtEnd())return i(Er(tr(f),!1)),u;var l=Da(o.container(),o.offset()-1);fi(l)&&!vc(l)&&(!og(l)&&!og(f)&&fi(f)||i(Er(tr(l),!1))),fi(f)&&i(Er(tr(f),!0))}return u}(F(t,e))}return{container:ot(t),offset:ot(e),toRange:function(){var o=mc(t.ownerDocument);return o.setStart(t,e),o.setEnd(t,e),o},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return di(t),0===e},isAtEnd:function(){return di(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(o){return o&&t===o.container()&&e===o.offset()},getNode:function(o){return Da(t,o?e-1:e)}}};function Aa(t,e){it(e)&&0===e.data.length&&t.remove(e)}function bc(t,e,n){var r,o,i,a,u,c,s;_s(n)?(i=t,a=e,c=E.from((u=n).firstChild),s=E.from(u.lastChild),a.insertNode(u),c.each(function(f){return Aa(i,f.previousSibling)}),s.each(function(f){return Aa(i,f.nextSibling)})):(r=t,e.insertNode(o=n),Aa(r,o.previousSibling),Aa(r,o.nextSibling))}function ag(t){return function(e){return t===e}}function ug(t){var e,n,r,o;return(tn(t)?"text()":t.nodeName.toLowerCase())+"["+(r=id(n=Nc(Fg(e=t)),ag(e),e),o=Wi(n=n.slice(0,r+1),function(i,a,u){return tn(a)&&tn(n[u-1])&&i++,i},0),id(n=Yr(n,Ue([e.nodeName])),ag(e),e)-o+"]")}function sg(t,e){var n,r,o,i=[],a=e.container(),u=e.offset();return tn(a)?n=function(c,s){for(;(c=c.previousSibling)&&tn(c);)s+=c.data.length;return s}(a,u):(u>=(r=a.childNodes).length?(n="after",u=r.length-1):n="before",a=r[u]),i.push(ug(a)),o=Yr(function(c,s){var f=[];for(s=s.parentNode;s!==c;s=s.parentNode)f.push(s);return f}(t,a),rs(pr)),(i=i.concat(ss(o,ug))).reverse().join("/")+","+n}function cg(t,e){if(!e)return null;var n=e.split(","),r=n[0].split("/"),o=1<n.length?n[1]:"before",i=Wi(r,function(a,u){var c,s,f,l,d=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return d?("text()"===d[1]&&(d[1]="#text"),c=a,s=d[1],f=parseInt(d[2],10),l=Yr(l=Nc(c),function(m,g){return!tn(m)||!tn(l[g-1])}),(l=Yr(l,Ue([s])))[f]):null},t);return i?tn(i)?function(a,u){for(var c,s=a,f=0;tn(s);){if(c=s.data.length,f<=u&&u<=f+c){a=s,u-=f;break}if(!tn(s.nextSibling)){a=s,u=c;break}f+=c,s=s.nextSibling}return tn(a)&&u>a.data.length&&(u=a.data.length),F(a,u)}(i,parseInt(o,10)):(o="after"===o?Mg(i)+1:Mg(i),F(i.parentNode,o)):null}function lg(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,f=t.getRoot();for(it(a)?c.push(n?function(l,d,m){for(var g=l(d.data.slice(0,m)).length,p=d.previousSibling;p&&it(p);p=p.previousSibling)g+=l(p.data).length;return g}(e,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(t.nodeIndex(i[u],n)+s));a&&a!==f;a=a.parentNode)c.push(t.nodeIndex(a,n));return c}function yc(t,e,n){var r=0;return U.each(t.select(e),function(o){if("all"!==o.getAttribute("data-mce-bogus"))return o!==n&&void r++}),r}function fg(t,e){var n,r=e?"start":"end",o=t[r+"Container"],i=t[r+"Offset"];lt(o)&&"TR"===o.nodeName&&(o=(n=o.childNodes)[Math.min(e?i:i-1,n.length-1)])&&t["set"+(e?"Start":"End")](o,i=e?0:o.childNodes.length)}function dg(t){return fg(t,!0),fg(t,!1),t}function mg(t,e){var n;return lt(t)&&(t=Zn(t,e),Pa(t))?t:De(t)?(n=(t=it(t)&&oo(t)?t.parentNode:t).previousSibling,Pa(n)||Pa(n=t.nextSibling)?n:void 0):void 0}function gg(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Pa(r)||"IMG"===o)return{name:o,index:yc(n.dom,o,r)};var a,u,c,s,f,l,d,m=mg((a=i).startContainer,a.startOffset)||mg(a.endContainer,a.endOffset);return m?{name:o=m.tagName,index:yc(n.dom,o,m)}:(l=(c=n).dom,(d={}).start=lg(l,u=t,s=e,f=i,!0),c.isCollapsed()||(d.end=lg(l,u,s,f,!1)),um(f)&&(d.isFakeCaret=!0),d)}function pg(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)}function hg(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:yc(n,u,a)};var c=dg(r.cloneRange());return i||(c.collapse(!1),bc(n,c,pg(n,o+"_end",e))),(r=dg(r)).collapse(!0),bc(n,r,pg(n,o+"_start",e)),t.moveToBookmark({id:o,keep:!0}),{id:o}}function vg(t,e,n){var r=t.getParam(e,n);return-1===r.indexOf("=")?r:zt(t.getParam(e,"","hash"),t.id).getOr(n)}function bg(t){return t.getParam("content_security_policy","")}function ae(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}function mi(t){return t.getParam("forced_root_block_attrs",{})}function yg(t){return t.getParam("automatic_uploads",!0,"boolean")}function Cg(t){return t.getParam("icons","","string")}function xg(t){return t.getParam("referrer_policy","","string")}function wg(t){return t.getParam("language","en","string")}function Sg(t){return t.getParam("indent_use_margin",!1)}function Ng(t){var e=t.getParam("font_css",[]);return Me(e)?e:At(e.split(","),ps)}function Eg(t){var e=t.getParam("object_resizing");return!1!==e&&!mt.iOS&&(Lt(e)?e:"table,img,figure.image,div,video,iframe")}function _g(t){return t.getParam("event_root")}function gi(t){return t.getParam("theme")}function pi(t){return!1!==t.getParam("inline_boundaries")}function Cc(t){return t.getParam("plugins","","string")}function kg(t){var e=t.parentNode;e&&e.removeChild(t)}function Dg(t){var e=Ae(t);return{count:t.length-e.length,text:e}}function Ag(t){for(var e;-1!==(e=t.data.lastIndexOf(Qt));)t.deleteData(e,1)}function Tg(t,e){return kr(t),e}function nC(t,e){var n,r=e.container(),o=(-1===(n=Yf(un(r.childNodes),t))?E.none():E.some(n)).map(function(i){return i<e.offset()?F(r,e.offset()-1):e}).getOr(e);return kr(t),o}function rC(t,e){return F.isTextPosition(e)?(r=e,zg(n=t)&&r.container()===n?(a=Dg((o=n).data.substr(0,(i=r).offset())),u=Dg(o.data.substr(i.offset())),0<(a.text+u.text).length?(Ag(o),F(o,i.offset()-a.count)):i):Tg(n,r)):(c=t,((s=e).container()===c.parentNode?nC:Tg)(c,s));var n,r,o,i,a,u,c,s}function Rg(t,e,n){var r,o,i,a=Gm(e.getBoundingClientRect(),n),u="BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,t.scrollTop||r.scrollTop):(i=t.getBoundingClientRect(),o=t.scrollLeft-i.left,t.scrollTop-i.top);a.left+=o,a.right+=o,a.top+=u,a.bottom+=u,a.width=1;var c=e.offsetWidth-e.clientWidth;return 0<c&&(n&&(c*=-1),a.left+=c,a.right+=c),a}function Og(){return Ec.isIE()||Ec.isEdge()||Ec.isFirefox()}function _r(t){return vi(t)||Zr(t)&&Og()}function Ta(t,e){for(var n;n=t(e);)if(!Vg(n))return n;return null}function Co(t,e,n,r,o){var i=new jt(t,r),a=_c(t)||Vg(t);if(e<0){if(a&&n(t=Ta(i.prev.bind(i),!0)))return t;for(;t=Ta(i.prev.bind(i),o);)if(n(t))return t}if(0<e){if(a&&n(t=Ta(i.next.bind(i),!0)))return t;for(;t=Ta(i.next.bind(i),o);)if(n(t))return t}return null}function er(t,e){for(;t&&t!==e;){if(fC(t))return t;t=t.parentNode}return null}function hn(t,e,n){return er(t.container(),n)===er(e.container(),n)}function xc(t,e){if(!e)return null;var n=e.container(),r=e.offset();return jg(n)?n.childNodes[r+t]:null}function Bg(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function Pg(t,e,n){for(var r,o,i=t?"previousSibling":"nextSibling";n&&n!==e;){var a=n[i];if(Hg(a)&&(a=a[i]),_c(a)||lC(a)){if(o=n,er(a,r=e)===er(o,r))return a;break}if(dC(a))break;n=n.parentNode}return null}function wc(t,e,n){var r,o=et(Pg,!0,e),i=et(Pg,!1,e),a=n.startContainer,u=n.startOffset;if(oo(a)){var c=(a=jg(a)?a:a.parentNode).getAttribute("data-mce-caret");if("before"===c&&_r(r=a.nextSibling))return bi(r);if("after"===c&&_r(r=a.previousSibling))return yi(r)}if(!n.collapsed)return n;if(it(a)){if(Hg(a)){if(1===t){if(r=i(a))return bi(r);if(r=o(a))return yi(r)}if(-1===t){if(r=o(a))return yi(r);if(r=i(a))return bi(r)}return n}if(ma(a)&&u>=a.data.length-1)return 1===t&&(r=i(a))?bi(r):n;if(da(a)&&u<=1)return-1===t&&(r=o(a))?yi(r):n;if(u===a.data.length)return(r=i(a))?bi(r):n;if(0===u)return(r=o(a))?yi(r):n}return n}function Lg(t,e){return E.from(xc(t?0:-1,e)).filter(_c)}function hi(t,e,n){var r=wc(t,e,n);return-1===t?F.fromRangeStart(r):F.fromRangeEnd(r)}function Ra(t){return E.from(t.getNode()).map(B.fromDom)}function Sc(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function Oa(t,e){var n=hn(t,e);return!(n||!It(t.getNode()))||n}F.fromRangeStart=function(t){return F(t.startContainer,t.startOffset)},F.fromRangeEnd=function(t){return F(t.endContainer,t.endOffset)},F.after=function(t){return F(t.parentNode,ig(t)+1)},F.before=function(t){return F(t.parentNode,ig(t))},F.isAbove=function(t,e){return ve(_e(e.getClientRects()),fr(t.getClientRects()),vo).getOr(!1)},F.isBelow=function(t,e){return ve(fr(e.getClientRects()),_e(t.getClientRects()),bo).getOr(!1)},F.isAtStart=function(t){return!!t&&t.isAtStart()},F.isAtEnd=function(t){return!!t&&t.isAtEnd()},F.isTextPosition=function(t){return!!t&&it(t.container())},F.isElementPosition=function(t){return!1===F.isTextPosition(t)};var Wt,Ba,tn=it,Ig=pr,Mg=Nt.nodeIndex,Fg=function(t){var e=t.parentNode;return Ig(e)?Fg(e):e},Nc=function(t){return t?Wi(t.childNodes,function(e,n){return Ig(n)&&"BR"!==n.nodeName?e=e.concat(Nc(n)):e.push(n),e},[]):[]},Pa=Tt,Ug=et(gg,he,!0),iC=Nt.DOM,aC=lt,zg=it,kr=function(t){aC(t)&&De(t)&&(am(t)?t.removeAttribute("data-mce-caret"):kg(t)),zg(t)&&(Ag(t),0===t.data.length&&kg(t))},Ec=Fe().browser,uC=Tt,sC=Ve,cC=na,vi=function(t){return uC(t)||sC(t)},_c=Tt,lC=Ve,fC=Zi("display","block table table-cell table-caption list-item"),Hg=De,Vg=oo,jg=lt,dC=fn,bi=et(Bg,!0),yi=et(Bg,!1);function qg(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function $g(t,e){if(0<t){if(_o(e.previousSibling)&&!yn(e.previousSibling))return F.before(e);if(yn(e))return F(e,0)}if(t<0){if(_o(e.nextSibling)&&!yn(e.nextSibling))return F.after(e);if(yn(e))return F(e,e.data.length)}return t<0&&!zc(e)?F.after(e):F.before(e)}function en(t){return{next:function(e){return Hc(Wt.Forwards,e,t)},prev:function(e){return Hc(Wt.Backwards,e,t)}}}function Wg(t){return F.isTextPosition(t)?0===t.offset():fn(t.getNode())}function Kg(t){if(F.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return fn(t.getNode(!0))}function Xg(t,e){return!F.isTextPosition(t)&&!F.isTextPosition(e)&&t.getNode()===e.getNode(!0)}function La(t,e,n){return Be(t,e,n).bind(function(r){return hn(n,r,e)&&(o=n,i=r,t?!Xg(o,i)&&(F.isTextPosition(a=o)||!It(a.getNode()))&&Kg(o)&&Wg(i):!Xg(i,o)&&Wg(o)&&Kg(i))?Be(t,e,r):E.some(r);var o,i,a})}function xo(t,e){var n,r,o,i,a,u=t?e.firstChild:e.lastChild;return it(u)?E.some(F(u,t?0:u.data.length)):u?fn(u)?E.some(t?F.before(u):It(a=u)?F.before(a):F.after(a)):(r=e,o=u,i=(n=t)?F.before(o):F.after(o),Be(n,r,i)):E.none()}function vn(t){return lt(t)&&t.id===hp}function Dr(t,e){for(;e&&e!==t;){if(e.id===hp)return e;e=e.parentNode}return null}function Yg(t){return U.isArray(t.start)}function Gg(t,e){return lt(e)&&t.isBlock(e)&&!e.innerHTML&&!mt.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e}function Jg(t,e,n){return!1===e.hasChildNodes()&&Dr(t,e)&&(o=n,i=(r=e).ownerDocument.createTextNode(Qt),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),1);var r,o,i}function Qg(t,e,n,r){var o,i,a,u,c=n[e?"start":"end"],s=t.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;1<=o;o--){if(u=i.childNodes,Jg(s,i,r))return 1;if(c[o]>u.length-1)return Jg(s,i,r)||function(f){return xn(i).fold(Dt,function(l){return f.setStart(l.container(),l.offset()),f.setEnd(l.container(),l.offset()),!0})}(r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return 1}function kc(t){return it(t)&&0<t.data.length}function Zg(t,e,n){var r,o,i,a,u,c,s=t.get(n.id+"_"+e),f=n.keep;if(s){if(r=s.parentNode,o="start"===e?f?s.hasChildNodes()?(r=s.firstChild,1):kc(s.nextSibling)?(r=s.nextSibling,0):kc(s.previousSibling)?(r=s.previousSibling,s.previousSibling.data.length):(r=s.parentNode,t.nodeIndex(s)+1):t.nodeIndex(s):f?s.hasChildNodes()?(r=s.firstChild,1):kc(s.previousSibling)?(r=s.previousSibling,s.previousSibling.data.length):(r=s.parentNode,t.nodeIndex(s)):t.nodeIndex(s),u=r,c=o,!f){for(a=s.previousSibling,i=s.nextSibling,U.each(U.grep(s.childNodes),function(l){it(l)&&(l.nodeValue=l.nodeValue.replace(/\uFEFF/g,""))});s=t.get(n.id+"_"+e);)t.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&it(a)&&!mt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,c=o)}return E.some(F(u,c))}return E.none()}function mC(t,e){(function(n,r){var o,i,a,u,c,s,f,l,d,m,g,p,v=n.dom;if(r){if(Yg(r))return g=r,p=(m=v).createRng(),Qg(m,!0,g,p)&&Qg(m,!1,g,p)?E.some(p):E.none();if(Lt(r.start))return E.some((f=r,l=(s=v).createRng(),d=cg(s.getRoot(),f.start),l.setStart(d.container(),d.offset()),d=cg(s.getRoot(),f.end),l.setEnd(d.container(),d.offset()),l));if(yt(r,"id"))return ve(c=Zg(a=v,"start",u=r),Zg(a,"end",u).or(c),function(h,b){var y=a.createRng();return y.setStart(Gg(a,h.container()),h.offset()),y.setEnd(Gg(a,b.container()),b.offset()),y});if(yt(r,"name"))return E.from((o=v).select((i=r).name)[i.index]).map(function(h){var b=o.createRng();return b.selectNode(h),b});if(yt(r,"rng"))return E.some(r.rng)}return E.none()})(t,e).each(function(n){t.setRng(n)})}function Oe(t){return lt(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}function wo(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)}function Dc(t){return!wo(t)&&!Si(t)}function Ia(t){return t.nodeType}function tp(t,e,n){var r,o=n.startOffset,i=n.startContainer;if((i!==n.endContainer||!(r=i.childNodes[o])||!/^(IMG)$/.test(r.nodeName))&&lt(i)){var a=i.childNodes,u=void 0;o<a.length?u=new jt(i=a[o],t.getParent(i,t.isBlock)):(u=new jt(i=a[a.length-1],t.getParent(i,t.isBlock))).next(!0);for(var c=u.current();c;c=u.next())if(it(c)&&!Vc(c))return n.setStart(c,0),e.setRng(n),0}}function Ac(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(lt(t)||!Vc(t))return t}}function Tc(t,e){return Ia(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]}function So(t,e,n){return t.schema.isValidChild(e,n)}function Rn(t,e){return Ot(t)?t=t(e):Et(e)&&(t=t.replace(/%(\w+)/g,function(n,r){return e[r]||n})),t}function Rc(t,e){return t=""+((t=t||"").nodeName||t),e=""+((e=e||"").nodeName||e),t.toLowerCase()===e.toLowerCase()}function Oc(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),""+("fontFamily"===n?e.replace(/[\'\"]/g,"").replace(/,\s+/g,","):e)}function Ma(t,e,n){return Oc(t,t.getStyle(e,n),n)}function ep(t,e){var n;return t.getParent(e,function(r){return(n=t.getStyle(r,"text-decoration"))&&"none"!==n}),n}function Fa(t,e,n){return t.getParents(e,n,t.getRoot())}function bn(t){return Xr(t,"block")}function Se(t){return Xr(t,"selector")}function Kt(t){return Xr(t,"inline")}function Bc(t){return Se(t)&&!1!==t.expand&&!Kt(t)}function np(t,e){for(var n=e;n;){if(lt(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e}function rp(t,e,n,r){for(var o=e.data,i=n;t?0<=i:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1}function pC(t,e,n){return rp(t,e,n,function(r){return Si(r)||wo(r)})}function hC(t,e,n){return rp(t,e,n,Dc)}function op(t,e,n,r,o,i){function a(s,f,l){var d=Ym(t);return E.from((o?d.backwards:d.forwards)(s,f,function(g,p){return ko(g.parentNode)?-1:l(o,u=g,p)},c))}var u,c=t.getParent(n,t.isBlock)||e;return a(n,r,pC).bind(function(s){return i?a(s.container,s.offset+(o?-1:0),hC):E.some(s)}).orThunk(function(){return u?E.some({container:u,offset:o?0:u.length}):E.none()})}function ip(t,e,n,r,o){it(r)&&ud(r.data)&&r[o]&&(r=r[o]);for(var i=vp(t,r),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var c=e[u];if((!Et(c.collapsed)||c.collapsed===n.collapsed)&&Se(c)&&t.is(i[a],c.selector))return i[a]}return r}function ap(t,e,n,r){var o,i=n,a=t.dom,u=a.getRoot(),c=e[0];if((i=bn(c)?c.wrapper?null:a.getParent(n,c.block,u):i)||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(it(n)?n.parentNode:n,function(s){return s!==u&&CC(t,s)},o)),!(i=i&&bn(c)&&c.wrapper&&vp(a,i,"ul,ol").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&!Rc(i=i[r],"br"););return i||n}function Ua(t,e,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",c=t.getRoot();if(it(n)&&!bp(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!e[0].block_expand&&t.isBlock(a))return a;for(var s=a[u];s;s=s[u]){var f=it(s)&&!yp(t,c,s,u);if(!ko(s)&&(!It(i=s)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!bp(s,f))return a}if(a===c||a.parentNode===c){n=a;break}a=a.parentNode}return n}function up(t){return ko(t.parentNode)||ko(t)}function No(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,c=t.dom,s=n[0];return lt(o)&&o.hasChildNodes()&&(o=Zn(o,i),it(o)&&(i=0)),lt(a)&&a.hasChildNodes()&&(a=Zn(a,e.collapsed?u:u-1),it(a)&&(u=a.nodeValue.length)),o=np(c,o),a=np(c,a),up(o)&&(o=ko(o)?o:o.parentNode,it(o=e.collapsed?o.previousSibling||o:o.nextSibling||o)&&(i=e.collapsed?o.length:0)),up(a)&&(a=ko(a)?a:a.parentNode,it(a=e.collapsed?a.nextSibling||a:a.previousSibling||a)&&(u=e.collapsed?0:a.length)),e.collapsed&&(op(c,t.getBody(),o,i,!0,r).each(function(f){o=f.container,i=f.offset}),op(c,t.getBody(),a,u,!1,r).each(function(f){a=f.container,u=f.offset})),(Kt(s)||s.block_expand)&&(Kt(s)&&it(o)&&0!==i||(o=Ua(c,n,o,i,!0)),Kt(s)&&it(a)&&u!==a.nodeValue.length||(a=Ua(c,n,a,u,!1))),Bc(s)&&(o=ip(c,n,e,o,"previousSibling"),a=ip(c,n,e,a,"nextSibling")),(bn(s)||Se(s))&&(o=ap(t,n,o,"previousSibling"),a=ap(t,n,a,"nextSibling"),bn(s)&&(c.isBlock(o)||(o=Ua(c,n,o,i,!0)),c.isBlock(a)||(a=Ua(c,n,a,u,!1)))),lt(o)&&(i=c.nodeIndex(o),o=o.parentNode),lt(a)&&(u=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function Ci(t,e,n){function r(p){var v=p[0];it(v)&&v===c&&u>=v.data.length&&p.splice(0,1);var h=p[p.length-1];return 0===s&&0<p.length&&h===f&&it(h)&&p.splice(p.length-1,1),p}function o(p,v,h){for(var b=[];p&&p!==h;p=p[v])b.push(p);return b}function i(p,v){return t.getParent(p,function(h){return h.parentNode===v},v)}function a(p,v,h){for(var b=h?"nextSibling":"previousSibling",y=p;y&&y!==v;y=w){var w=y.parentNode,_=o(y===p?y:y[b],b);_.length&&(h||_.reverse(),n(r(_)))}}var u=e.startOffset,c=Zn(e.startContainer,u),s=e.endOffset,f=Zn(e.endContainer,s-1);if(c===f)return n(r([c]));var l=t.findCommonAncestor(c,f);if(t.isChildOf(c,f))return a(c,l,!0);if(t.isChildOf(f,c))return a(f,l);var d=i(c,l)||c,m=i(f,l)||f;a(c,d,!0);var g=o(d===c?d:d.nextSibling,"nextSibling",m===f?m.nextSibling:m);g.length&&n(r(g)),a(f,m)}function Pc(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e}function sp(t,e){var n=be(e,"td[data-mce-selected],th[data-mce-selected]");return 0<n.length?n:bt(qo(t,function(r){var o=_a(r);return o?[B.fromDom(o)]:[]}),ca)}function Eo(t){return sp(Pc(t.selection.getSel()),B.fromDom(t.getBody()))}function xi(t,e){return oa(t,"table",e)}function Lc(t,e){return ve((o=e.startContainer,i=e.startOffset,it(o)?0===i?E.some(B.fromDom(o)):E.none():E.from(o.childNodes[i]).map(B.fromDom)),(n=e.endContainer,r=e.endOffset,it(n)?r===n.data.length?E.some(B.fromDom(n)):E.none():E.from(n.childNodes[r-1]).map(B.fromDom)),function(a,u){var c=Gt(Cp(t),et(_t,a)),s=Gt(jc(t),et(_t,u));return c.isSome()&&s.isSome()}).getOr(!1);var n,r,o,i}function Ic(t,e,n,r){var o=n,i=new jt(n,o),a=Wo(t.schema.getMoveCaretBeforeOnEnterElements(),function(u,c){return!Yt(["td","th","table"],c.toLowerCase())});do{if(it(n)&&0!==U.trim(n.nodeValue).length)return r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length),0;if(a[n.nodeName])return r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n),0}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))}function za(t){var e=t.selection.getSel();return e&&0<e.rangeCount}function Mc(t,e){var n=Eo(t);0<n.length?nt(n,function(r){var o=r.dom,i=t.dom.createRng();i.setStartBefore(o),i.setEndAfter(o),e(i,!0)}):e(t.selection.getRng(),!1)}function Fc(t,e,n){var r=hg(t,e);n(r),t.moveToBookmark(r)}function Uc(t){return xC.get(t)}function cp(t,e,n,r){var o=e.uid,i=void 0===o?qm("mce-annotation"):o,a=function(m,g){var p={};for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&g.indexOf(h)<0&&(p[h]=m[h]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols)for(var v=0,h=Object.getOwnPropertySymbols(m);v<h.length;v++)g.indexOf(h[v])<0&&Object.prototype.propertyIsEnumerable.call(m,h[v])&&(p[h[v]]=m[h[v]]);return p}(e,["uid"]),u=B.fromTag("span",t);Ea(u,hc()),cn(u,""+ka(),i),cn(u,""+li(),n);var c,s=r(i,a),f=s.attributes,l=s.classes,d=void 0===l?[]:l;return Hn(u,void 0===f?{}:f),c=u,nt(d,function(m){Ea(c,m)}),u}function lp(t){var e,n,r,o=(e={},{register:function(a,u){e[a]={name:a,settings:u}},lookup:function(a){return zt(e,a).map(function(u){return u.settings})}});r=o,(n=t).on("init",function(){n.serializer.addNodeFilter("span",function(a){nt(a,function(u){E.from(u.attr(li())).bind(r.lookup).each(function(c){!1===c.persistent&&u.unwrap()})})})});var i=function Y1(t){function e(){return{listeners:[],previous:po()}}function n(a,u){r(a,function(c){return u(c),c})}function r(a,u){var c=o.get(),s=u(zt(c,a).getOrThunk(e));c[a]=s,o.set(c)}var o=se({}),i=Hm(function(){var a=o.get();nt(is(Gr(a)),function(u){r(u,function(c){var s=c.previous.get();return jm(t,E.some(u)).fold(function(){var f;s.isSome()&&(n(f=u,function(l){nt(l.listeners,function(d){return d(!1,f)})}),c.previous.clear())},function(f){var l,d,m,g=f.uid,p=f.name,v=f.elements;ta(s,g)||(d=g,m=v,n(l=p,function(h){nt(h.listeners,function(b){return b(!0,l,{uid:d,nodes:At(m,function(y){return y.dom})})})}),c.previous.set(g))}),{previous:c.previous,listeners:c.listeners}})})},30);return t.on("remove",function(){i.cancel()}),t.on("NodeChange",function(){i.throttle()}),{addListener:function(a,u){r(a,function(c){return{previous:c.previous,listeners:c.listeners.concat([u])}})}}}(t);return{register:function(a,u){o.register(a,u)},annotate:function(a,u){o.lookup(a).each(function(c){var s,f,l,d;f=a,l=c,d=u,(s=t).undoManager.transact(function(){var m,g,p,v,h=s.selection,b=h.getRng(),y=0<Eo(s).length;b.collapsed&&!y&&(p=No(m=s,g=b,[{inline:"span"}]),g.setStart(p.startContainer,p.startOffset),g.setEnd(p.endContainer,p.endOffset),m.selection.setRng(g)),h.getRng().collapsed&&!y?($m(v=cp(s.getDoc(),d,f,l.decorate),xe),h.getRng().insertNode(v.dom),h.select(v.dom)):Fc(h,!1,function(){Mc(s,function(w){!function vC(t,e,n,r,o){function i(){s.clear()}function a(l){nt(l,f)}var u=[],c=cp(t.getDoc(),o,n,r),s=po(),f=function(l){var d,m,g,p,v,h;switch(g=t,v="span",h=Ht(p=l),Xe(p).fold(function(){return"skipping"},function(b){return"br"===h||ze(w=p)&&Uc(w)===Qt?"valid":Ge(y=p)&&Vm(y,hc())?"existing":vn(p.dom)?"caret":So(g,v,h)&&So(g,Ht(b),v)?"valid":"invalid-child";var y,w})){case"invalid-child":i(),a(He(l)),i();break;case"valid":Ye(d=l,m=s.get().getOrThunk(function(){var b=ho(c);return u.push(b),s.set(b),b})),ee(m,d)}};Ci(t.dom,e,function(l){i(),a(At(l,B.fromDom))})}(s,w,f,l.decorate,d)})})})})},annotationChanged:function(a,u){i.addListener(a,u)},remove:function(a){jm(t,E.some(a)).each(function(u){nt(u.elements,Pd)})},getAll:function(a){var u,c,s;return nd((u=a,c=be(B.fromDom(t.getBody()),"["+li()+'="'+u+'"]'),s={},nt(c,function(f){var l=to(f,ka()),d=zt(s,l).getOr([]);s[l]=d.concat([f])}),s),function(f){return At(f,function(l){return l.dom})})}}}function wi(t){return{getBookmark:et(yC,t),moveToBookmark:et(mC,t)}}function fp(t){return ym(t)||!!qs(e=t)&&!0!==Ke(un(e.getElementsByTagName("*")),function(n,r){return n||bm(r)},!1);var e}(Ba=Wt=Wt||{})[Ba.Backwards=-1]="Backwards",Ba[Ba.Forwards=1]="Forwards";var dp,Ha,mp,bC=Tt,yn=it,gp=lt,zc=It,_o=fn,Va=aa,Hc=function(t,e,n){var r,o,i;if(!gp(n)||!e)return null;if(e.isEqual(F.after(n))&&n.lastChild){if(i=F.after(n.lastChild),t<0&&_o(n.lastChild)&&gp(n.lastChild))return zc(n.lastChild)?F.before(n.lastChild):i}else i=e;var a,u,c,s=i.container(),f=i.offset();if(yn(s)){if(t<0&&0<f)return F(s,--f);if(0<t&&f<s.length)return F(s,++f);r=s}else{if(t<0&&0<f&&(l=qg(s,f-1),_o(l)))return!fp(l)&&(o=Co(l,t,Va,l))?yn(o)?F(o,o.data.length):F.after(o):yn(l)?F(l,l.data.length):F.before(l);if(0<t&&f<s.childNodes.length&&(l=qg(s,f),_o(l)))return zc(l)?(a=n,(c=(u=l).nextSibling)&&_o(c)?yn(c)?F(c,0):F.before(c):Hc(Wt.Forwards,F.after(u),a)):!fp(l)&&(o=Co(l,t,Va,l))?yn(o)?F(o,0):F.before(o):yn(l)?F(l,0):F.after(l);r=l||i.getNode()}if((0<t&&i.isAtEnd()||t<0&&i.isAtStart())&&(r=Co(r,t,Ut,n,!0),Va(r,n)))return $g(t,r);var l=Co(r,t,Va,n),d=dr(bt(function(m,g){for(var p=[];m&&m!==g;)p.push(m),m=m.parentNode;return p}(s,n),bC));return!d||l&&d.contains(l)?l?$g(t,l):null:0<t?F.after(d):F.before(d)},Be=function(t,e,n){var r=en(e);return E.from(t?r.next(n):r.prev(n))},pp=function(t,e,n,r){return La(t,e,n).bind(function(o){return r(o)?pp(t,e,o,r):E.some(o)})},nn=et(Be,!0),Cn=et(Be,!1),ge=et(xo,!0),xn=et(xo,!1),hp="_mce_caret",yC=function(t,e,n){return 2===e?gg(Ae,n,t):3===e?(o=(r=t).getRng(),{start:sg(r.dom.getRoot(),F.fromRangeStart(o)),end:sg(r.dom.getRoot(),F.fromRangeEnd(o))}):e?{rng:t.getRng()}:hg(t,!1);var r,o},Si=(dp=xe,function(t){return dp===t}),Vc=function(t,e){return void 0===e&&(e=!1),!(!Et(t)||!it(t))&&br(e?t.data.replace(/ /g,"\xa0"):t.data)},ko=Oe,vp=Fa,bp=Vc,CC=Tc,yp=function(t,e,n,r){var o=n.parentNode;return!Et(n[r])&&(!(o!==e&&!on(o)&&!t.isBlock(o))||yp(t,e,o,r))},Cp=function(t){return Td(t).fold(ot([t]),function(e){return[t].concat(Cp(e))})},jc=function(t){return bs(t).fold(ot([t]),function(e){return"br"===Ht(e)?gr(e).map(function(n){return[t].concat(jc(n))}).getOr([]):[t].concat(jc(e))})},xC=(Ha=ze,{get:function(t){if(!Ha(t))throw new Error("Can only get text value of a text node");return mp(t).getOr("")},getOption:mp=function(t){return Ha(t)?E.from(t.dom.nodeValue):E.none()},set:function(t,e){if(!Ha(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=e}});function Do(t,e){for(;e&&e!==t;){if(ln(e)||Tt(e))return e;e=e.parentNode}return null}function qc(t,e,n){if(!n.collapsed){if(mt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(lt(r))return de(r.getClientRects(),function(o){return Qm(o,t,e)})}return de(n.getClientRects(),function(o){return Qm(o,t,e)})}}function xp(t,e,n){return t.fire(e,n)}function wp(t,e,n,r){return t.fire("FormatApply",{format:e,node:n,vars:r})}function $c(t,e,n,r){return t.fire("FormatRemove",{format:e,node:n,vars:r})}function Sp(t,e){function n(z){return z&&("IMG"===z.nodeName||e.dom.is(z,"figure.image"))}function r(z){return Ve(z)||k.hasClass(z,"mce-preview-object")}function o(z){var Q=z.target;!function($,rt){if("longpress"!==$.type&&0!==$.type.indexOf("touch"))return n($.target)&&!qc($.clientX,$.clientY,rt);var tt=$.touches[0];return n($.target)&&!qc(tt.clientX,tt.clientY,rt)}(z,e.selection.getRng())||z.isDefaultPrevented()||e.selection.select(Q)}function i(z){return k.is(z,"figure.image")?[z.querySelector("img")]:k.hasClass(z,"mce-preview-object")&&Et(z.firstElementChild)?[z,z.firstElementChild]:[z]}function a(z){var Q=Eg(e);return!!Q&&"false"!==z.getAttribute("data-mce-resize")&&z!==e.getBody()&&(k.hasClass(z,"mce-preview-object")?Jr(B.fromDom(z.firstElementChild),Q):Jr(B.fromDom(z),Q))}function u(z,Q,$){Et($)&&nt(i(z),function(rt){rt.style[Q]||!e.schema.isValid(rt.nodeName.toLowerCase(),Q)?k.setStyle(rt,Q,$):k.setAttrib(rt,Q,""+$)})}function c(z,Q,$){u(z,"width",Q),u(z,"height",$)}function s(z){var Q,$,A=z.screenX-b,M=z.screenY-y;S=(S=A*v[2]+w)<5?5:S,R=(R=M*v[3]+_)<5?5:R,((n(m)||r(m))&&!1!==e.getParam("resize_img_proportional",!0,"boolean")?!ut.modifierPressed(z):ut.modifierPressed(z))&&(q(A)>q(M)?(R=X(S*C),S=X(R/C)):(S=X(R/C),R=X(S*C))),c(g,S,R),k.setStyles(p,{left:Q=0<(Q=v.startPos.x+A)?Q:0,top:$=0<($=v.startPos.y+M)?$:0,display:"block"}),p.innerHTML=S+" &times; "+R,v[2]<0&&g.clientWidth<=S&&k.setStyle(g,"left",void 0+(w-S)),v[3]<0&&g.clientHeight<=R&&k.setStyle(g,"top",void 0+(_-R)),(A=j.scrollWidth-O)+(M=j.scrollHeight-I)!=0&&k.setStyles(p,{left:Q-A,top:$-M}),x||(e.fire("ObjectResizeStart",{target:m,width:w,height:_,origin:"corner-"+v.name}),x=!0)}function f(z){function Q(rt,tt){if(rt)do{if(rt===tt)return 1}while(rt=rt.parentNode)}var $;x||e.removed||(D(k.select("img[data-mce-selected],hr[data-mce-selected]"),function(rt){rt.removeAttribute(L)}),$="mousedown"===z.type?z.target:t.getNode(),Q($=k.$($).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],j)&&(d(),Q(t.getStart(!0),$)&&Q(t.getEnd(!0),$))?G($):K())}function l(z){return SC(Do(e.getBody(),z))}function d(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}}var m,g,p,v,h,b,y,w,_,C,x,S,R,O,I,L="data-mce-selected",k=e.dom,D=U.each,T=e.getDoc(),P=document,q=Math.abs,X=Math.round,j=e.getBody(),Y={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},W=function(){var tt=x;x=!1,tt&&(u(m,"width",S),u(m,"height",R)),k.unbind(T,"mousemove",s),k.unbind(T,"mouseup",W),P!==T&&(k.unbind(P,"mousemove",s),k.unbind(P,"mouseup",W)),k.remove(g),k.remove(p),k.remove(h),G(m),tt&&(e.fire("ObjectResized",{target:m,width:S,height:R,origin:"corner-"+v.name}),k.setAttrib(m,"style",k.getAttrib(m,"style"))),e.nodeChanged()},G=function(z){Z();var Q=k.getPos(z,j),$=Q.x,rt=Q.y,tt=z.getBoundingClientRect(),pt=tt.width||tt.right-tt.left,N=tt.height||tt.bottom-tt.top;m!==z&&(K(),m=z,S=R=0);var A=e.fire("ObjectSelected",{target:z}),M=k.getAttrib(m,L,"1");a(z)&&!A.isDefaultPrevented()?D(Y,function(V,H){var J=k.get("mceResizeHandle"+H);J&&k.remove(J),J=k.add(j,"div",{id:"mceResizeHandle"+H,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+H+"-resize; margin:0; padding:0"}),11===mt.ie&&(J.contentEditable=!1),k.bind(J,"mousedown",function(at){var ct,St,dt;at.stopImmediatePropagation(),at.preventDefault(),ct=at,dt=i(m)[0],b=ct.screenX,y=ct.screenY,C=(_=dt.clientHeight)/(w=dt.clientWidth),(v=V).name=H,v.startPos={x:pt*V[0]+$,y:N*V[1]+rt},O=j.scrollWidth,I=j.scrollHeight,h=k.add(j,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),k.setStyles(h,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=r(St=m)?k.create("img",{src:mt.transparentSrc}):St.cloneNode(!0),k.addClass(g,"mce-clonedresizable"),k.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",k.setStyles(g,{left:$,top:rt,margin:0}),c(g,pt,N),g.removeAttribute(L),j.appendChild(g),k.bind(T,"mousemove",s),k.bind(T,"mouseup",W),P!==T&&(k.bind(P,"mousemove",s),k.bind(P,"mouseup",W)),p=k.add(j,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},w+" &times; "+_)}),V.elm=J,k.setStyles(J,{left:pt*V[0]+$-J.offsetWidth/2,top:N*V[1]+rt-J.offsetHeight/2})}):K(),k.getAttrib(m,L)||m.setAttribute(L,M)},K=function(){Z(),m&&m.removeAttribute(L),Bt(Y,function(z,Q){var $=k.get("mceResizeHandle"+Q);$&&(k.unbind($),k.remove($))})},Z=function(){Bt(Y,function(z){z.elm&&(k.unbind(z.elm),delete z.elm)})};return e.on("init",function(){var z;d(),(mt.browser.isIE()||mt.browser.isEdge())&&(e.on("mousedown click",function($){var rt=$.target,tt=rt.nodeName;x||!/^(TABLE|IMG|HR)$/.test(tt)||l(rt)||(2!==$.button&&e.selection.select(rt,"TABLE"===tt),"mousedown"===$.type&&e.nodeChanged())}),k.bind(j,"mscontrolselect",z=function($){function rt(tt){re.setEditorTimeout(e,function(){return e.selection.select(tt)})}if(l($.target)||Ve($.target))return $.preventDefault(),void rt($.target);/^(TABLE|IMG|HR)$/.test($.target.nodeName)&&($.preventDefault(),"IMG"===$.target.tagName&&rt($.target))}),e.on("remove",function(){return k.unbind(j,"mscontrolselect",z)}));var Q=re.throttle(function($){e.composing||f($)});e.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Q),e.on("keyup compositionend",function($){m&&"TABLE"===m.nodeName&&Q($)}),e.on("hide blur",K),e.on("contextmenu longpress",o,!0)}),e.on("remove",Z),{isResizable:a,showResizeRect:G,hideResizeRect:K,updateResizeRect:f,destroy:function(){m=g=h=null}}}function wC(t){return ln(t)||Tt(t)}function Wc(t,e,n){var r,o,i,a,u,c=n;if(c.caretPositionFromPoint)(o=c.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(c.caretRangeFromPoint)r=c.caretRangeFromPoint(t,e);else if(c.body.createTextRange){r=c.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch{r=function(f,l,d){var m,g=d.elementFromPoint(f,l),p=d.body.createTextRange();if(g&&"HTML"!==g.tagName||(g=d.body),p.moveToElementText(g),0<(m=(m=U.toArray(p.getClientRects())).sort(function(v,h){return(v=Math.abs(Math.max(v.top-l,v.bottom-l)))-Math.abs(Math.max(h.top-l,h.bottom-l))})).length){l=(m[0].bottom+m[0].top)/2;try{return p.moveToPoint(f,l),p.collapse(!0),p}catch{}}return null}(t,e,n)}return a=n.body,u=(i=r)&&i.parentElement?i.parentElement():null,Tt(function(s,f,l){for(;s&&s!==f;){if(l(s))return s;s=s.parentNode}return null}(u,a,wC))?null:i}return r}function Kc(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}function Np(t,e,n){return null!==function(r,o,i){for(;r&&r!==o;){if(i(r))return r;r=r.parentNode}return null}(t,e,n)}function Xc(t){return t&&"TABLE"===t.nodeName}function Ep(t,e,n){for(var r=new jt(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(It(e))return 1}function Yc(t,e,n,r,o){var i,a,u=t.getRoot(),c=t.schema.getNonEmptyElements(),s=t.getParent(o.parentNode,t.isBlock)||u;if(r&&It(o)&&e&&t.isEmpty(s))return E.some(F(o.parentNode,t.nodeIndex(o)));for(var f,l,d=new jt(o,s);a=d[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||(l=u,De(f=a)&&!1===Np(f,l,vn)))return E.none();if(it(a)&&0<a.nodeValue.length)return!1===Np(a,u,function(m){return"A"===m.nodeName})?E.some(F(a,r?a.nodeValue.length:0)):E.none();if(t.isBlock(a)||c[a.nodeName.toLowerCase()])return E.none();i=a}return n&&i?E.some(F(i,0)):E.none()}function _p(t,e,n,r){var o,i=t.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],c=r[(n?"start":"end")+"Offset"],s=lt(u)&&c===u.childNodes.length,f=t.schema.getNonEmptyElements(),l=n;if(De(u))return E.none();if(lt(u)&&c>u.childNodes.length-1&&(l=!1),Es(u)&&(u=i,c=0),u===i){if(l&&(d=u.childNodes[0<c?c-1:0])&&(De(d)||f[d.nodeName]||Xc(d)))return E.none();if(u.hasChildNodes()){if(c=Math.min(!l&&0<c?c-1:c,u.childNodes.length-1),c=it(u=u.childNodes[c])&&s?u.data.length:0,!e&&u===i.lastChild&&Xc(u)||function(g,p){for(;p&&p!==g;){if(Tt(p))return 1;p=p.parentNode}}(i,u)||De(u))return E.none();if(u.hasChildNodes()&&!1===Xc(u)){var d=u,m=new jt(u,i);do{if(Tt(d)||De(d)){a=!1;break}if(it(d)&&0<d.nodeValue.length){c=l?0:d.nodeValue.length,u=d,a=!0;break}if(f[d.nodeName.toLowerCase()]&&(!(o=d)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){c=t.nodeIndex(d),u=d.parentNode,l||c++,a=!0;break}}while(d=l?m.next():m.prev())}}}return e&&(it(u)&&0===c&&Yc(t,s,e,!0,u).each(function(g){u=g.container(),c=g.offset(),a=!0}),lt(u)&&(!(d=(d=u.childNodes[c])||u.childNodes[c-1])||!It(d)||d.previousSibling&&"A"===d.previousSibling.nodeName||Ep(t,d,!1)||Ep(t,d,!0)||Yc(t,s,e,!0,d).each(function(g){u=g.container(),c=g.offset(),a=!0}))),l&&!e&&it(u)&&c===u.nodeValue.length&&Yc(t,s,e,!1,u).each(function(g){u=g.container(),c=g.offset(),a=!0}),a?E.some(F(u,c)):E.none()}function ja(t,e){var n=e.collapsed,r=e.cloneRange(),o=F.fromRangeStart(e);return _p(t,n,!0,r).each(function(i){n&&F.isAbove(o,i)||r.setStart(i.container(),i.offset())}),n||_p(t,n,!1,r).each(function(i){r.setEnd(i.container(),i.offset())}),n&&r.collapse(!0),Kc(e,r)?E.none():E.some(r)}function qa(t,e){return t.splitText(e)}function $a(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&it(e)?0<n&&n<e.nodeValue.length&&(e=(r=qa(e,n)).previousSibling,n<o?(e=r=qa(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(it(e)&&0<n&&n<e.nodeValue.length&&(e=qa(e,n),n=0),it(r)&&0<o&&o<r.nodeValue.length&&(o=(r=qa(r,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}}function Ni(t){return{walk:function(e,n){return Ci(t,e,n)},split:$a,normalize:function(e){return ja(t,e).fold(Dt,function(n){return e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),!0})}}}wi.isBookmarkNode=Oe;var ut={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||ut.metaKeyPressed(t)},metaKeyPressed:function(t){return mt.mac?t.metaKey:t.ctrlKey&&!t.altKey}},SC=Tt;Ni.compareRanges=Kc,Ni.getCaretRangeFromPoint=Wc,Ni.getSelectedNode=_a,Ni.getNode=Zn;var Wa,kp,NC=(Wa="height",kp=function(t){var e=t.dom;return Zo(t)?e.getBoundingClientRect().height:e.offsetHeight},{set:function(t,e){if(!Kr(e)&&!e.match(/^[0-9]+$/))throw new Error(Wa+".set accepts only positive integer values. Value was "+e);var n=t.dom;ea(n)&&(n.style[Wa]=e+"px")},get:Dp,getOuter:Dp,aggregate:Ap,max:function(t,e,n){var r=Ap(t,n);return r<e?e-r:0}});function Dp(t){var e=kp(t);if(e<=0||null===e){var n=Dn(t,Wa);return parseFloat(n)||0}return e}function Ap(t,e){return Ke(e,function(n,r){var o=Dn(t,r),i=void 0===o?0:parseInt(o,10);return isNaN(i)?n:n+i},0)}function Gc(t){return"textarea"===Ht(t)}function Tp(t,e){var n=function(o){var i=o.dom.ownerDocument,a=i.body,u=i.defaultView,c=i.documentElement;if(a===o.dom)return eo(a.offsetLeft,a.offsetTop);var s=Ji(u?.pageYOffset,c.scrollTop),f=Ji(u?.pageXOffset,c.scrollLeft),l=Ji(c.clientTop,a.clientTop),d=Ji(c.clientLeft,a.clientLeft);return Ss(o).translate(f-d,s-l)}(t),r=NC.get(t);return{element:t,bottom:n.top+r,height:r,pos:n,cleanup:e}}function Rp(t,e,n,r){IC(t,function(o,i){return LC(t,e,n,r)},n)}function Op(t,e,n,r,o){var i={elm:r.element.dom,alignToTop:o};t.fire("ScrollIntoView",i).isDefaultPrevented()||(n(e,xs(e).top,r,o),t.fire("AfterScrollIntoView",i))}function Bp(t,e,n,r){var o=B.fromDom(t.getDoc());Op(t,o,n,Tp(B.fromDom(e),vt),r)}function Jc(t,e,n,r){var i=t.pos;Ld(i.left,n?i.top:i.top-e+t.height,r)}function Pp(t,e,n,r,o){var i=n+e,a=r.pos.top,u=r.bottom,c=n<=u-a;a<e?Jc(r,n,!1!==o,t):i<a?Jc(r,n,c?!1!==o:!0===o,t):i<u&&!c&&Jc(r,n,!0===o,t)}function Lp(t,e,n,r){Pp(t,e,t.dom.defaultView.innerHeight,n,r)}function Ip(t,e,n,r){Pp(t,e,t.dom.defaultView.innerHeight,n,r);var o,i,a,u,c,s,f,l=(o=n.element,u=xs(B.fromDom(document)),a=(i=PC).owner(o),c=Xp(i,a),s=Ss(o),f=Qf(c,function(m,g){var p=Ss(g);return{left:m.left+p.left,top:m.top+p.top}},{left:0,top:0}),eo(f.left+s.left+u.left,f.top+s.top+u.top)),d=Fd(window);l.top<d.y?Id(n.element,!1!==r):l.top>d.bottom&&Id(n.element,!0===r)}function EC(t,e,n){return Rp(t,Lp,e,n)}function _C(t,e,n){return Bp(t,e,Lp,n)}function kC(t,e,n){return Rp(t,Ip,e,n)}function DC(t,e,n){return Bp(t,e,Ip,n)}function Ei(t,e,n){(t.inline?EC:kC)(t,e,n)}function Mp(t){var e=hr(t).dom;return t.dom===e.activeElement}function Qc(t){return void 0===t&&(t=B.fromDom(document)),E.from(t.dom.activeElement).map(B.fromDom)}function Fp(t,e){var n=ze(e)?Uc(e).length:He(e).length+1;return n<t?n:t<0?0:t}function AC(t){return Yp.range(t.start,Fp(t.soffset,t.start),t.finish,Fp(t.foffset,t.finish))}function Up(t,e){return!Qi(e.dom)&&(zn(t,e)||_t(t,e))}function Zc(t){return function(e){return Up(t,e.start)&&Up(t,e.finish)}}function zp(t){return!0===t.inline||FC.isIE()}function Hp(t){return Yp.range(B.fromDom(t.startContainer),t.startOffset,B.fromDom(t.endContainer),t.endOffset)}function TC(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),E.some(e)}catch{return E.none()}}function Ka(t){var e,n,r=zp(t)?((n=kd(e=B.fromDom(t.getBody())).dom.getSelection())&&0!==n.rangeCount?E.from(n.getRangeAt(0)):E.none()).map(Hp).filter(Zc(e)):E.none();t.bookmark=r.isSome()?r:t.bookmark}function tl(t){return(t.bookmark||E.none()).bind(function(e){return n=B.fromDom(t.getBody()),E.from(e).filter(Zc(n)).map(AC);var n}).bind(TC)}function Xa(t,e){var n=t.getParam("custom_ui_selector","","string");return null!==ol.getParent(e,function(r){return Gp.isEditorUIElement(r)||!!n&&t.dom.is(r,n)})}function OC(t,e){var n=e.editor;(function RC(t){var e=fc(function(){Ka(t)},0);t.on("init",function(){function n(){o.throttle()}var r,o,i,a,u,c;t.inline&&(r=t,o=e,Nt.DOM.bind(document,"mouseup",n),r.on("remove",function(){Nt.DOM.unbind(document,"mouseup",n)})),i=t,a=e,Fe().browser.isIE()?(c=i).on("focusout",function(){Ka(c)}):(u=a,i.on("mouseup touchend",function(s){u.throttle()})),i.on("keyup NodeChange",function(s){"nodechange"===s.type&&s.selectionChange||Ka(i)})}),t.on("remove",function(){e.cancel()})})(n),n.on("focusin",function(){var r=t.focusedEditor;r!==n&&(r&&r.fire("blur",{focusedEditor:n}),t.setActive(n),(t.focusedEditor=n).fire("focus",{blurredEditor:r}),n.focus(!0))}),n.on("focusout",function(){re.setEditorTimeout(n,function(){var r=t.focusedEditor;Xa(n,function(o){try{return Qc(hr(B.fromDom(o.getElement()))).fold(function(){return document.body},function(i){return i.dom})}catch{return document.body}}(n))||r!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),_i||(_i=function(r){var o=t.activeEditor;o&&function(i){if(Yy()&&Et(i.target)){var a=B.fromDom(i.target);if(Ge(a)&&Et(a.dom.shadowRoot)&&i.composed&&i.composedPath){var u=i.composedPath();if(u)return _e(u)}}return E.from(i.target)}(r).each(function(i){i.ownerDocument===document&&(i===document.body||Xa(o,i)||t.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},ol.bind(document,"focusin",_i))}function BC(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(ol.unbind(document,"focusin",_i),_i=null)}function Vp(t,e){var n,r;n=B.fromDom(t.getBody()),((r=e).collapsed?E.from(Zn(r.startContainer,r.startOffset)).map(B.fromDom):E.none()).bind(function(o){return r1(o)?E.some(o):!1===zn(n,o)?E.some(n):E.none()}).bind(function(o){return ge(o.dom)}).fold(function(){t.selection.normalize()},function(o){return t.selection.setRng(o.toRange())})}function el(t){if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()}function Ar(t){return t.inline?(r=t.getBody())&&(Mp(e=B.fromDom(r))||Qc(hr(n=e)).filter(function(o){return n.dom.contains(o.dom)}).isSome()):t.iframeElement&&Mp(B.fromDom(t.iframeElement));var e,n,r}function jp(t,e,n,r,o){var a=n?e.startOffset:e.endOffset;return E.from(n?e.startContainer:e.endContainer).map(B.fromDom).map(function(u){return r&&e.collapsed?u:Yi(u,o(u,a)).getOr(u)}).bind(function(u){return Ge(u)?E.some(u):Xe(u).filter(Ge)}).map(function(u){return u.dom}).getOr(t)}function qp(t,e,n){return jp(t,e,!0,n,function(r,o){return Math.min(Rd(r),o)})}function $p(t,e,n){return jp(t,e,!1,n,function(r,o){return 0<o?o-1:o})}function Wp(t,e){for(var n=t;t&&it(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}function nl(t,e){return At(e,function(n){var r=t.fire("GetSelectionRange",{range:n});return r.range!==n?r.range:n})}function Ya(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o])return i}}function Kp(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e}var _i,Xp=function(t,e){return t.view(e).fold(ot([]),function(n){var r=t.owner(n),o=Xp(t,r);return[n].concat(o)})},PC=Object.freeze({__proto__:null,view:function(t){var e;return(t.dom===document?E.none():E.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)).map(B.fromDom)},owner:Qr}),LC=function(t,e,n,r){B.fromDom(t.getBody());var c,s,i=B.fromDom(t.getDoc()),f=(c=function(l,d){var m=He(l);if(0===m.length||Gc(l))return{element:l,offset:d};if(d<m.length&&!Gc(m[d]))return{element:m[d],offset:0};var g=m[m.length-1];return Gc(g)?{element:l,offset:d}:"img"===Ht(g)?{element:g,offset:1}:ze(g)?{element:g,offset:Uc(g).length}:{element:g,offset:He(g).length}}(B.fromDom(n.startContainer),n.startOffset),s=B.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),Ye(c.element,s),Tp(s,function(){return Vt(s)}));Op(t,i,e,f,r),f.cleanup()},IC=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(B.fromDom(r),B.fromDom(i));var u=t.dom.createRng();u.setStart(r,o),u.setEnd(i,a),t.selection.setRng(n)},MC=(Vn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(he,he,he)}),Ga=Vn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Yp={domRange:Ga.domRange,relative:Ga.relative,exact:Ga.exact,exactFromRange:function(t){return Ga.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){return kd(t.match({domRange:function(e){return B.fromDom(e.startContainer)},relative:function(e,n){return MC(e)},exact:function(e,n,r,o){return e}}))},range:function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}},FC=Fe().browser,Gp={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},ol=Nt.DOM,il=function(t){return t.editorManager.setActive(t)},UC={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},qe=(ce.create=function(t,e){var n=new ce(t,UC[t]||1);return e&&Bt(e,function(r,o){n.attr(o,r)}),n},ce.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},ce.prototype.attr=function(t,e){var n,r=this;if("string"!=typeof t)return null!=t&&Bt(t,function(i,a){r.attr(a,i)}),r;if(n=r.attributes){if(void 0===e)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var o=n.length;o--;)if(n[o].name===t)return n.splice(o,1),r}return r}if(t in n.map){for(o=n.length;o--;)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}},ce.prototype.clone=function(){var t,e=new ce(this.name,this.type);if(t=this.attributes){var n=[];n.map={};for(var r=0,o=t.length;r<o;r++){var i=t[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}e.attributes=n}return e.value=this.value,e.shortEnded=this.shortEnded,e},ce.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},ce.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},ce.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e)&&(e.prev=null):n.next=e,t.lastChild===this?(t.lastChild=n)&&(n.next=null):e.prev=n,this.parent=this.next=this.prev=null),this},ce.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?((e.next=t).prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},ce.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=r,t},ce.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Ya(n,this))n.name===t&&e.push(n);return e},ce.prototype.children=function(){for(var t=[],e=this.firstChild;e;e=e.next)t.push(e);return t},ce.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Ya(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},ce.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(Kp(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name]||Kp(r))return!1}if(8===r.type||3===r.type&&!function(o){if(br(o.value)){var i=o.parent;return!i||"span"===i.name&&!i.attr("style")||!/^[ ]+$/.test(o.value)}}(r)||3===r.type&&r.parent&&e[r.parent.name]&&br(r.value)||n&&n(r))return!1}while(r=Ya(r,this));return!0},ce.prototype.walk=function(t){return Ya(this,null,t)},ce);function ce(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}function Jp(t){return Lt(t.nodeValue)&&ue(t.nodeValue,Qt)}function Qp(t){return(0===t.length?"":At(t,function(e){return"["+e+"]"}).join(",")+",")+'[data-mce-bogus="all"]'}function Zp(t,e,n){return document.createTreeWalker(t,e,n,!1)}function th(t){return Zp(t,NodeFilter.SHOW_COMMENT,function(e){return Jp(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})}function eh(t){return Zp(t,NodeFilter.SHOW_TEXT,function(e){if(Jp(e)){var n=e.parentNode;return n&&yt(qC,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})}function zC(t){return null!==th(t).nextNode()}function HC(t){return null!==eh(t).nextNode()}function VC(t,e){return null!==e.querySelector(Qp(t))}function jC(t,e){nt(e.querySelectorAll(Qp(t)),function(n){var r=B.fromDom(n);"all"===to(r,"data-mce-bogus")?Vt(r):nt(t,function(o){jd(r,o)&&kn(r,o)})})}function nh(t){for(var e=t.nextNode();null!==e;)e.nodeValue=null,e=t.nextNode()}function rh(t,e){var n=[{condition:et(VC,e),action:et(jC,e)},{condition:zC,action:$C},{condition:HC,action:WC}],r=t,o=!1;return nt(n,function(i){var u=i.action;(0,i.condition)(r)&&(o||(r=t.cloneNode(!0),o=!0),u(r))}),r}function oh(t){return{compare:function(e,n){return e.nodeName===n.nodeName&&!(!o(r(e),r(n))||!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||Oe(e)||Oe(n));function r(i){var a={};return KC(t.getAttribs(i),function(u){var c=u.nodeName.toLowerCase();0!==c.indexOf("_")&&"style"!==c&&0!==c.indexOf("data-")&&(a[c]=t.getAttrib(i,c))}),a}function o(i,a){var u,c;for(c in i)if(yt(i,c)){if(void 0===(u=a[c])||i[c]!==u)return;delete a[c]}for(c in a)if(yt(a,c))return;return 1}}}}function ih(t){var e=[],n=(t=t||{}).indent,r=ah(t.indent_before||""),o=ah(t.indent_after||""),i=$n.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(u,c,s){var f,l,d,m;if(n&&r[u]&&0<e.length&&0<(m=e[e.length-1]).length&&"\n"!==m&&e.push("\n"),e.push("<",u),c)for(f=0,l=c.length;f<l;f++)e.push(" ",(d=c[f]).name,'="',i(d.value,!0),'"');e[e.length]=!s||a?">":" />",s&&n&&o[u]&&0<e.length&&0<(m=e[e.length-1]).length&&"\n"!==m&&e.push("\n")},end:function(u){var c;e.push("</",u,">"),n&&o[u]&&0<e.length&&0<(c=e[e.length-1]).length&&"\n"!==c&&e.push("\n")},text:function(u,c){0<u.length&&(e[e.length]=c?u:i(u))},cdata:function(u){e.push("<![CDATA[",u,"]]>")},comment:function(u){e.push("\x3c!--",u,"--\x3e")},pi:function(u,c){c?e.push("<?",u," ",i(c),"?>"):e.push("<?",u,"?>"),n&&e.push("\n")},doctype:function(u){e.push("<!DOCTYPE",u,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}}function Ao(t,e){void 0===e&&(e=qn());var n=ih(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(r){var o=t.validate,i={3:function(u){n.text(u.value,u.raw)},8:function(u){n.comment(u.value)},7:function(u){n.pi(u.name,u.value)},10:function(u){n.doctype(u.value)},4:function(u){n.cdata(u.value)},11:function(u){if(u=u.firstChild)for(;a(u),u=u.next;);}};n.reset();var a=function(u){var c=i[u.type];if(c)c(u);else{var s=u.name,f=u.shortEnded,l=u.attributes;if(o&&l&&1<l.length){var d=[];d.map={};var m=e.getElementRule(u.name);if(m){for(var g=0,p=m.attributesOrder.length;g<p;g++)(v=m.attributesOrder[g])in l.map&&(d.map[v]=h=l.map[v],d.push({name:v,value:h}));var v,h;for(g=0,p=l.length;g<p;g++)(v=l[g].name)in d.map||(d.map[v]=h=l.map[v],d.push({name:v,value:h}));l=d}}if(n.start(u.name,l,f),!f){if(u=u.firstChild)for(;a(u),u=u.next;);n.end(s)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()}}}var qC=U.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),$C=an(nh,th),WC=an(nh,eh),KC=U.each,ah=U.makeMap,uh=new Set;function al(t,e){return Gr(t.parseStyle(t.getAttrib(e,"style")))}function sh(t,e,n){return E.from(n.container()).filter(it).exists(function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))})}function XC(t){var e=t.container();return it(e)&&(0===e.data.length||fa(e.data)&&wi.isBookmarkNode(e.parentNode))}function nr(t,e){return function(n){return E.from(xc(t?0:-1,n)).filter(e).isSome()}}function ch(t){return Jy(t)&&"block"===Dn(B.fromDom(t),"display")}function lh(t){return Tt(t)&&!(lt(e=t)&&"all"===e.getAttribute("data-mce-bogus"));var e}function Tr(t){Cs(t),ee(t,B.fromHtml('<br data-mce-bogus="1">'))}function YC(t){bs(t).each(function(e){gr(e).each(function(n){dn(t)&&ro(e)&&dn(n)&&Vt(e)})})}function fh(t,e){return o=Dt,zn(r=e,n=t)?function(i,a){for(var u=Ot(a)?a:Dt,c=i.dom,s=[];null!=c.parentNode;){var f=c.parentNode,l=B.fromDom(f);if(s.push(l),!0===u(l))break;c=f}return s}(n,function(i){return o(i)||_t(i,r)}).slice(0,-1):[];var n,r,o}function On(t,e){return[t].concat(fh(t,e))}function ul(t,e,n){return pp(t,e,n,XC)}function dh(t,e){return Gt(On(B.fromDom(e.container()),t),dn)}function mh(t,e,n){return ul(t,e.dom,n).forall(function(r){return dh(e,n).fold(function(){return!1===hn(r,n,e.dom)},function(o){return!1===hn(r,n,e.dom)&&zn(o,B.fromDom(r.container()))})})}function gh(t,e,n){return dh(e,n).fold(function(){return ul(t,e.dom,n).forall(function(r){return!1===hn(r,n,e.dom)})},function(r){return ul(t,r.dom,n).isNone()})}function GC(t){return Ra(t).exists(ro)}function Ja(t,e,n){var r=_e(bt(On(B.fromDom(n.container()),e),dn)).getOr(e);return Be(t,r.dom,n).filter(GC)}function sl(t,e){return Ra(e).exists(ro)||Ja(!0,t,e).isSome()}function cl(t,e){return E.from(e.getNode(!0)).map(B.fromDom).exists(ro)||Ja(!1,t,e).isSome()}function ph(t){return F.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()}function hh(t,e){return _e(bt(On(B.fromDom(e.container()),t),dn)).getOr(t)}function vh(t,e){return ph(e)?Tl(e):Tl(e)||Cn(hh(t,e).dom,e).exists(Tl)}function bh(t,e){return ph(e)?Al(e):Al(e)||nn(hh(t,e).dom,e).exists(Al)}function ll(t){return Ra(t).bind(function(e){return ra(e,Ge)}).exists(function(e){return Yt(["pre","pre-wrap"],Dn(e,"white-space"))})}function Qa(t,e){return!ll(e)&&(Rl(t,e)||bx(t,e)||cl(t,e)||vh(t,e))}function Za(t,e){return!ll(e)&&(Xh(t,e)||yx(t,e)||sl(t,e)||bh(t,e))}function yh(t,e){return Qa(t,e)||Za(t,(r=(n=e).container(),o=n.offset(),it(r)&&o<r.data.length?F(r,o+1):n));var n,r,o}function Ch(t,e){return Si(t.charAt(e))}function JC(t){var e=t.container();return it(e)&&ue(e.data,xe)}function xh(t){var e=B.fromDom(t.getBody());t.selection.isCollapsed()&&function QC(t,e){return E.some(e).filter(JC).bind(function(n){var r,o,i,a,u,c,s,f,l,d=n.container(),m=t,g=(u=d).data,p=F(u,0);return(!Ch(g,0)||yh(m,p)?(f=(c=d).data,(l=At(s=f.split(""),function(v,h){return Si(v)&&0<h&&h<s.length-1&&Dc(s[h-1])&&Dc(s[h+1])?" ":v}).join(""))!==f&&(c.data=l,1)):(u.data=" "+g.slice(1),1))||(r=t,i=(o=d).data,a=F(o,i.length-1),Ch(i,i.length-1)&&!yh(r,a)&&(o.data=i.slice(0,-1)+" ",1))?E.some(n):E.none()})}(e,F.fromRangeStart(t.selection.getRng())).each(function(n){t.selection.setRng(n.toRange())})}function wh(t,e,n){var r,o,i,a,u,c,s,f;0!==n&&(o=ni(r=B.fromDom(t),dn).getOr(r),i=t.data.slice(e,e+n),a=e+n>=t.data.length&&Za(o,F(t,t.data.length)),u=0===e&&Qa(o,F(t,0)),t.replaceData(e,n,(s=u,f=a,Ke(c=i,function(l,d){return wo(d)||Si(d)?l.previousCharIsSpace||""===l.str&&s||l.str.length===c.length-1&&f?{previousCharIsSpace:!1,str:l.str+xe}:{previousCharIsSpace:!0,str:l.str+" "}:{previousCharIsSpace:!1,str:l.str+d}},{previousCharIsSpace:!1,str:""}).str)))}function tu(t,e){var n=t.data.slice(e);wh(t,e,n.length-Iy(n).length)}function fl(t,e){var n=t.data.slice(0,e),r=n.length-pd(n).length;wh(t,e-r,r)}function dl(t,e,n,r){void 0===r&&(r=!0);var o=pd(t.data).length,i=r?t:e,a=r?e:t;return r?i.appendData(a.data):i.insertData(0,a.data),Vt(B.fromDom(a)),n&&tu(i,o),i}function ZC(t,e){return r=t,o=(n=e).container(),i=n.offset(),!1===F.isTextPosition(n)&&o===r.parentNode&&i>F.before(r).offset()?F(e.container(),e.offset()-1):e;var n,r,o,i}function Sh(t){return fn(t.previousSibling)?E.some(it(e=t.previousSibling)?F(e,e.data.length):F.after(e)):t.previousSibling?xn(t.previousSibling):E.none();var e}function Nh(t){return fn(t.nextSibling)?E.some(it(e=t.nextSibling)?F(e,0):F.before(e)):t.nextSibling?ge(t.nextSibling):E.none();var e}function tx(t,e){return Sh(e).orThunk(function(){return Nh(e)}).orThunk(function(){return n=t,o=F.before((r=e).previousSibling||r.parentNode),Cn(n,o).fold(function(){return nn(n,F.after(r))},E.some);var n,r,o})}function ex(t,e){return Nh(e).orThunk(function(){return Sh(e)}).orThunk(function(){return nn(n=t,F.after(r=e)).fold(function(){return Cn(n,F.before(r))},E.some);var n,r})}function Eh(t,e,n){n.fold(function(){t.focus()},function(r){t.selection.setRng(r.toRange(),e)})}function nx(t,e){return e&&yt(t.schema.getBlockElements(),Ht(e))}function rx(t){if(qt(t)){var e=B.fromHtml('<br data-mce-bogus="1">');return Cs(t),ee(t,e),E.some(F.before(e.dom))}return E.none()}function Rr(t,e,n,r){void 0===r&&(r=!0);var o,i,a,u,c,s,f,l,d,m,g,h,b=(e?ex:tx)(t.getBody(),h=n.dom).map(et(ZC,h)),y=ni(n,et(nx,t),(o=t.getBody(),function(_){return _.dom===o})),w=(u=b,i=a=n,c=yt(t.schema.getTextInlineElements(),Ht(i)),m=gr(a).filter(ze),g=Go(a).filter(ze),Vt(a),f=g,l=u,d=function(_,C,x){var S=_.dom,R=C.dom,O=S.data.length;return dl(S,R,c),x.container()===R?F(S,O):x},((s=m).isSome()&&f.isSome()&&l.isSome()?E.some(d(s.getOrDie(),f.getOrDie(),l.getOrDie())):E.none()).orThunk(function(){return c&&(m.each(function(_){return fl(_.dom,_.dom.length)}),g.each(function(_){return tu(_.dom,0)})),u}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):y.bind(rx).fold(function(){r&&Eh(t,e,w)},function(_){r&&Eh(t,e,E.some(_))})}function ml(t){return be(t,"td,th")}function gl(t,e){return{start:t,end:e}}function eu(t,e){return As(B.fromDom(t),"td,th",e)}function _h(t){return!_t(t.start,t.end)}function kh(t,e){return xi(t.start,e).bind(function(n){return xi(t.end,e).bind(function(r){return _t(n,r)?E.some(n):E.none()})})}function pl(t){return function(e){return kh(e,t).map(function(n){return{rng:e,table:n,cells:ml(n)}})}}function Dh(t,e,n,r){if(n.collapsed||!t.forall(_h))return E.none();if(e.isSameTable){var o=t.bind(pl(r));return E.some({start:o,end:o})}var i,a,u=eu(n.startContainer,r),c=eu(n.endContainer,r),s=u.bind((a=r,function(l){return xi(l,a).bind(function(d){return fr(ml(d)).map(function(m){return gl(l,m)})})})).bind(pl(r)),f=c.bind((i=r,function(l){return xi(l,i).bind(function(d){return _e(ml(d)).map(function(m){return gl(m,l)})})})).bind(pl(r));return E.some({start:s,end:f})}function Ah(t,e){return qi(t,function(n){return _t(n,e)})}function hl(t){return ve(Ah(t.cells,t.rng.start),Ah(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)})}function Th(t,e){var n=e.startTable,r=e.endTable,o=t.cloneRange();return n.each(function(i){return o.setStartAfter(i.dom)}),r.each(function(i){return o.setEndBefore(i.dom)}),o}function Rh(t){return nt(t,function(e){kn(e,"contenteditable"),Tr(e)}),0}function vl(t,e,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(e.dom.lastChild)):(o.setStartBefore(e.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Ol(t,o,e,!1)}function Oh(t){var e=Eo(t),n=B.fromDom(t.selection.getNode());na(n.dom)&&qt(n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),1<e.length&&de(e,function(r){return _t(r,n)})&&cn(n,"data-mce-selected","1")}function Bh(t,e,n){var r=t.selection.getRng();return Rh(n.bind(function(o){var a,u,c=o.rng,s=o.isStartInTable,f=E.from(t.dom.getParent(s?c.endContainer:c.startContainer,t.dom.isBlock)).map(B.fromDom);c.deleteContents(),a=t,u=s,f.filter(qt).each(function(d){u?Vt(d):(Tr(d),a.selection.setCursorLocation(d.dom,0))});var l=s?e[0]:e[e.length-1];return vl(t,l,r,s),qt(l)?E.none():E.some(s?e.slice(1):e.slice(0,-1))}).getOr(e)),Oh(t),!0}function ix(t,e,n,r){var o=t.selection.getRng(),i=e[0],a=n[n.length-1];vl(t,i,o,!0),vl(t,a,o,!1);var u=qt(i)?e:e.slice(1),c=qt(a)?n:n.slice(0,-1);return Rh(u.concat(c)),r.deleteContents(),Oh(t),!0}function ax(t,e){return Rr(t,!1,e),!0}function Ph(t,e){return Gt(On(e,t),ca)}function Lh(t,e){return(t?Wh:Kh)(e)}function nu(t,e){var n,r,o,i,a,u,c,s,f=B.fromDom(t.selection.getStart(!0)),l=Eo(t);return t.selection.isCollapsed()&&0===l.length?function ux(t,e,n){var r=B.fromDom(t.getBody());return Bl(r,n).fold(function(){return i=e,a=r,u=n,c=F.fromRangeStart((o=t).selection.getRng()),Ph(a,u).bind(function(d){return qt(d)?ru(o,d):(m=a,g=d,p=c,La(i,o.getBody(),p).bind(function(v){return Ph(m,B.fromDom(v.getNode())).map(function(h){return!1===_t(h,g)})}));var m,g,p}).getOr(!1)||(f=e,l=F.fromRangeStart((s=t).selection.getRng()),Lh(f,l)||Be(f,s.getBody(),l).exists(function(d){return Lh(f,d)}));var o,i,a,u,c,s,f,l},function(o){return l=e,d=r,m=o,g=F.fromRangeStart((f=t).selection.getRng()),(qt(m)?ru(f,m):(a=d,c=m,s=g,La(u=l,(i=f).getBody(),s).bind(function(p){return b=u,y=s,w=p,ge((h=c).dom).bind(function(_){return xn(h.dom).map(function(C){return b?y.isEqual(_)&&w.isEqual(C):y.isEqual(C)&&w.isEqual(_)})}).getOr(!0)?ru(i,c):(v=c,Bl(a,B.fromDom(p.getNode())).map(function(_){return!1===_t(_,v)}));var v,h,b,y,w}).or(E.some(!0)))).getOr(!1);var i,a,u,c,s,f,l,d,m,g})}(t,e,f):(r=f,o=l,i=B.fromDom((n=t).getBody()),a=n.selection.getRng(),0!==o.length?Bh(n,o,E.none()):(u=n,s=a,Bl(c=i,r).fold(function(){return d=u,function ox(t,e){var n,r,o,i,a,u,c,s,f,l,d,m,g,p,v,h,b=(n=t,function(C){return _t(n,C)}),y=ve(eu((r=e).startContainer,o=b),eu(r.endContainer,o),gl),w=(f=b,l=_((s=e).startContainer),d=_(s.endContainer),m=l.isSome(),g=d.isSome(),{startTable:l,endTable:d,isStartInTable:m,isEndInTable:g,isSameTable:p=ve(l,d,_t).getOr(!1),isMultiTable:!p&&m&&g});function _(C){return xi(B.fromDom(C),f)}return v=e,h=b,y.exists(function(C){return!_h(x=C)&&kh(x,h).exists(function(S){var R=S.dom.rows;return 1===R.length&&1===R[0].cells.length})&&Lc(C.start,v);var x})?y.map(function(C){return ki.singleCellTable(e,C.start)}):w.isMultiTable?Dh(y,u=w,c=e,b).bind(function(C){var S=C.end,R=C.start.bind(hl).getOr([]),O=S.bind(hl).getOr([]);if(0<R.length&&0<O.length){var I=Th(c,u);return E.some(ki.multiTable(R,O,I))}return E.none()}):Dh(y,i=w,a=e,b).bind(function(C){return C.start.or(C.end)}).bind(function(C){var x=i.isSameTable,S=hl(C).getOr([]);if(x&&C.cells.length===S.length)return E.some(ki.fullTable(C.table));if(0<S.length){if(x)return E.some(ki.partialTable(S,E.none()));var R=Th(a,i);return E.some(ki.partialTable(S,E.some(ft(ft({},i),{rng:R}))))}return E.none()})}(c,s).map(function(m){return m.fold(et(Ol,d),et(ax,d),et(Bh,d),et(ix,d))});var d},function(d){return ru(u,d)}).getOr(!1)))}function bl(t){return t.collapsed?t:(n=F.fromRangeStart(e=t),r=F.fromRangeEnd(e),Be(!1,o=e.commonAncestorContainer,r).map(function(i){return!hn(n,r,o)&&hn(n,i,o)?(a=n.container(),u=n.offset(),c=i.container(),s=i.offset(),(f=document.createRange()).setStart(a,u),f.setEnd(c,s),f):e;var a,u,c,s,f}).getOr(e));var e,n,r,o}function yl(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null}function Ih(t,e){var n=F.after(t),r=en(e).prev(n);return r?r.toRange():null}function fx(t,e,n){var r,o,i,a,u=t.selection,c=t.dom;/^ | $/.test(e)&&(r=c,o=u.getRng(),i=e,i=Qa(a=B.fromDom(r.getRoot()),F.fromRangeStart(o))?i.replace(/^ /,"&nbsp;"):i.replace(/^&nbsp;/," "),e=i=Za(a,F.fromRangeEnd(o))?i.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):i.replace(/&nbsp;(<br( \/)?>)?$/," "));var s=t.parser,f=n.merge,l=Ao({validate:t.getParam("validate")},t.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',m=t.fire("BeforeSetContent",{content:e,format:"html",selection:!0,paste:n.paste});if(m.isDefaultPrevented())t.fire("SetContent",{content:m.content,format:"html",selection:!0,paste:n.paste});else{e=m.content,-1===(e=n.preserve_zwsp?e:Ae(e)).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,d);var g,p,v=(g=u.getRng()).startContainer||(g.parentElement?g.parentElement():null),h=t.getBody();v===h&&u.isCollapsed()&&c.isBlock(h.firstChild)&&(p=h.firstChild)&&!t.schema.getShortEndedElements()[p.nodeName]&&c.isEmpty(h.firstChild)&&((g=c.createRng()).setStart(h.firstChild,0),g.setEnd(h.firstChild,0),u.setRng(g)),u.isCollapsed()||function(G){var K=G.dom,Z=bl(G.selection.getRng());G.selection.setRng(Z);var z,Q=K.getParent(Z.startContainer,Pl),$=Z;null!==(z=Q)&&z===K.getParent($.endContainer,Pl)&&Lc(B.fromDom(z),$)?Ol(G,Z,B.fromDom(Q)):G.getDoc().execCommand("Delete",!1,null)}(t);var b,y,w,_,x,S,R,O,I,L,k,D,T,P={context:(Y=u.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},q=s.parse(e,P);if(!0===n.paste&&function sx(t,e){var n,r,o,i,a,u=e.firstChild,c=e.lastChild;return u&&"meta"===u.name&&(u=u.next),r=c=c&&"mce_marker"===c.attr("id")?c.prev:c,o=(n=t).getNonEmptyElements(),r&&(r.isEmpty(o)||(i=r,n.getBlockElements()[i.name]&&i.firstChild&&i.firstChild===i.lastChild&&("br"===(a=i.firstChild).name||a.value===xe)))&&(c=c.prev),u&&u===c&&("ul"===u.name||"ol"===u.name)}(t.schema,q)&&yl(c,Y))return g=function lx(t,e,n,r){function o(P){var q=F.fromRangeStart(n),X=en(e.getRoot()),j=1===P?X.prev(q):X.next(q);return!j||yl(e,j.getNode())!==k}var i,a,u,c,s,f,l,d,m,g,p,v,h,b,y,w,_,C,x,S,R,O,I,L=(i=e,s=t.serialize(r),u=(a=i.createFragment(s)).firstChild,c=a.lastChild,u&&"META"===u.nodeName&&u.parentNode.removeChild(u),c&&"mce_marker"===c.id&&c.parentNode.removeChild(c),a),k=yl(e,n.startContainer),D=function cx(t){return 0<t.length&&(!(r=t[t.length-1]).firstChild||(e=r)&&e.firstChild&&e.firstChild===e.lastChild&&((n=e.firstChild).data===xe||It(n)))?t.slice(0,-1):t;var e,n,r}(bt(L.firstChild.childNodes,function(P){return"LI"===P.nodeName})),T=e.getRoot();return o(1)?(x=T,I=(C=k).parentNode,U.each(D,function(P){I.insertBefore(P,C)}),S=x,R=F.before(C),(O=en(S).next(R))?O.toRange():null):o(2)?(f=k,d=T,e.insertAfter((l=D).reverse(),f),Ih(l[0],d)):(g=D,p=T,v=m=k,b=(h=n).cloneRange(),y=h.cloneRange(),b.setStartBefore(v),y.setEndAfter(v),w=[b.cloneContents(),y.cloneContents()],(_=m.parentNode).insertBefore(w[0],m),U.each(g,function(P){_.insertBefore(P,m)}),_.insertBefore(w[1],m),_.removeChild(m),Ih(g[g.length-1],p))}(l,c,u.getRng(),q),u.setRng(g),void t.fire("SetContent",m);if(function(){for(var G=q;G=G.walk();)1===G.type&&G.attr("data-mce-fragment","1")}(),"mce_marker"===(j=q.lastChild).attr("id"))for(var X=j,j=j.prev;j;j=j.walk(!0))if(3===j.type||!c.isBlock(j.name)){t.schema.isValidChild(j.parent.name,"span")&&j.parent.insert(X,j,"br"===j.name);break}if(t._selectionOverrides.showBlockCaretContainer(Y),P.invalid){t.selection.setContent(d);var Y=u.getNode(),W=t.getBody();for(9===Y.nodeType?Y=j=W:j=Y;j!==W;)j=(Y=j).parentNode;e=Y===W?W.innerHTML:c.getOuterHTML(Y),e=l.serialize(s.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(q)}))),Y===W?c.setHTML(W,e):c.setOuterHTML(Y,e)}else b=t,y=e=l.serialize(q),"all"===(w=Y).getAttribute("data-mce-bogus")?w.parentNode.insertBefore(b.dom.createFragment(y),w):!(_=w.firstChild)||_===w.lastChild&&"BR"===_.nodeName?b.dom.setHTML(w,y):b.selection.setContent(y);S=f,I=(x=t).schema.getTextInlineElements(),L=x.dom,S&&(R=x.getBody(),O=oh(L),U.each(L.select("*[data-mce-fragment]"),function(G){if(Et(I[G.nodeName.toLowerCase()])&&$o(al(L,G),function(Z){return!uh.has(Z)}))for(var K=G.parentNode;Et(K)&&K!==R&&!function(Z,z,Q){function $(pt){var N=Z.getStyle(z,pt),A=Z.getStyle(Q,pt);return Ki(N)&&Ki(A)&&N!==A}var rt=al(Z,z),tt=al(Z,Q);return de(rt,function(pt){function N(M){return de(M,function(V){return V===pt})}if(N(tt)||!N($h))return $(pt);var A=bt(tt,function(M){return de($h,function(V){return mr(M,V)})});return de(A,$)})}(L,G,K);K=K.parentNode)if(O.compare(K,G)){L.remove(G,!0);break}})),function(G,K){var Z,z=G.dom,Q=G.selection;if(K){Q.scrollIntoView(K);var $=Do(G.getBody(),K);if("false"===z.getContentEditable($))return z.remove(K),Q.select($);var rt,tt=z.createRng(),pt=K.previousSibling;it(pt)?(tt.setStart(pt,pt.nodeValue.length),mt.ie||it(rt=K.nextSibling)&&(pt.appendData(rt.data),rt.parentNode.removeChild(rt))):(tt.setStartBefore(K),tt.setEndBefore(K));var N=z.getParent(K,z.isBlock);z.remove(K),N&&z.isEmpty(N)&&(G.$(N).empty(),tt.setStart(N,0),tt.setEnd(N,0),Pl(N)||N.getAttribute("data-mce-fragment")||!(Z=function(A){var M=F.fromRangeStart(A);if(M=en(G.getBody()).next(M))return M.toRange()}(tt))?z.add(N,z.create("br",{"data-mce-bogus":"1"})):(tt=Z,z.remove(N))),Q.setRng(tt)}}(t,c.get("mce_marker")),k=t.getBody(),U.each(k.getElementsByTagName("*"),function(G){G.removeAttribute("data-mce-fragment")}),D=c,T=u.getStart(),E.from(D.getParent(T,"td,th")).map(B.fromDom).each(YC),t.fire("SetContent",m),t.addVisual()}}function Cl(t){return t instanceof qe}function xl(t,e,n){var r;t.dom.setHTML(t.getBody(),e),!0!==n&&Ar(r=t)&&ge(r.getBody()).each(function(o){var i=o.getNode(),a=Zr(i)?ge(i).getOr(o):o;r.selection.setRng(a.toRange())})}function Mh(t){return Ot(t)?t:Dt}function wl(t,e,n){var r=e(t),o=Mh(n);return r.orThunk(function(){return o(t)?E.none():function(i){for(var a=t.dom,u=Mh(o);a.parentNode;){var c=B.fromDom(a=a.parentNode),s=i(c);if(s.isSome())return s;if(u(c))break}return E.none()}(e)})}function Fh(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Se(i)&&!1===i.inherit&&t.dom.is(e,i.selector))return 1}}function Sl(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(a){return!!Fh(t,a,n)||a.parentNode===i||!!wn(t,a,n,r,!0)}),!!wn(t,e,n,r,o))}function Nl(t,e,n){return!!Il(e,n.inline)||!!Il(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)}function Uh(t,e,n,r,o,i){var a=n[r];if(Ot(n.onmatch))return n.onmatch(e,n,r);if(a)if(Ce(a.length)){for(var u in a)if(yt(a,u)){var c="attributes"===r?t.getAttrib(e,u):Ma(t,e,u),s=Rn(a[u],i),f=on(c)||ud(c);if((!f||!on(s))&&(o&&f&&!n.exact||(!o||n.exact)&&!Il(c,Oc(t,s,u))))return}}else for(var l=0;l<a.length;l++)if("attributes"===r?t.getAttrib(e,a[l]):Ma(t,e,a[l]))return 1;return 1}function El(t,e,n,r,o){if(r)return Sl(t,r,e,n,o);if(r=t.selection.getNode(),Sl(t,r,e,n,o))return!0;var i=t.selection.getStart();return!(i===r||!Sl(t,i,e,n,o))}function zh(t){return 0<function(e){for(var n=[];e;){if(3===e.nodeType&&e.nodeValue!==Oo||1<e.childNodes.length)return[];1===e.nodeType&&n.push(e),e=e.firstChild}return n}(t).length}function Hh(t){if(t){var e=new jt(t,t);for(t=e.current();t;t=e.next())if(it(t))return t}return null}function _l(t){var e=B.fromTag("span");return Hn(e,{id:Gh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&ee(e,B.fromText(Oo)),e}function kl(t,e,n){void 0===n&&(n=!0);var r,o,i,a,u,c,s,f,l=t.dom,d=t.selection;zh(e)?Rr(t,!1,B.fromDom(e),n):(r=d.getRng(),o=l.getParent(e,l.isBlock),i=r.startContainer,a=r.startOffset,u=r.endContainer,c=r.endOffset,(f=Hh(e))&&f.nodeValue.charAt(0)===Oo&&f.deleteData(0,1),s=f,l.remove(e,!0),i===s&&0<a&&r.setStart(s,a-1),u===s&&0<c&&r.setEnd(s,c-1),o&&l.isEmpty(o)&&Tr(B.fromDom(o)),d.setRng(r))}function Dl(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)kl(t,e,n);else if(!(e=Dr(t.getBody(),o.getStart())))for(;e=r.get(Gh);)kl(t,e,!1)}function Vh(t,e){return t.appendChild(e),e}function jh(t,e){var n=Qf(t,function(r,o){return Vh(r,o.cloneNode(!1))},e);return Vh(n,n.ownerDocument.createTextNode(Oo))}function px(t,e){var n=t.schema.getTextInlineElements();return yt(n,Ht(e))&&!vn(e.dom)&&!pr(e.dom)}nt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(t){uh.add(t)});var qh,$h=["font","text-decoration","text-emphasis"],Al=et(sh,!0,wo),Tl=et(sh,!1,wo),hx=nr(!0,ch),vx=nr(!1,ch),To=nr(!0,Ve),Ro=nr(!1,Ve),Wh=nr(!0,Zr),Kh=nr(!1,Zr),rr=nr(!0,lh),or=nr(!1,lh),Rl=et(gh,!1),Xh=et(gh,!0),bx=et(mh,!1),yx=et(mh,!0),Cx=et(Ja,!1),xx=et(Ja,!0),ki=Vn([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Yh=function(t){var e;return(8===Ed(e=t)||"#comment"===Ht(e)?gr:bs)(t).bind(Yh).orThunk(function(){return E.some(t)})},Ol=function(t,e,n,r){void 0===r&&(r=!0),e.deleteContents();var o,i=Yh(n).getOr(n),a=B.fromDom(t.dom.getParent(i.dom,t.dom.isBlock));return qt(a)&&(Tr(a),r&&t.selection.setCursorLocation(a.dom,0)),_t(n,a)||nt((ta(Xe(a),n)?[]:Xe(o=a).map(He).map(function(u){return bt(u,function(c){return!_t(o,c)})}).getOr([])).concat(He(n)),function(u){_t(u,a)||zn(u,a)||!qt(u)||Vt(u)}),!0},Bl=function(t,e){return Gt(On(e,t),function(n){return Ge(n)&&"caption"===Ht(n)})},ru=function(t,e){return Tr(e),t.selection.setCursorLocation(e.dom,0),E.some(!0)},Pl=na,Ll=function(t,e){e(t),t.firstChild&&Ll(t.firstChild,e),t.next&&Ll(t.next,e)},Il=Rc,wn=function(t,e,n,r,o){var i=t.formatter.get(n),a=t.dom;if(i&&e)for(var u=0;u<i.length;u++){var c=i[u];if(Nl(t.dom,e,c)&&Uh(a,e,c,"attributes",o,r)&&Uh(a,e,c,"styles",o,r)){var s=c.classes;if(s)for(var f=0;f<s.length;f++)if(!t.dom.hasClass(e,Rn(s[f],r)))return;return c}}},Oo=Qt,Gh="_mce_caret",ou={},Jh=Yr,Qh=Ko;function Ml(t){return lt(t)&&!Oe(t)&&!vn(t)&&!pr(t)}function Zh(t,e){for(var n=t;n;n=n[e]){if(it(n)&&Ki(n.data))return t;if(lt(n)&&!Oe(n))return n}return t}function tv(t,e,n){var r=oh(t);if(e&&n&&(e=Zh(e,"previousSibling"),n=Zh(n,"nextSibling"),r.compare(e,n))){for(var o=e.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling,e.appendChild(i)}return t.remove(n),U.each(U.grep(n.childNodes),function(a){e.appendChild(a)}),e}return n}function ev(t,e,n,r){var o;r&&!1!==e.merge_siblings&&(o=tv(t,Ac(r),r),tv(t,o,Ac(o,!0)))}function nv(t,e){return function(n){return!(!n||!Ma(t,n,e))}}function rv(t,e,n){return function(r){var o,i;t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=t,"SPAN"===(i=r).nodeName&&0===o.getAttribs(i).length&&o.remove(i,!0)}}function ov(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)}function iv(t,e,n){var r,o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"];return lt(o)&&(!n&&i&&i--,o=o.childNodes[(r=o.childNodes.length-1)<i?r:i]),it(o)&&n&&i>=o.nodeValue.length&&(o=new jt(o,t.getBody()).next()||o),it(o)&&!n&&0===i&&new jt(o,t.getBody()).prev()||o}function av(t,e){var n=e?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(t.nodeName)&&t[n]){var r=t[n];return"TR"===t.nodeName&&r[n]||r}return t}function Fl(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o}function uv(t,e,n,r,o){var i=B.fromDom(e),a=B.fromDom(t.create(r,o));return Gi(a,(n?Ad:Dd)(i)),n?(Ye(i,a),Bd(a,i)):(Jo(i,a),ee(a,i)),a.dom}function iu(t,e,n,r){var o=Ac(e,n,r);return on(o)||"BR"===o.nodeName||t.isBlock(o)}function sv(t,e,n,r,o){var i,a,u=t.dom,c=u,s=r;if(!(Kt(a=e)&&Po(s,a.inline)||bn(a)&&Po(s,a.block)||Se(a)&&lt(s)&&c.is(s,a.selector)||e.links&&"A"===r.nodeName))return Di.keep();var f,l,d,m,g,p,v,h,b=r;if(Kt(e)&&"all"===e.remove&&Me(e.preserve_attributes)){var y=bt(u.getAttribs(b),function(x){return Yt(e.preserve_attributes,x.name.toLowerCase())});if(u.removeAllAttribs(b),nt(y,function(x){return u.setAttrib(b,x.name,x.value)}),0<y.length)return Di.rename("span")}if("all"!==e.remove){Xl(e.styles,function(x,S){x=Oc(u,Rn(x,n),S+""),Kr(S)&&(S=x,o=null),!e.remove_similar&&o&&!Po(Ma(u,o,S),x)||u.setStyle(b,S,""),i=!0}),i&&""===u.getAttrib(b,"style")&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),Xl(e.attributes,function(x,S){var R;if(x=Rn(x,n),Kr(S)&&(S=x,o=null),e.remove_similar||!o||Po(u.getAttrib(o,S),x))if("class"===S&&(x=u.getAttrib(b,S))&&(R="",nt(x.split(/\s+/),function(O){/mce\-\w+/.test(O)&&(R+=(R?" ":"")+O)}),R))u.setAttrib(b,S,R);else{if(Rx.test(S)&&b.removeAttribute("data-mce-"+S),"style"===S&&Ue(["li"])(b)&&"none"===u.getStyle(b,"list-style-type"))return b.removeAttribute(S),void u.setStyle(b,"list-style-type","none");"class"===S&&b.removeAttribute("className"),b.removeAttribute(S)}}),Xl(e.classes,function(x){x=Rn(x,n),o&&!u.hasClass(o,x)||u.removeClass(b,x)});for(var w=u.getAttribs(b),_=0;_<w.length;_++){var C=w[_].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return Di.keep()}}return"none"!==e.remove?(d=e,p=(l=b).parentNode,v=(f=t).dom,h=ae(f),bn(d)&&(h?p===v.getRoot()&&(d.list_block&&Po(l,d.list_block)||nt(un(l.childNodes),function(x){So(f,h,x.nodeName.toLowerCase())?m?m.appendChild(x):(m=Fl(v,x,h),v.setAttribs(m,f.settings.forced_root_block_attrs)):m=null})):v.isBlock(l)&&!v.isBlock(p)&&(iu(v,l,!1)||iu(v,l.firstChild,!0,!0)||l.insertBefore(v.create("br"),l.firstChild),iu(v,l,!0)||iu(v,l.lastChild,!1,!0)||l.appendChild(v.create("br")))),Se(g=d)&&Kt(g)&&ta(zt(g,"mixed"),!0)&&!Po(d.inline,l)||v.remove(l,!0),Di.removed()):Di.keep()}function Bo(t,e,n,r,o){return sv(t,e,n,r,o).fold(Dt,function(i){return t.dom.rename(r,i),!0},Ut)}function cv(t,e,n,r,o){function i(h){var b,y,w,_,C,x=(y=e,w=n,_=o,nt(Fa((b=t).dom,h.parentNode).reverse(),function(S){var R;C||"_start"===S.id||"_end"===S.id||(R=wn(b,S,y,w,_))&&!1!==R.split&&(C=S)}),C);return function(S,R,O,I,L,k,D,T){var P,q,X=S.dom;if(O){for(var j=O.parentNode,Y=I.parentNode;Y&&Y!==j;Y=Y.parentNode){for(var W=X.clone(Y,!1),G=0;G<R.length&&null!==(W=function(K,Z,z){return sv(K,Z,T,z,z).fold(ot(z),function(Q){return K.dom.createFragment().appendChild(z),K.dom.rename(z,Q)},ot(null))}(S,R[G],W));G++);W&&(P&&W.appendChild(P),q=q||W,P=W)}D.mixed&&X.isBlock(O)||(I=X.split(O,I)),P&&(L.parentNode.insertBefore(P,L),q.appendChild(L),Kt(D)&&ev(X,D,0,P))}return I}(t,f,x,h,h,0,l,n)}function a(h){return de(f,function(b){return Bo(t,b,n,h,h)})}function u(h){var b,y=m.get(h?"_start":"_end"),w=y[h?"firstChild":"lastChild"];return Oe(b=w)&&lt(b)&&("_start"===b.id||"_end"===b.id)&&(w=w[h?"firstChild":"lastChild"]),it(w)&&0===w.data.length&&(w=h?y.previousSibling||y.nextSibling:y.nextSibling||y.previousSibling),m.remove(y,!0),w}function c(h){var b=No(t,h,f,h.collapsed);if(l.split){if(b=$a(b),(w=iv(t,b,!0))!==(_=iv(t,b))){if(w=av(w,!0),_=av(_,!1),ov(m,w,_)){var y=E.from(w.firstChild).getOr(w);return i(uv(m,y,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void u(!0)}if(ov(m,_,w))return y=E.from(_.lastChild).getOr(_),i(uv(m,y,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void u(!1);var w=Fl(m,w,"span",{id:"_start","data-mce-type":"bookmark"}),_=Fl(m,_,"span",{id:"_end","data-mce-type":"bookmark"}),C=m.createRng();C.setStartAfter(w),C.setEndBefore(_),Ci(m,C,function(x){nt(x,function(S){Oe(S)||Oe(S.parentNode)||i(S)})}),i(w),i(_),w=u(!0),_=u()}else w=_=i(w);b.startContainer=w.parentNode||w,b.startOffset=m.nodeIndex(w),b.endContainer=_.parentNode||_,b.endOffset=m.nodeIndex(_)+1}Ci(m,b,function(x){nt(x,p)})}var s,f=t.formatter.get(e),l=f[0],d=!0,m=t.dom,g=t.selection,p=function(h){var b=!0,y=!1;lt(h)&&m.getContentEditable(h)&&(b=d,d="true"===m.getContentEditable(h),y=!0);var w,_,C=un(h.childNodes);if(d&&!y&&(w=a(h)||de(f,function(S){return Nl(m,h,S)}),_=h.parentNode,!w&&Et(_)&&Bc(l)&&a(_)),l.deep&&C.length){for(var x=0;x<C.length;x++)p(C[x]);y&&(d=b)}nt(["underline","line-through","overline"],function(S){lt(h)&&t.dom.getStyle(h,"text-decoration")===S&&h.parentNode&&ep(m,h.parentNode)===S&&Bo(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:S}},null,h)})};if(r)return Ia(r)?((s=m.createRng()).setStartBefore(r),s.setEndAfter(r),c(s)):c(r),void $c(t,e,r,n);if("false"!==m.getContentEditable(g.getNode()))g.isCollapsed()&&Kt(l)&&!Eo(t).length?function gx(t,e,n,r){var o,i,a,u,c,s,f,l,d,m,g,p,v,h,b,y=t.dom,w=t.selection,_=[],C=w.getRng(),x=C.startContainer,R=x;for(3===x.nodeType&&(C.startOffset!==x.nodeValue.length&&(o=!0),R=R.parentNode);R;){if(wn(t,R,e,n,r)){i=R;break}R.nextSibling&&(o=!0),_.push(R),R=R.parentNode}i&&(o?(a=w.getBookmark(),C.collapse(!0),u=$a(No(t,C,t.formatter.get(e),!0)),t.formatter.remove(e,n,u,r),w.moveToBookmark(a)):(c=Dr(t.getBody(),i),d=s=_l(!1).dom,(p=(g=t.dom).getParent(m=null!==c?c:i,et(Tc,t)))&&g.isEmpty(p)?m.parentNode.replaceChild(d,m):(h=be(v=B.fromDom(m),"br"),b=bt(function(){for(var O=[],I=v.dom;I;)O.push(B.fromDom(I)),I=I.lastChild;return O}().slice(-1),ro),h.length===b.length&&nt(b,Vt),g.isEmpty(m)?m.parentNode.replaceChild(d,m):g.insertAfter(d,m)),f=function mx(t,e,n,r,o,i){var a,u,c=t.formatter,s=t.dom,f=bt(Gr(c.get()),function(d){return d!==r&&!ue(d,"removeformat")});if(0<bt((a=t,u=n,Ke(f,function(d,m){var g=function gC(t,e){return de(t.formatter.get(e),function(n){function r(o){return 1<o.length&&"%"===o.charAt(0)}return de(["styles","attributes"],function(o){return zt(n,o).exists(function(i){var a,u;return de(Me(i)?i:(a=he,u=[],Bt(i,function(c,s){u.push(a(c,s))}),u),r)})})})}(a,m);return a.formatter.matchNode(u,m,{},g)?d.concat([m]):d},[])),function(d){return p=r,v=["inline","block","selector","attributes","styles","classes"],!de((g=t).formatter.get(d),function(h){var b=m(h);return de(g.formatter.get(p),function(y){var w,_=m(y),C=b,x=_;return $r(w=void 0===w?ns:w).eq(C,x)})});function m(h){return Wo(h,function(b,y){return de(v,function(w){return w===y})})}var g,p,v}).length){var l=n.cloneNode(!1);return s.add(e,l),c.remove(r,o,l,i),s.remove(l),E.some(l)}return E.none()}(t,s,i,e,n,r),l=jh(_.concat(f.toArray()),s),kl(t,c,!1),w.setCursorLocation(l,1),y.isEmpty(i)&&y.remove(i)))}(t,e,n,o):(Fc(g,!0,function(){Mc(t,c)}),Kt(l)&&El(t,e,n,g.getStart())&&tp(m,g,g.getRng()),t.nodeChanged()),$c(t,e,r,n);else{r=g.getNode();for(var v=0;v<f.length&&(!f[v].ceFalseOverride||!Bo(t,f[v],n,r,r));v++);$c(t,e,r,n)}}function wx(t){return lt(t)&&!Oe(t)&&!vn(t)&&!pr(t)}function lv(t){return yt(t,"vars")}function fv(t,e,n,r,o){return Zf(e,function(i){var a=t.formatter.matchNode(i,n,o??{},r);return!Ce(a)},function(i){return Fh(t,i,n)||!r&&Et(t.formatter.matchNode(i,n,o,!0))})}function dv(t,e){var n=e??Dv(t);return bt(Fa(t.dom,n),function(r){return lt(r)&&!pr(r)})}function Ul(t,e){var n=(e||document).createDocumentFragment();return nt(t,function(r){n.appendChild(r.dom)}),B.fromDom(n)}function zl(t,e,n){return{element:t,width:e,rows:n}}function mv(t,e){return{element:t,cells:e}}function gv(t,e){var n=parseInt(to(t,e),10);return isNaN(n)?1:n}function pv(t){return Ke(t,function(e,n){return n.cells.length>e?n.cells.length:e},0)}function hv(t,e){for(var n=t.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(_t(o[i],e))return E.some({x:i,y:r});return E.none()}function vv(t,e,n,r,o){for(var i=[],a=t.rows,u=n;u<=o;u++){var c=a[u].cells,s=e<r?c.slice(e,r+1):c.slice(r,e+1);i.push(mv(a[u].element,s))}return i}function bv(){return Ul([])}function au(t,e){return 0<=e&&e<t.length&&wo(t.charAt(e))}function yv(t,e){var n=Ae(t.innerText);return e?n.replace(/^[ \f\n\r\t\v]+/,""):n}function Cv(t){return lt(t)?t.outerHTML:it(t)?$n.encodeRaw(t.data,!1):Gy(t)?"\x3c!--"+t.data+"--\x3e":""}function Hl(t){var e=t.serializer.getTempAttrs(),n=rh(t.getBody(),e);return null!==n.querySelector("iframe")?{type:"fragmented",fragments:bt(At(un(n.childNodes),an(Ae,Cv)),function(r){return 0<r.length}),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Ae(n.innerHTML),bookmark:null,beforeBookmark:null}}function Vl(t,e,n){var r,o,i,a,u,c,s,f,l,d,m,g=n?e.beforeBookmark:e.bookmark;function p(v,h,b,y){for(var w=v;w-h<y&&w<b&&a[w]===u[w-h];)++w;return{start:v,end:w,diag:h}}"fragmented"===e.type?(r=e.fragments,o=t.getBody(),i=At(un(o.childNodes),Cv),function Dx(t,e){var n=0;nt(t,function(r){var o,i,a,u,s,f,l;0===r[0]?n++:1===r[0]?(u=e,s=n,l=function(d){var m,g=document.createElement("div"),p=document.createDocumentFragment();for(d&&(g.innerHTML=d);m=g.firstChild;)p.appendChild(m);return p}(r[1]),u.hasChildNodes()&&s<u.childNodes.length?(f=u.childNodes[s]).parentNode.insertBefore(l,f):u.appendChild(l),n++):2===r[0]&&(i=n,(o=e).hasChildNodes()&&i<o.childNodes.length&&(a=o.childNodes[i]).parentNode.removeChild(a))})}((c=(a=i).length+(u=r).length+2,s=new Array(c),f=new Array(c),l=function(v,h,b,y,w){var _=d(v,h,b,y);if(null===_||_.start===h&&_.diag===h-y||_.end===v&&_.diag===v-b)for(var C=v,x=b;C<h||x<y;)C<h&&x<y&&a[C]===u[x]?(w.push([0,a[C]]),++C,++x):y-b<h-v?(w.push([2,a[C]]),++C):(w.push([1,u[x]]),++x);else{l(v,_.start,b,_.start-_.diag,w);for(var S=_.start;S<_.end;++S)w.push([0,a[S]]);l(_.end,h,_.end-_.diag,y,w)}},d=function(v,h,b,y){var w=h-v,_=y-b;if(0==w||0==_)return null;var C,x,S,R,O,I=w-_,L=_+w,k=(L%2==0?L:1+L)/2;for(s[1+k]=v,f[1+k]=h+1,C=0;C<=k;++C){for(x=-C;x<=C;x+=2){for(s[S=x+k]=x===-C||x!==C&&s[S-1]<s[S+1]?s[S+1]:s[S-1]+1,O=(R=s[S])-v+b-x;R<h&&O<y&&a[R]===u[O];)s[S]=++R,++O;if(I%2!=0&&I-C<=x&&x<=I+C&&f[S-I]<=s[S])return p(f[S-I],x+v-b,h,y)}for(x=I-C;x<=I+C;x+=2){for(f[S=x+k-I]=x===I-C||x!==I+C&&f[S+1]<=f[S-1]?f[S+1]-1:f[S-1],O=(R=f[S]-1)-v+b-x;v<=R&&b<=O&&a[R]===u[O];)f[S]=R--,O--;if(I%2==0&&-C<=x&&x<=C&&f[S]<=s[S+I])return p(f[S],x+v-b,h,y)}}},l(0,a.length,0,u.length,m=[]),m),o)):t.setContent(e.content,{format:"raw",no_selection:!Et(g)||!Yg(g)||!g.isFakeCaret}),t.selection.moveToBookmark(g)}function jl(t){return"fragmented"===t.type?t.fragments.join(""):t.content}function xv(t){var e=B.fromTag("body",Ox());return $m(e,jl(t)),nt(be(e,"*[data-mce-bogus]"),Pd),e.dom.innerHTML}function uu(t,e){return!(!t||!e)&&(r=e,jl(t)===jl(r)||(n=e,xv(t)===xv(n)));var n,r}function ql(t){return 0===t.get()}function su(t,e,n){ql(n)&&(t.typing=e)}function wv(t,e){t.typing&&(su(t,!1,e),t.add())}function Sv(t){return{undoManager:{beforeChange:function(e,n){var r=t,o=n;ql(e)&&o.set(Ug(r.selection))},add:function(e,n,r,o,i,a){return function(u,c,s,f,l,d,m){var g=Hl(u);if(d=U.extend(d=d||{},g),!1===ql(f)||u.removed)return null;var p=c.data[s.get()];if(u.fire("BeforeAddUndo",{level:d,lastLevel:p,originalEvent:m}).isDefaultPrevented()||p&&uu(p,d))return null;c.data[s.get()]&&l.get().each(function(y){c.data[s.get()].beforeBookmark=y});var v=u.getParam("custom_undo_redo_levels",0,"number");if(v&&c.data.length>v){for(var h=0;h<c.data.length-1;h++)c.data[h]=c.data[h+1];c.data.length--,s.set(c.data.length)}d.bookmark=Ug(u.selection),s.get()<c.data.length-1&&(c.data.length=s.get()+1),c.data.push(d),s.set(c.data.length-1);var b={level:d,lastLevel:p,originalEvent:m};return 0<s.get()?(u.setDirty(!0),u.fire("AddUndo",b),u.fire("change",b)):u.fire("AddUndo",b),d}(t,e,n,r,o,i,a)},undo:function(e,n,r){return o=t,a=n,u=r,(i=e).typing&&(i.add(),i.typing=!1,su(i,!1,a)),0<u.get()&&(u.set(u.get()-1),Vl(o,c=i.data[u.get()],!0),o.setDirty(!0),o.fire("Undo",{level:c})),c;var o,i,a,u,c},redo:function(e,n){return r=t,i=n,(o=e).get()<i.length-1&&(o.set(o.get()+1),Vl(r,a=i[o.get()],!1),r.setDirty(!0),r.fire("Redo",{level:a})),a;var r,o,i,a},clear:function(e,n){var r,o=t,i=n;(r=e).data=[],i.set(0),r.typing=!1,o.fire("ClearUndos")},reset:function(e){var n;(n=e).clear(),n.add()},hasUndo:function(e,n){return r=t,o=e,0<n.get()||o.typing&&o.data[0]&&!uu(Hl(r),o.data[0]);var r,o},hasRedo:function(e,n){return r=e,n.get()<r.data.length-1&&!r.typing;var r},transact:function(e,n,r){return i=r,wv(o=e,n),o.beforeChange(),o.ignore(i),o.add();var o,i},ignore:function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},extra:function(e,n,r,o){var i,a,u=t,c=n,s=o;(i=e).transact(r)&&(a=i.data[c.get()].bookmark,Vl(u,i.data[c.get()-1],!0),i.transact(s)&&(i.data[c.get()-1].beforeBookmark=a))}},formatter:{match:function(e,n,r,o){return El(t,e,n,r,o)},matchAll:function(e,n){return o=e,i=n,a=[],u={},c=(r=t).selection.getStart(),r.dom.getParent(c,function(s){for(var f=0;f<o.length;f++){var l=o[f];!u[l]&&wn(r,s,l,i)&&(u[l]=!0,a.push(l))}},r.dom.getRoot()),a;var r,o,i,a,u,c},matchNode:function(e,n,r,o){return wn(t,e,n,r,o)},canApply:function(e){return function(n){var r=n.formatter.get(e),o=n.dom;if(r)for(var i=Fa(o,n.selection.getStart()),a=r.length-1;0<=a;a--){var u=r[a];if(!Se(u)||Et(u.defaultBlock))return!0;for(var c=i.length-1;0<=c;c--)if(o.is(i[c],u.selector))return!0}return!1}(t)},closest:function(e){return o=e,E.from((r=t).selection.getStart(!0)).bind(function(i){return wl(B.fromDom(i),function(a){return ed(o,function(u){return wn(r,a.dom,c=u)?E.some(c):E.none();var c})},n)}).getOrNull();function n(i){return _t(i,B.fromDom(r.getBody()))}var r,o},apply:function(e,n,r){return Yl(t,e,n,r)},remove:function(e,n,r,o){return cv(t,e,n,r,o)},toggle:function(e,n,r){var o,i=e,a=n,u=r,c=(o=t).formatter.get(i);(!El(o,i,a,u)||"toggle"in c[0]&&!c[0].toggle?Yl:cv)(o,i,a,u)},formatChanged:function(e,n,r,o,i){return function Sx(t,e,n,r,o,i){var a,u,c,s,f,l,d,m,g;return null===e.get()&&(u=t,(a=e).set({}),u.on("NodeChange",function(p){Av(u,p.element,a.get())}),u.on("FormatApply FormatRemove",function(p){var v=E.from(p.node).map(function(h){return Ia(h)?h:h.startContainer}).bind(function(h){return lt(h)?E.some(h):E.from(h.parentElement)}).getOrThunk(function(){return Dv(u)});Av(u,v,a.get())})),c=t,f=n,l=r,d=o,m=i,g=(s=e).get(),nt(f.split(","),function(p){function v(){var y=dv(c);return fv(c,y,p,d,m).isSome()}var h,b=zt(g,p).getOrThunk(function(){var y={withSimilar:{state:se(!1),similar:!0,callbacks:[]},withoutSimilar:{state:se(!1),similar:!1,callbacks:[]},withVars:[]};return g[p]=y});Ce(m)?((h=d?b.withSimilar:b.withoutSimilar).callbacks.push(l),1===h.callbacks.length&&h.state.set(v())):b.withVars.push({state:se(v()),similar:d,vars:m,callback:l})}),s.set(g),{unbind:function(){var p,v=n,h=r,b=(p=e).get();nt(v.split(","),function(y){return zt(b,y).each(function(w){b[y]={withSimilar:ft(ft({},w.withSimilar),{callbacks:bt(w.withSimilar.callbacks,function(_){return _!==h})}),withoutSimilar:ft(ft({},w.withoutSimilar),{callbacks:bt(w.withoutSimilar.callbacks,function(_){return _!==h})}),withVars:bt(w.withVars,function(_){return _.callback!==h})}})}),p.set(b)}}}(t,e,n,r,o,i)}},editor:{getContent:function(e,n){return o=e,i=n,E.from((r=t).getBody()).fold(ot("tree"===o.format?new qe("body",11):""),function(a){return u=r,s=a,f=i,p=ft(ft({},c=o),{format:f,get:!0,getInner:!0}),h="raw"===(v=c.no_events?p:u.fire("BeforeGetContent",p)).format?U.trim(Ae(rh(s,u.serializer.getTempAttrs()).innerHTML)):"text"===v.format?u.dom.isEmpty(s)?"":Ae(s.innerText||s.textContent):"tree"===v.format?u.serializer.serialize(s,v):(d=(l=u).serializer.serialize(s,v),m=ae(l),g=new RegExp("^(<"+m+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+m+">[\r\n]*|<br \\/>[\r\n]*)$"),d.replace(g,"")),v.content=Yt(["text","tree"],v.format)||la(B.fromDom(s))?h:U.trim(h),(v.no_events?v:u.fire("GetContent",v)).content;var u,c,s,f,l,d,m,g,p,v,h});var r,o,i},setContent:function(e,n){return function dx(t,e,n){var r,o=(r=e,ft(ft({format:"html"},n),{set:!0,content:Cl(r)?"":r})),i=n.no_events?o:t.fire("BeforeSetContent",o);return Cl(e)||(e=i.content),E.from(t.getBody()).fold(ot(e),function(a){return Cl(e)?function(m,g,p,v){var h,b,y,w;h=m.parser.getNodeFilters(),b=m.parser.getAttributeFilters(),y=p,w=function(C,x){var S,R,O={},I={},L=[];for(S in y.firstChild&&Ll(y.firstChild,function(k){nt(C,function(D){D.name===k.name&&(O[D.name]?O[D.name].nodes.push(k):O[D.name]={filter:D,nodes:[k]})}),nt(x,function(D){"string"==typeof k.attr(D.name)&&(I[D.name]?I[D.name].nodes.push(k):I[D.name]={filter:D,nodes:[k]})})}),O)yt(O,S)&&L.push(O[S]);for(R in I)yt(I,R)&&L.push(I[R]);return L}(h,b),nt(w,function(C){nt(C.filter.callbacks,function(x){x(C.nodes,C.filter.name,{})})});var _=Ao({validate:m.validate},m.schema).serialize(p);return v.content=Ae(la(B.fromDom(g))?_:U.trim(_)),xl(m,v.content,v.no_selection),v.no_events||m.fire("SetContent",v),p}(t,a,e,i):(u=t,c=a,f=i,0===(s=Ae(s=e)).length||/^\s+$/.test(s)?(l='<br data-mce-bogus="1">',"TABLE"===c.nodeName?s="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(s="<li>"+l+"</li>"),s=(d=ae(u))&&u.schema.isValidChild(c.nodeName.toLowerCase(),d.toLowerCase())?(s=l,u.dom.createHTML(d,mi(u),s)):s||'<br data-mce-bogus="1">',xl(u,s,f.no_selection),u.fire("SetContent",f)):("raw"!==f.format&&(s=Ao({validate:u.validate},u.schema).serialize(u.parser.parse(s,{isRootContent:!0,insert:!0}))),f.content=la(B.fromDom(c))?s:U.trim(s),xl(u,f.content,f.no_selection),f.no_events||u.fire("SetContent",f)),f.content);var u,c,s,f,l,d})}(t,e,n)},insertContent:function(e,n){return fx(t,e,n)},addVisual:function(e){var n,r=e,o=(n=t).dom,i=Et(r)?r:n.getBody();Ce(n.hasVisual)&&(n.hasVisual=n.getParam("visual",!0,"boolean")),nt(o.select("table,a",i),function(a){switch(a.nodeName){case"TABLE":var u=n.getParam("visual_table_class","mce-item-table","string"),c=o.getAttrib(a,"border");c&&"0"!==c||!n.hasVisual?o.removeClass(a,u):o.addClass(a,u);break;case"A":var s,f;o.getAttrib(a,"href")||(s=o.getAttrib(a,"name")||a.id,f=n.getParam("visual_anchor_class","mce-item-anchor","string"),s&&n.hasVisual?o.addClass(a,f):o.removeClass(a,f))}}),n.fire("VisualAid",{element:r,hasVisual:n.hasVisual})}},selection:{getContent:function(e,n){return function(r,o,i){var a,u=(a=o,ft(ft({},i=void 0===i?{}:i),{format:a,get:!0,selection:!0})),c=r.fire("BeforeGetContent",u);if(c.isDefaultPrevented())return r.fire("GetContent",c),c.content;if("text"===c.format)return E.from((v=r).selection.getRng()).map(function(b){var y=E.from(v.dom.getParent(b.commonAncestorContainer,v.dom.isBlock)),w=v.getBody(),_=y.map(function(L){return L.nodeName}).getOr("div").toLowerCase(),C=mt.browser.isIE()&&"pre"!==_,x=v.dom.add(w,_,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},b.cloneContents()),S=yv(x,C),R=Ae(x.textContent);if(v.dom.remove(x),au(R,0)||au(R,R.length-1)){var O=yv(y.getOr(w),C),I=O.indexOf(S);return-1===I?S:(au(O,I-1)?" ":"")+S+(au(O,I+S.length)?" ":"")}return S}).getOr("");c.getInner=!0;var s,f,l,d,m,g,p,v,h=(f=c,l=(s=r).selection.getRng(),d=s.dom.create("body"),m=s.selection.getSel(),g=nl(s,Pc(m)),(p=f.contextual?function kx(t,e){var n,r,o,i,a,u,c,s=sp(e,t);return 0<s.length?function _x(t,e){return oa(e[0],"table",et(_t,t)).bind(function(n){var r,o,i=e[0],a=e[e.length-1],u=function Nx(t){var e=zl(ho(t),0,[]);return nt(be(t,"tr"),function(n,r){nt(be(n,"td,th"),function(o,i){!function(a,u,c,s,f){for(var l=gv(f,"rowspan"),d=gv(f,"colspan"),m=a.rows,g=c;g<c+l;g++){m[g]||(m[g]=mv(Km(s),[]));for(var p=u;p<u+d;p++)m[g].cells[p]=g===c&&p===u?f:ho(f)}}(e,function(a,u,c){for(;((f=a.rows)[c]?f[c].cells:[])[u];)u++;var f;return u}(e,i,r),r,n,o)})}),zl(e.element,pv(e.rows),e.rows)}(n);return o=a,hv(r=u,i).bind(function(c){return hv(r,o).map(function(s){return f=r,l=c.x,m=s.x,p=(d=c.y)<(g=s.y)?vv(f,l,d,m,g):vv(f,l,g,m,d),zl(f.element,pv(p),p);var f,l,d,m,g,p})}).map(function(c){return Ul([(f=At((s=c).rows,function(m){var g=At(m.cells,function(v){var h=Km(v);return kn(h,"colspan"),kn(h,"rowspan"),h}),p=ho(m.element);return Gi(p,g),p}),l=ho(s.element),Gi(d=B.fromTag("tbody"),f),ee(l,d),l)]);var s,f,l,d})}).getOrThunk(bv)}(t,s):(n=t,0<(r=e).length&&r[0].collapsed?bv():(o=n,a=B.fromDom((i=r[0]).cloneContents()),c=Ke(u=function Ex(t,e){var n,r,o,i=B.fromDom(e.commonAncestorContainer),a=On(i,t),u=bt(a,function(s){return Bs(s)||n1(s)}),c=(o=e,Gt(r=a,function(s){return"li"===Ht(s)&&Lc(s,o)}).fold(ot([]),function(s){return Gt(r,function(f){return"ul"===Ht(f)||"ol"===Ht(f)}).map(function(f){var l=B.fromTag(Ht(f));return function Wy(t,e){var n=t.dom;Bt(e,function(r,o){!function(i,a,u){if(!Lt(u))throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",u,":: Element ",i),new Error("CSS value must be a string: "+u);ea(i)&&i.style.setProperty(a,u)}(n,o,r)})}(l,Wo(qd(f),function(d,m){return mr(m,"list-style")})),[B.fromTag("li"),l]}).getOr([])}));return At(u.concat(c.length?c:ri(n=i)?Xe(n).filter(Vs).fold(ot([]),function(s){return[n,s]}):Vs(n)?[n]:[]),ho)}(o,i),function(f,l){return ee(l,f),l},a),0<u.length?Ul([c]):c))}(B.fromDom(s.getBody()),g).dom:l.cloneContents())&&d.appendChild(p),s.selection.serializer.serialize(d,f));return"tree"===c.format?h:(c.content=r.selection.isCollapsed()?"":h,r.fire("GetContent",c),c.content)}(t,e,n)}},raw:{getModel:function(){return E.none()}}}}function Bn(t){return yt(t.plugins,"rtc")}function $l(t){return t.rtcInstance||Sv(t)}function Ft(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")}function Nv(t){return 0===t.dom.length?(Vt(t),E.none()):E.some(t)}function Ev(t,e,n,r){t.bind(function(o){return(r?fl:tu)(o.dom,r?o.dom.length:0),e.filter(ze).map(function(i){var a=n,u=r,c=o.dom,s=i.dom,f=(u?c:s).length;u?(dl(c,s,!1,!u),a.setStart(s,f)):(dl(s,c,!1,!u),a.setEnd(s,f))})}).orThunk(function(){var o=r;return e.filter(function(i){return wi.isBookmarkNode(i.dom)}).bind(o?Go:gr).or(e).filter(ze).map(function(i){var a,u=r;Xe(a=i).each(function(c){var s=a.dom;u&&Qa(c,F(s,0))?tu(s,0):!u&&Za(c,F(s,s.length))&&fl(s,s.length)})})})}function _v(t,e,n){var r;t&&yt(t,e)&&(0===(r=bt(t[e],function(o){return o!==n})).length?delete t[e]:t[e]=r)}qh=function(t){var e,n=t.selection.getRng(),r=Ue(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),Qh(Jh(Jh(e,r),function(o){return r(o.previousSibling)&&-1!==od(e,o.previousSibling)}),function(o){var i,a=o.previousSibling;gt(i=o).remove(),gt(a).append("<br><br>").append(i.childNodes)}))},ou.pre||(ou.pre=[]),ou.pre.push(qh);var Wl=U.each,Kl=function(t,e,n){Wl(t.childNodes,function(r){Ml(r)&&(e(r)&&n(r),r.hasChildNodes()&&Kl(r,e,n))})},Di=Vn([{keep:[]},{rename:["name"]},{removed:[]}]),Rx=/^(src|href|style)$/,Xl=U.each,Po=Rc,kv=U.each,cu=U.each,Yl=function(t,e,n,r){function o(y,w){var _;Ot((w=void 0===w?d:w).onformat)&&w.onformat(y,w,n,r),cu(w.styles,function(C,x){g.setStyle(y,x,Rn(C,n))}),!w.styles||(_=g.getAttrib(y,"style"))&&g.setAttrib(y,"data-mce-style",_),cu(w.attributes,function(C,x){g.setAttrib(y,x,Rn(C,n))}),cu(w.classes,function(C){C=Rn(C,n),g.hasClass(y,C)||g.addClass(y,C)})}function i(y,w){var _=!1;return cu(y,function(C){return!!Se(C)&&(Et(C.collapsed)&&C.collapsed!==m||!g.is(w,C.selector)||vn(w)?void 0:(o(w,C),!(_=!0)))}),_}function a(y,w,_){var C=[],x=!0,S=d.inline||d.block,R=function(O){if(Lt(O)){var I=g.create(O);return o(I),I}return null}(S);Ci(y,w,function(O){var I,L=function(k){var D=!1,T=x,P=k.nodeName.toLowerCase(),q=k.parentNode,X=q.nodeName.toLowerCase();if(lt(k)&&y.getContentEditable(k)&&(T=x,x="true"===y.getContentEditable(k),D=!0),It(k)&&!function(W,G,K,Z){if(W.getParam("format_empty_lines",!1,"boolean")&&Kt(G)){var z=gm(W.schema),Q=($=B.fromDom(K),tt=function(N){return vn(N.dom)},((pt=(rt=$).dom).parentNode?function(t,e){return Gt(t.dom.childNodes,function(n){return N=B.fromDom(n),!_t(rt,N)&&tt(N);var N}).map(B.fromDom)}(B.fromDom(pt.parentNode)):E.none()).isSome());return Xr(z,Z)&&qt(B.fromDom(K.parentNode),!1)&&!Q}var $,rt,tt,pt}(t,d,k,X))return I=null,void(bn(d)&&y.remove(k));if(bn(d)&&d.wrapper&&wn(t,k,e,n))I=null;else{if(x&&!D&&bn(d)&&!d.wrapper&&Tc(t,P)&&So(t,X,S)){var j=y.rename(k,S);return o(j),C.push(j),void(I=null)}if(Se(d)){var Y=i(l,k);if(!Y&&Et(q)&&Bc(d)&&(Y=i(l,q)),!Kt(d)||Y)return void(I=null)}!x||D||!So(t,S,P)||!So(t,X,S)||!_&&it(k)&&fa(k.data)||vn(k)||Kt(d)&&y.isBlock(k)?(I=null,nt(un(k.childNodes),L),D&&(x=T),I=null):(I||(I=y.clone(R,!1),k.parentNode.insertBefore(I,k),C.push(I)),I.appendChild(k))}};nt(O,L)}),!0===d.links&&nt(C,function(O){var I=function(L){"A"===L.nodeName&&o(L,d),nt(un(L.childNodes),I)};I(O)}),nt(C,function(O){var I,L,k,D,T,q,X,j,Y,W,G,K,Z,z,Q,$,rt,tt=(I=0,nt(O.childNodes,function(N){var A;Et(A=N)&&it(A)&&0===A.length||Oe(N)||I++}),I);function pt(N){var A;1===N.nodeType&&N.parentNode&&1===N.parentNode.nodeType&&(A=ep(K,N.parentNode),K.getStyle(N,"color")&&A?K.setStyle(N,"text-decoration",A):K.getStyle(N,"text-decoration")===A&&K.setStyle(N,"text-decoration",null))}!(1<C.length)&&y.isBlock(O)||0!==tt?(Kt(d)||bn(d)&&d.wrapper)&&(d.exact||1!==tt||(O=Gt((G=O).childNodes,wx).filter(function(N){return Nl(y,N,d)}).map(function(N){var A=y.clone(N,!1);return o(A),y.replace(A,G,!0),y.remove(N,!0),A}).getOr(G)),Q=t,$=n,rt=O,kv(l,function(N){var A,M;Kt(N)&&kv(Q.dom.select(N.inline,rt),function(H){Ml(H)&&Bo(Q,N,$,H,N.exact?H:null)}),A=Q.dom,(M=N).clear_child_styles&&Wl(A.select(M.links?"*:not(a)":"*",rt),function(H){Ml(H)&&Wl(M.styles,function(J,at){A.setStyle(H,at,"")})})}),X=d,wn(q=t,(W=O).parentNode,j=e,Y=n)&&Bo(q,X,Y,W)||X.merge_with_parents&&q.dom.getParent(W.parentNode,function(N){if(wn(q,N,j,Y))return Bo(q,X,Y,W),!0}),(T=d).styles&&T.styles.backgroundColor&&Kl(O,nv(y,"fontSize"),rv(y,"backgroundColor",Rn(T.styles.backgroundColor,n))),K=y,z=O,(Z=d).styles&&(Z.styles.color||Z.styles.textDecoration)&&(U.walk(z,pt,"childNodes"),pt(z)),L=y,D=O,!Kt(k=d)||"sub"!==k.inline&&"sup"!==k.inline||(Kl(D,nv(L,"fontSize"),rv(L,"fontSize","")),L.remove(L.select("sup"===k.inline?"sub":"sup",D),!0)),ev(y,d,0,O)):y.remove(O,!0)})}var u,c,s,f,l=t.formatter.get(e),d=l[0],m=!r&&t.selection.isCollapsed(),g=t.dom,p=t.selection;if("false"!==g.getContentEditable(p.getNode()))d&&(r?Ia(r)?i(l,r)||((u=g.createRng()).setStartBefore(r),u.setEndAfter(r),a(g,No(t,u,l),!0)):a(g,r,!0):m&&Kt(d)&&!Eo(t).length?function(y,w,_){var C,x=y.selection,S=x.getRng(),R=S.startOffset,O=S.startContainer.nodeValue,I=Dr(y.getBody(),x.getStart());I&&(C=Hh(I));var L,k,D,T,P=/[^\s\u00a0\u00ad\u200b\ufeff]/;O&&0<R&&R<O.length&&P.test(O.charAt(R))&&P.test(O.charAt(R-1))?(L=x.getBookmark(),S.collapse(!0),k=$a(No(y,S,y.formatter.get(w))),y.formatter.apply(w,_,k),x.moveToBookmark(L)):(I&&C.nodeValue===Oo||(D=y.getDoc(),T=_l(!0).dom,C=(I=D.importNode(T,!0)).firstChild,S.insertNode(I),R=1),y.formatter.apply(w,_,I),x.setCursorLocation(C,R))}(t,e,n):(c=p.getNode(),s=l[0],t.settings.forced_root_block||!s.defaultBlock||g.getParent(c,g.isBlock)||Yl(t,s.defaultBlock),p.setRng(bl(p.getRng())),Fc(p,!0,function(){Mc(t,function(y,w){var _=w?y:No(t,y,l);a(g,_,!1)})}),tp(g,p,p.getRng()),t.nodeChanged()),f=t,Qh(ou[e],function(y){y(f)})),wp(t,e,r,n);else{r=p.getNode();for(var v=0,h=l.length;v<h;v++){var b=l[v];if(b.ceFalseOverride&&Se(b)&&g.is(r,b.selector)){o(r,b);break}}wp(t,e,r,n)}},Dv=function(t){return t.selection.getStart()},Av=function(t,e,n){var r=dv(t,e);Bt(n,function(o,i){function a(u){var c,s=fv(t,r,i,u.similar,lv(u)?u.vars:void 0),f=s.isSome();u.state.get()!==f&&(u.state.set(f),c=s.getOr(e),lv(u)?u.callback(f,{node:c,format:i,parents:r}):nt(u.callbacks,function(l){return l(f,{node:c,format:i,parents:r})}))}nt([o.withSimilar,o.withoutSimilar],a),nt(o.withVars,a)})},Ox=ds(function(){return document.implementation.createHTMLDocument("undo")});function Tv(t){return t.select}function Rv(t){return t&&t.ownerDocument&&zn(B.fromDom(t.ownerDocument),B.fromDom(t))}function Ov(t,e,n,r){function o(C,x){return function Tx(t,e,n){var r,o=(r=e,ft(ft({format:"html"},n=void 0===n?{}:n),{set:!0,selection:!0,content:r})),i=o;if(!o.no_events){var a=t.fire("BeforeSetContent",o);if(a.isDefaultPrevented())return void t.fire("SetContent",a);i=a}i.content=function(c,s){if("raw"===s.format)return s.content;var f=c.selection.getRng(),l=c.dom.getParent(f.commonAncestorContainer,c.dom.isBlock),d=l?{context:l.nodeName.toLowerCase()}:{},m=c.parser.parse(s.content,ft(ft({isRootContent:!0,forced_root_block:!1},d),s));return Ao({validate:c.validate},c.schema).serialize(m)}(t,i);var u=t.selection.getRng();(function(c,s){var f=E.from(s.firstChild).map(B.fromDom),l=E.from(s.lastChild).map(B.fromDom);c.deleteContents(),c.insertNode(s);var d=f.bind(gr).filter(ze).bind(Nv),m=l.bind(Go).filter(ze).bind(Nv);Ev(d,f,c,!0),Ev(m,l,c,!1),c.collapse(!1)})(u,u.createContextualFragment(i.content)),t.selection.setRng(u),Ei(t,u),i.no_events||t.fire("SetContent",i)}(r,C,x)}function i(){var C=u(),x=C?.anchorNode,S=C?.focusNode;if(!C||!x||!S||Qi(x)||Qi(S))return!0;var R=t.createRng();R.setStart(x,C.anchorOffset),R.collapse(!0);var O=t.createRng();return O.setStart(S,C.focusOffset),O.collapse(!0),R.compareBoundaryPoints(R.START_TO_START,O)<=0}function a(C){var x=p();x.collapse(!!C),v(x)}function u(){return e.getSelection?e.getSelection():e.document.selection}var c,s,f,l,d,m,g=function(C,x){return d||(d={},m={},l.on("NodeChange",function(S){var R=S.element,O=_(R),I={};U.each(d,function(L,k){w(k,O).each(function(D){m[k]||(nt(L,function(T){T(!0,{node:D,selector:k,parents:O})}),m[k]=L),I[k]=L})}),U.each(m,function(L,k){I[k]||(delete m[k],U.each(L,function(D){D(!1,{node:R,selector:k,parents:O})}))})})),d[C]||(d[C]=[]),d[C].push(x),w(C,_(l.selection.getStart())).each(function(){m[C]=d[C]}),{unbind:function(){_v(d,C,x),_v(m,C,x)}}},p=function(){function C(L,k,D){try{return k.compareBoundaryPoints(L,D)}catch{return-1}}var x,S,R,O=e.document;if(void 0!==r.bookmark&&!1===Ar(r)){var I=tl(r);if(I.isSome())return I.map(function(L){return nl(r,[L])[0]}).getOr(O.createRange())}try{(x=u())&&!Qi(x.anchorNode)&&(S=0<x.rangeCount?x.getRangeAt(0):(x.createRange?x:O).createRange(),S=nl(r,[S])[0])}catch{}return(S=S||(O.createRange?O.createRange():O.body.createTextRange())).setStart&&9===S.startContainer.nodeType&&S.collapsed&&(R=t.getRoot(),S.setStart(R,0),S.setEnd(R,0)),c&&s&&(0===C(S.START_TO_START,S,c)&&0===C(S.END_TO_END,S,c)?S=s:s=c=null),S},v=function(C,x){var S;if((R=C)&&(Tv(R)||Rv(R.startContainer)&&Rv(R.endContainer))){var R,O=Tv(C)?C:null;if(O){s=null;try{O.select()}catch{}}else{var I=u();if(C=r.fire("SetSelectionRange",{range:C,forward:x}).range,I){s=C;try{I.removeAllRanges(),I.addRange(C)}catch{}!1===x&&I.extend&&(I.collapse(C.endContainer,C.endOffset),I.extend(C.startContainer,C.startOffset)),c=0<I.rangeCount?I.getRangeAt(0):null}C.collapsed||C.startContainer!==C.endContainer||!I.setBaseAndExtent||mt.ie||C.endOffset-C.startOffset<2&&C.startContainer.hasChildNodes()&&(S=C.startContainer.childNodes[C.startOffset])&&"IMG"===S.tagName&&(I.setBaseAndExtent(C.startContainer,C.startOffset,C.endContainer,C.endOffset),I.anchorNode===C.startContainer&&I.focusNode===C.endContainer||I.setBaseAndExtent(S,0,S,1)),r.fire("AfterSetSelectionRange",{range:C,forward:x})}}},h={bookmarkManager:null,controlSelection:null,dom:f=t,win:e,serializer:n,editor:l=r,collapse:a,setCursorLocation:function(C,x){var S=t.createRng();Et(C)&&Et(x)?(S.setStart(C,x),S.setEnd(C,x),v(S),a(!1)):(Ic(t,S,r.getBody(),!0),v(S))},getContent:function(C){return S=(x=void 0===(x=C)?{}:x).format||"html",R=x,Ft(r).selection.getContent(S,R);var x,S,R},setContent:o,getBookmark:function(C,x){return b.getBookmark(C,x)},moveToBookmark:function(C){return b.moveToBookmark(C)},select:function(C,x){var S=t,R=x;return E.from(C).map(function(O){var I=S.nodeIndex(O),L=S.createRng();return L.setStart(O.parentNode,I),L.setEnd(O.parentNode,I+1),R&&(Ic(S,L,O,!0),Ic(S,L,O,!1)),L}).each(v),C},isCollapsed:function(){var C=p(),x=u();return!(!C||C.item)&&(C.compareEndPoints?0===C.compareEndPoints("StartToEnd",C):!x||C.collapsed)},isForward:i,setNode:function(C){return o(t.getOuterHTML(C)),C},getNode:function(){return function(C,x){if(!x)return C;var S=x.startContainer,R=x.endContainer,O=x.startOffset,I=x.endOffset,L=x.commonAncestorContainer;return!x.collapsed&&(S===R&&I-O<2&&S.hasChildNodes()&&(L=S.childNodes[O]),3===S.nodeType&&3===R.nodeType&&(S=S.length===O?Wp(S.nextSibling,!0):S.parentNode,R=0===I?Wp(R.previousSibling,!1):R.parentNode,S&&S===R))?S:L&&3===L.nodeType?L.parentNode:L}(r.getBody(),p())},getSel:u,setRng:v,getRng:p,getStart:function(C){return qp(r.getBody(),p(),C)},getEnd:function(C){return $p(r.getBody(),p(),C)},getSelectedBlocks:function(C,x){return function(S,R,O,I){var L=[],k=S.getRoot();if(O=S.getParent(O||qp(k,R,R.collapsed),S.isBlock),I=S.getParent(I||$p(k,R,R.collapsed),S.isBlock),O&&O!==k&&L.push(O),O&&I&&O!==I)for(var D,T=new jt(O,k);(D=T.next())&&D!==I;)S.isBlock(D)&&L.push(D);return I&&O!==I&&I!==k&&L.push(I),L}(t,p(),C,x)},normalize:function(){var C=p();if(1<Pc(u()).length||!za(r))return C;var x=ja(t,C);return x.each(function(S){v(S,i())}),x.getOr(C)},selectorChanged:function(C,x){return g(C,x),h},selectorChangedWithUnbind:g,getScrollContainer:function(){for(var C,x=t.getRoot();x&&"BODY"!==x.nodeName;){if(x.scrollHeight>x.clientHeight){C=x;break}x=x.parentNode}return C},scrollIntoView:function(C,x){Et(C)?(r.inline?_C:DC)(r,C,x):Ei(r,p(),x)},placeCaretAt:function(C,x){return v(Wc(C,x,r.getDoc()))},getBoundingClientRect:function(){var C=p();return C.collapsed?F.fromRangeStart(C).getClientRects()[0]:C.getBoundingClientRect()},destroy:function(){e=c=s=null,y.destroy()}},b=wi(h),y=Sp(h,r);function w(C,x){return Gt(x,function(S){return f.is(S,C)})}function _(C){return f.getParents(C,null,f.getRoot())}return h.bookmarkManager=b,h.controlSelection=y,h}function Gl(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return{type:e=r?r[1]:e,data:n[1]}}function Bv(t,e){var n;try{n=atob(e)}catch{return E.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return E.some(new Blob([r],{type:t}))}function Pv(t){return 0===t.indexOf("blob:")?(e=t,new ne(function(r,o){function i(){o("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}try{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(){200===a.status?r(a.response):i()},a.onerror=i,a.send()}catch{i()}})):0===t.indexOf("data:")?(n=t,new ne(function(r){var o=Gl(n);Bv(o.type,o.data).fold(function(){return r(new Blob([]))},r)})):null;var e,n}function Jl(t){return(t||"blobid")+Ix++}function Ql(t,e){return t.replace(e.re,function(n){return zt(e.uris,n).getOr(n)})}function Zl(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new qe("br",1)).shortEnded=!0:r.empty().append(new qe("#text",3)).value=xe}function Ai(t,e,n,r){return r.isEmpty(e,n,function(o){return(i=t.getElementRule(o.name))&&i.paddEmpty;var i})}var Ix=0,Lv=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Iv=U.each,Mx=U.trim,Fx="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Ux={ftp:21,http:80,https:443,mailto:25},zx=["img","video"],ir=(Ne.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return{type:e=r?r[1]:e,data:n[1]}},Ne.isDomSafe=function(t,e,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;var r,o,i,a,u=$n.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch{u=unescape(u)}return!(/((java|vb)script|mhtml):/i.test(u)||(o=u,i=e,!(r=n).allow_html_data_urls&&(/^data:image\//i.test(o)?(Et(a=r.allow_svg_data_urls)?!a:!Et(i)||!Yt(zx,i))&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o))))},Ne.getDocumentBaseUrl=function(t){var e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Ne.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Ne.prototype.toRelative=function(t){var e;if("./"===t)return t;var n=new Ne(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(e=this.toRelPath(this.path,n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),e)},Ne.prototype.toAbsolute=function(t,e){var n=new Ne(t,{base_uri:this});return n.getURI(e&&this.isSameOrigin(n))},Ne.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Ux[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},Ne.prototype.toRelPath=function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),u=e.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},Ne.prototype.toAbsPath=function(t,e){var n,r,o=0,i=[],a=/\/$/.test(e)?"/":"",u=t.split("/"),c=e.split("/");for(Iv(u,function(s){s&&i.push(s)}),u=i,n=c.length-1,i=[];0<=n;n--)0!==c[n].length&&"."!==c[n]&&(".."!==c[n]?0<o?o--:i.push(c[n]):o++);return 0!==(r=(n=u.length-o)<=0?$i(i).join("/"):u.slice(0,n).join("/")+"/"+$i(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},Ne.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(e+=this.protocol?this.protocol+"://":"//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},Ne);function Ne(t,e){t=Mx(t),this.settings=e||{};var n,r,o,i,a=this.settings.base_uri,u=this;/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?u.source=t:(n=0===t.indexOf("//"),0!==t.indexOf("/")||n||(t=(a&&a.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(r=this.settings.base_uri?this.settings.base_uri.path:new Ne(document.location.href).directory,t=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+u.toAbsPath(r,t):(o=/([^#?]*)([#?]?.*)/.exec(t),(a&&a.protocol||"http")+"://mce_host"+u.toAbsPath(r,o[1])+o[2])),t=t.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),Iv(Fx,function(c,s){var f=(f=i[s])&&f.replace(/\(mce_at\)/g,"@@");u[c]=f}),a&&(u.protocol||(u.protocol=a.protocol),u.userInfo||(u.userInfo=a.userInfo),u.port||"mce_host"!==u.host||(u.port=a.port),u.host&&"mce_host"!==u.host||(u.host=a.host),u.source=""),n&&(u.protocol=""))}function tf(t,e,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=t.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var c=r.exec(e);if(null===c)return u;if("!"===c[1]){u=mr(c[2],"--")?nf(e,!1,c.index+3):nf(e,!0,c.index+1);break}o.lastIndex=r.lastIndex;var s=o.exec(e);if(!jo(s)&&s.index===r.lastIndex){"/"===c[1]?--a:yt(i,c[2])||(a+=1),u=r.lastIndex+s[0].length;break}}return u}function ef(t,e){void 0===e&&(e=qn()),t=t||{};var n=Vx(),r=n.createElement("form");!1!==t.fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment||vt,a=t.cdata||vt,u=t.text||vt,c=t.start||vt,s=t.end||vt,f=t.pi||vt,l=t.doctype||vt;return{parse:function(d,m){void 0===m&&(m="html"),function o(d,m){void 0===m&&(m="html");for(var g,p,v,h,b,y,w,_,C,x,S,R,O,I,L,k,D,T,P,q=d.html,X=0,j=[],Y=0,W=$n.decode,G=U.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),K="html"===m?0:1,Z=function(dt){for(var st,xt=j.length;xt--&&j[xt].name!==dt;);if(0<=xt){for(st=j.length-1;xt<=st;st--)(dt=j[st]).valid&&s(dt.name);j.length=xt}},z=function(dt,st){return u(Ql(dt,d),st)},Q=function(dt){""!==dt&&(">"===dt.charAt(0)&&(dt=" "+dt),t.allow_conditional_comments||"[if"!==dt.substr(0,3).toLowerCase()||(dt=" "+dt),i(Ql(dt,d)))},$=function(dt,st){var xt=dt||"",Rt=!mr(xt,"--"),Xt=nf(q,Rt,st);return dt=q.substr(st,Xt-st),Q(Rt?xt+dt:dt),Xt+1},rt=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),tt=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,pt=e.getShortEndedElements(),N=t.self_closing_elements||e.getSelfClosingElements(),A=e.getBoolAttrs(),M=t.validate,V=t.remove_internals,H=t.fix_self_closing,J=e.getSpecialElements(),at=q+">";g=rt.exec(at);){var ct=g[0];if(X<g.index&&z(W(q.substr(X,g.index-X))),p=g[7])Z(p=":"===(p=p.toLowerCase()).charAt(0)?p.substr(1):p);else if(p=g[8]){if(g.index+ct.length>q.length){z(W(q.substr(g.index))),X=g.index+ct.length;continue}C=(p=":"===(p=p.toLowerCase()).charAt(0)?p.substr(1):p)in pt,H&&N[p]&&0<j.length&&j[j.length-1].name===p&&Z(p);var St=function(dt,st){var xt=dt.exec(st);if(xt){var Rt=xt[1],Xt=xt[2];return"string"==typeof Rt&&"data-mce-bogus"===Rt.toLowerCase()?Xt:null}return null}(tt,g[9]);if(null!==St){if("all"===St){X=tf(e,q,rt.lastIndex),rt.lastIndex=X;continue}S=!1}if(!M||(x=e.getElementRule(p))){if(S=!0,M&&(I=x.attributes,L=x.attributePatterns),(O=g[9])?((_=-1!==O.indexOf("data-mce-type"))&&V&&(S=!1),(h=[]).map={},O.replace(tt,function(dt,st,xt,Rt,Xt){return function(Zt,Mt,te,Fn,En){var zo;if(te=Ql((Mt=Mt.toLowerCase())in A?Mt:W(te||Fn||En||""),d),M&&!_&&0==(0===(zo=Mt).indexOf("data-")||0===zo.indexOf("aria-"))){var We=I[Mt];if(!We&&L){for(var qr=L.length;qr--&&!(We=L[qr]).pattern.test(Mt););-1===qr&&(We=null)}if(!We||We.validValues&&!(te in We.validValues))return}("name"===Mt||"id"===Mt)&&Zt in Hx&&(te in n||te in r)||G[Mt]&&!ir.isDomSafe(te,Zt,t)||_&&(Mt in G||0===Mt.indexOf("on"))||(h.map[Mt]=te,h.push({name:Mt,value:te}))}(p,st,xt,Rt,Xt),""})):(h=[]).map={},M&&!_){if(k=x.attributesRequired,D=x.attributesDefault,x.removeEmptyAttrs&&!h.length&&(S=!1),T=x.attributesForced)for(b=T.length;b--;)w=(R=T[b]).name,"{$uid}"===(P=R.value)&&(P="mce_"+Y++),h.map[w]=P,h.push({name:w,value:P});if(D)for(b=D.length;b--;)(w=(R=D[b]).name)in h.map||("{$uid}"===(P=R.value)&&(P="mce_"+Y++),h.map[w]=P,h.push({name:w,value:P}));if(k){for(b=k.length;b--&&!(k[b]in h.map););-1===b&&(S=!1)}if(R=h.map["data-mce-bogus"]){if("all"===R){X=tf(e,q,rt.lastIndex),rt.lastIndex=X;continue}S=!1}}S&&c(p,h,C)}else S=!1;if(v=J[p]){v.lastIndex=X=g.index+ct.length,X=(g=v.exec(q))?(S&&(y=q.substr(X,g.index-X)),g.index+g[0].length):(y=q.substr(X),q.length),S&&(0<y.length&&z(y,!0),s(p)),rt.lastIndex=X;continue}C||(O&&O.indexOf("/")===O.length-1?S&&s(p):j.push({name:p,valid:S}))}else if(p=g[1])Q(p);else if(p=g[2]){if(!(1==K||t.preserve_cdata||0<j.length&&e.isValidChild(j[j.length-1].name,"#cdata"))){X=$("",g.index+2),rt.lastIndex=X;continue}a(p)}else if(p=g[3])l(p);else{if((p=g[4])||"<!"===ct){X=$(p,g.index+ct.length),rt.lastIndex=X;continue}if(p=g[5]){if(1!=K){X=$("?",g.index+2),rt.lastIndex=X;continue}f(p,g[6])}}X=g.index+ct.length}for(X<q.length&&z(W(q.substr(X))),b=j.length-1;0<=b;b--)(p=j[b]).valid&&s(p.name)}(function(g){for(var p,v=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,h=[],b={},y=qm("img"),w=0,_=0;p=v.exec(g);){var C=p[0],x=y+"_"+_++;b[x]=C,w<p.index&&h.push(g.substr(w,p.index-w)),h.push(x),w=p.index+C.length}var S=new RegExp(y+"_[0-9]+","g");return 0===w?{prefix:y,uris:b,html:g,re:S}:(w<g.length&&h.push(g.substr(w)),{prefix:y,uris:b,html:h.join(""),re:S})}(d),m)}}}var Hx=U.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Vx=ds(function(){return document.implementation.createHTMLDocument("parser")}),nf=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(n))){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var c=a.exec(t);return c?c.index+c[0].length:r.length};function rf(t,e){void 0===e&&(e=qn());var n={},r=[],o={},i={};function a(c){var s=c.name;s in n&&((l=o[s])?l.push(c):o[s]=[c]);for(var f=r.length;f--;){var l,d=r[f].name;d in c.attributes.map&&((l=i[d])?l.push(c):i[d]=[c])}return c}(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var u={schema:e,addAttributeFilter:function(c,s){$v(Wv(c),function(f){for(var l=0;l<r.length;l++)if(r[l].name===f)return void r[l].callbacks.push(s);r.push({name:f,callbacks:[s]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(c,s){$v(Wv(c),function(f){var l=n[f];l||(n[f]=l=[]),l.push(s)})},getNodeFilters:function(){var c,s=[];for(c in n)yt(n,c)&&s.push({name:c,callbacks:n[c]});return s},filterNode:a,parse:function(c,s){var f,l,d,m,g,p,v,h,b=[];function y(Y){for(var W=e.getBlockElements(),G=Y.prev;G&&3===G.type;){var K=G.value.replace(D,"");if(0<K.length)return G.value=K,0;var Z=G.next;if(Z){if(3===Z.type&&Z.value.length){G=G.prev;continue}if(!W[Z.name]&&"script"!==Z.name&&"style"!==Z.name){G=G.prev;continue}}var z=G.prev;G.remove(),G=z}}function w(Y,W){var G,K=new qe(Y,W);return Y in n&&((G=o[Y])?G.push(K):o[Y]=[K]),K}s=s||{},o={},i={};var _=Xx(qv("script,style,head,html,body,title,meta,param"),e.getBlockElements()),C=gm(e),x=e.getNonEmptyElements(),S=e.children,R=t.validate,O=("forced_root_block"in s?s:t).forced_root_block,I=!1===O?"":!0===O?"p":O,L=e.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,T=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,q=yt(L,s.context)||yt(L,t.root_name),X=ef({validate:R,document:t.document,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(Y){var W,G={};for(W in Y)"li"!==W&&"p"!==W&&(G[W]=Y[W]);return G}(e.getSelfClosingElements()),cdata:function(Y){h.append(w("#cdata",4)).value=Y},text:function(Y,W){var G,K;q||(Y=Y.replace(T," "),(K=h.lastChild)&&(yt(_,K.name)||"br"===K.name)&&(Y=Y.replace(k,""))),0!==Y.length&&((G=w("#text",3)).raw=!!W,h.append(G).value=Y)},comment:function(Y){h.append(w("#comment",8)).value=Y},pi:function(Y,W){h.append(w(Y,7)).value=W,y(h)},doctype:function(Y){h.append(w("#doctype",10)).value=Y,y(h)},start:function(Y,W,G){var K=R?e.getElementRule(Y):{};if(K){var Z=w(K.outputName||Y,1);Z.attributes=W,Z.shortEnded=G,h.append(Z);var z=S[h.name];z&&S[Z.name]&&!z[Z.name]&&b.push(Z);for(var Q=r.length;Q--;){var $=r[Q].name;$ in W.map&&((p=i[$])?p.push(Z):i[$]=[Z])}_[Y]&&y(Z),G||(h=Z),!q&&L[Y]&&(q=!0)}},end:function(Y){var W,G,K,Z,z=R?e.getElementRule(Y):{};if(z){if(_[Y]&&!q){if((W=h.firstChild)&&3===W.type)if(0<(G=W.value.replace(k,"")).length)W.value=G,W=W.next;else for(K=W.next,W.remove(),W=K;W&&3===W.type;)K=W.next,0!==(G=W.value).length&&!P.test(G)||(W.remove(),W=K),W=K;if((W=h.lastChild)&&3===W.type)if(0<(G=W.value.replace(D,"")).length)W.value=G,W=W.prev;else for(K=W.prev,W.remove(),W=K;W&&3===W.type;)K=W.prev,0!==(G=W.value).length&&!P.test(G)||(W.remove(),W=K),W=K}q&&L[Y]&&(q=!1);var Q=Ai(e,x,L,h),$=h.parent;z.paddInEmptyBlock&&Q&&function(){for(var rt=h;Et(rt);){if(rt.name in C)return Ai(e,x,L,rt);rt=rt.parent}}()?Zl(t,s,_,h):z.removeEmpty&&Q?_[h.name]?h.empty().remove():h.unwrap():z.paddEmpty&&(Lv(Z=h,"#text")&&Z.firstChild.value===xe||Q)&&Zl(t,s,_,h),h=$}}},e),j=h=new qe(s.context||t.root_name,11);if(X.parse(c,s.format),R&&b.length&&(s.context?s.invalid=!0:function(Y){for(var W=qv("tr,td,th,tbody,thead,tfoot,table"),G=e.getNonEmptyElements(),K=e.getWhiteSpaceElements(),Z=e.getTextBlockElements(),z=e.getSpecialElements(),Q=function(ct,St){if(void 0===St&&(St=ct.parent),z[ct.name])ct.empty().remove();else{for(var dt=0,st=ct.children();dt<st.length;dt++){var xt=st[dt];e.isValidChild(St.name,xt.name)||Q(xt,St)}ct.unwrap()}},$=0;$<Y.length;$++){var rt,tt=Y[$],pt=void 0,N=void 0;if(tt.parent&&!tt.fixed)if(Z[tt.name]&&"li"===tt.parent.name){for(var A=tt.next;A&&Z[A.name];)A.name="li",A.fixed=!0,tt.parent.insert(A,tt.parent),A=A.next;tt.unwrap()}else{var M=[tt];for(pt=tt.parent;pt&&!e.isValidChild(pt.name,tt.name)&&!W[pt.name];pt=pt.parent)M.push(pt);if(pt&&1<M.length)if(e.isValidChild(pt.name,tt.name)){M.reverse();for(var V=rt=a(M[0].clone()),H=0;H<M.length-1;H++){e.isValidChild(V.name,M[H].name)?(N=a(M[H].clone()),V.append(N)):N=V;for(var J=M[H].firstChild;J&&J!==M[H+1];){var at=J.next;N.append(J),J=at}V=N}Ai(e,G,K,rt)?pt.insert(tt,M[0],!0):(pt.insert(rt,M[0],!0),pt.insert(tt,rt)),(Ai(e,G,K,pt=M[0])||Lv(pt,"br"))&&pt.empty().remove()}else Q(tt);else tt.parent&&("li"!==tt.name?e.isValidChild(tt.parent.name,"div")&&e.isValidChild("div",tt.name)?tt.wrap(a(new qe("div",1))):Q(tt):!(A=tt.prev)||"ul"!==A.name&&"ol"!==A.name?!(A=tt.next)||"ul"!==A.name&&"ol"!==A.name?tt.wrap(a(new qe("ul",1))):A.insert(tt,A.firstChild,!0):A.append(tt))}}}(b)),I&&("body"===j.name||s.isRootContent)&&function(){function Y(Z){Z&&((W=Z.firstChild)&&3===W.type&&(W.value=W.value.replace(k,"")),(W=Z.lastChild)&&3===W.type&&(W.value=W.value.replace(D,"")))}var W=j.firstChild,G=null;if(e.isValidChild(j.name,I.toLowerCase())){for(;W;){var K=W.next;3===W.type||1===W.type&&"p"!==W.name&&!_[W.name]&&!W.attr("data-mce-type")?(G||((G=w(I,1)).attr(t.forced_root_block_attrs),j.insert(G,W)),G.append(W)):(Y(G),G=null),W=K}Y(G)}}(),!s.invalid){for(v in o)if(yt(o,v)){for(p=n[v],m=(f=o[v]).length;m--;)f[m].parent||f.splice(m,1);for(l=0,d=p.length;l<d;l++)p[l](f,v,s)}for(l=0,d=r.length;l<d;l++)if((p=r[l]).name in i){for(m=(f=i[p.name]).length;m--;)f[m].parent||f.splice(m,1);for(m=0,g=p.callbacks.length;m<g;m++)p.callbacks[m](f,p.name,s)}}return j}};return function Lx(t,e){var r,o,i=t.schema;function a(u){var c,s,f=u.attr("src");(c=u).attr("src")===mt.transparentSrc||Et(c.attr("data-mce-placeholder"))||Et(u.attr("data-mce-bogus"))||((s=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(f))?E.some({type:s[1],data:decodeURIComponent(s[2])}):E.none()).filter(function(){return function(l,d){if(d.images_dataimg_filter){var m=new Image;return m.src=l.attr("src"),Bt(l.attributes.map,function(g,p){m.setAttribute(p,g)}),d.images_dataimg_filter(m)}return!0}(u,r)}).bind(function(l){var d=l.type,m=l.data;return E.from(o.getByData(m,d)).orThunk(function(){return Bv(d,m).map(function(g){var p=o.create(Jl(),g,m);return o.add(p),p})})}).each(function(l){u.attr("src",l.blobUri())})}e.remove_trailing_brs&&t.addNodeFilter("br",function(u,c,s){var f,l,d,m,g,p,v,h,b=u.length,y=U.extend({},i.getBlockElements()),w=i.getNonEmptyElements(),_=i.getWhiteSpaceElements();for(y.body=1,f=0;f<b;f++)if(d=(l=u[f]).parent,y[l.parent.name]&&l===d.lastChild){for(g=l.prev;g;){if("span"!==(p=g.name)||"bookmark"!==g.attr("data-mce-type")){"br"===p&&(l=null);break}g=g.prev}l&&(l.remove(),Ai(i,w,_,d)&&(v=i.getElementRule(d.name))&&(v.removeEmpty?d.remove():v.paddEmpty&&Zl(e,s,y,d)))}else{for(m=l;d&&d.firstChild===m&&d.lastChild===m&&!y[(m=d).name];)d=d.parent;m===d&&!0!==e.padd_empty_with_br&&((h=new qe("#text",3)).value=xe,l.replace(h))}}),t.addAttributeFilter("href",function(u){var c,s,f=u.length;if(!e.allow_unsafe_link_target)for(;f--;){var l=u[f];"a"===l.name&&"_blank"===l.attr("target")&&l.attr("rel",(s=void 0,s=(c=l.attr("rel"))?U.trim(c):"",/\b(noopener)\b/g.test(s)?s:s.split(" ").filter(function(d){return 0<d.length}).concat(["noopener"]).sort().join(" ")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(u){for(var c,s,f,l,d=u.length;d--;)if("a"===(l=u[d]).name&&l.firstChild&&!l.attr("href"))for(f=l.parent,c=l.lastChild;s=c.prev,f.insert(c,l),c=s;);}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(u){for(var c,s,f,l=u.length;l--;)"ul"!==(f=(s=u[l]).parent).name&&"ol"!==f.name||(s.prev&&"li"===s.prev.name?s.prev.append(s):((c=new qe("li",1)).attr("style","list-style-type: none"),s.wrap(c)))}),e.validate&&i.getValidClasses()&&t.addAttributeFilter("class",function(u){for(var c=i.getValidClasses(),s=u.length;s--;){for(var f=u[s],l=f.attr("class").split(" "),d="",m=0;m<l.length;m++){var g=l[m],p=!1,v=c["*"];v&&v[g]&&(p=!0),v=c[f.name],(p=!(p||!v||!v[g])||p)&&(d&&(d+=" "),d+=g)}d.length||(d=null),f.attr("class",d)}}),(o=(r=e).blob_cache)&&t.addAttributeFilter("src",function(u){return nt(u,a)})}(u,t),t.inline_styles&&function Bx(t,e){var n,r,o,i,a=Us();e.convert_fonts_to_spans&&(r=t,o=a,i=U.explode(e.font_size_legacy_values),r.addNodeFilter("font",function(u){nt(u,function(c){var s,f=o.parse(c.attr("style")),l=c.attr("color"),d=c.attr("face"),m=c.attr("size");l&&(f.color=l),d&&(f["font-family"]=d),m&&(f["font-size"]=i[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",o.serialize(f)),s=c,nt(["color","face","size"],function(g){s.attr(g,null)})})})),n=a,t.addNodeFilter("strike",function(u){nt(u,function(c){var s=n.parse(c.attr("style"));s["text-decoration"]="line-through",c.name="span",c.attr("style",n.serialize(s))})})}(u,t),u}function jx(t,e,n){-1===U.inArray(e,n)&&(t.addAttributeFilter(n,function(r,o){for(var i=r.length;i--;)r[i].attr(o,null)}),e.push(n))}function Mv(t,e){var n=function qx(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Nt.DOM,o=e&&e.schema?e.schema:qn(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i,a=rf(t,o),u=t,c=r;return(i=a).addAttributeFilter("data-mce-tabindex",function(s,f){for(var l=s.length;l--;){var d=s[l];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(f,null)}}),i.addAttributeFilter("src,href,style",function(s,f){for(var l="data-mce-"+f,d=u.url_converter,m=u.url_converter_scope,g=s.length;g--;){var p=s[g],v=p.attr(l);void 0!==v?(p.attr(f,0<v.length?v:null),p.attr(l,null)):(v=p.attr(f),"style"===f?v=c.serializeStyle(c.parseStyle(v),p.name):d&&(v=d.call(m,v,f,p.name)),p.attr(f,0<v.length?v:null))}}),i.addAttributeFilter("class",function(s){for(var f=s.length;f--;){var l,d=s[f];d.attr("class")&&(l=d.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),d.attr("class",0<l.length?l:null))}}),i.addAttributeFilter("data-mce-type",function(s,f,l){for(var d=s.length;d--;){var m=s[d];"bookmark"!==m.attr("data-mce-type")||l.cleanup||(E.from(m.firstChild).exists(function(g){return!fa(g.value)})?m.unwrap():m.remove())}}),i.addNodeFilter("noscript",function(s){for(var f=s.length;f--;){var l=s[f].firstChild;l&&(l.value=$n.decode(l.value))}}),i.addNodeFilter("script,style",function(s,f){for(var l=function(v){return v.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},d=s.length;d--;){var m,g=s[d],p=g.firstChild?g.firstChild.value:"";"script"===f?((m=g.attr("type"))&&g.attr("type","mce-no/type"===m?null:m.replace(/^mce\-/,"")),"xhtml"===u.element_format&&0<p.length&&(g.firstChild.value="// <![CDATA[\n"+l(p)+"\n// ]]>")):"xhtml"===u.element_format&&0<p.length&&(g.firstChild.value="\x3c!--\n"+l(p)+"\n--\x3e")}}),i.addNodeFilter("#comment",function(s){for(var f=s.length;f--;){var l=s[f];u.preserve_cdata&&0===l.value.indexOf("[CDATA[")?(l.name="#cdata",l.type=4,l.value=c.decode(l.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===l.value.indexOf("mce:protected ")&&(l.name="#text",l.type=3,l.raw=!0,l.value=unescape(l.value).substr(14))}}),i.addNodeFilter("xml:namespace,input",function(s,f){for(var l=s.length;l--;){var d=s[l];7===d.type?d.remove():1===d.type&&("input"!==f||d.attr("type")||d.attr("type","text"))}}),i.addAttributeFilter("data-mce-type",function(s){nt(s,function(f){"format-caret"===f.attr("data-mce-type")&&(f.isEmpty(i.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(s,f){for(var l=s.length;l--;)s[l].attr(f,null)}),{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(s,f){var l,d,m,g,p,v,h,b,y,w,_,C,x,S,R,O,I,L,k,D,T,P,q,X,j,Y,W,G,K,Z=ft({format:"html"},f=void 0===f?{}:f),z=(C=s,q=x=Z,l=(_=e)&&_.hasEventListeners("PreProcess")&&!q.no_events?(R=x,D=(S=_).dom,T=C.cloneNode(!0),(P=document.implementation).createHTMLDocument&&(I=P.createHTMLDocument(""),U.each("BODY"===T.nodeName?T.childNodes:[T],function(rt){I.body.appendChild(I.importNode(rt,!0))}),T="BODY"!==T.nodeName?I.body.firstChild:I.body,O=D.doc,D.doc=I),L=S,k=ft(ft({},R),{node:T}),L.fire("PreProcess",k),O&&(D.doc=O),T):C,m=Ae((d=Z).getInner?l.innerHTML:r.getOuterHTML(l)),d.selection||la(B.fromDom(l))?m:U.trim(m)),Q=(g=a,p=z,h=(v=Z).selection?ft({forced_root_block:!1},v):v,!$(w=(b=g.parse(p,h)).lastChild)||$(y=w.prev)&&(w.remove(),y.remove()),b);function $(rt){return rt&&"br"===rt.name}return"tree"===Z.format?Q:(X=e,j=Z,Y=Q,K=Ao(t,o).serialize(Y),j.no_events||!X?K:(W=X,G=ft(ft({},j),{content:K}),W.fire("PostProcess",G).content))},addRules:o.addValidElements,setRules:o.setValidElements,addTempAttr:et(jx,a,n),getTempAttrs:ot(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}}function of(t,e,n){return r=n=void 0===n?{}:n,$l(t).editor.setContent(e,r);var r}function lu(t){return E.from(t).each(function(e){return e.destroy()})}function Ti(t){var e=Me(t)?t.join(" "):t;return bt(At(Lt(e)?e.split(" "):[],ps),function(n){return 0<n.length})}function fu(t,e){return yt(t.sections(),e)}function Fv(t,e){return zt(t,"toolbar_mode").orThunk(function(){return zt(t,"toolbar_drawer").map(function(n){return!1===n?"wrap":n})}).getOr(e)}function Or(t,e,n){return E.from(e.settings[n]).filter(t)}function Uv(t,e){return e.dom[t]}function zv(t,e){return parseInt(Dn(e,t),10)}function Hv(t,e,n){var r,o,i,a,u,c,s=B.fromDom(t.getBody()),f=t.inline?s:B.fromDom(Qr(s).dom.documentElement),l=(r=t.inline,i=e,a=n,u=(o=f).dom.getBoundingClientRect(),{x:i-(r?u.left+o.dom.clientLeft+ow(o):0),y:a-(r?u.top+o.dom.clientTop+rw(o):0)}),d=l.x,m=l.y,g=ew(c=f),p=nw(c);return 0<=d&&0<=m&&d<=g&&m<=p}function Vv(t){function e(){var s=t.theme;return s&&s.getNotificationManagerImpl?s.getNotificationManagerImpl():{open:f,close:f,reposition:f,getArgs:f};function f(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function n(){return E.from(u[0])}function r(){0<u.length&&e().reposition(u)}function o(s){qi(u,function(f){return f===s}).each(function(f){u.splice(f,1)})}function i(s,f){if(void 0===f&&(f=!0),!t.removed&&(d=(l=t).inline?l.getBody():l.getContentAreaContainer(),E.from(d).map(B.fromDom).map(Zo).getOr(!1)))return f&&t.fire("BeforeOpenNotification",{notification:s}),Gt(u,function(m){return!((g=e().getArgs(m)).type!==s.type||g.text!==s.text||g.progressBar||g.timeout||s.progressBar||s.timeout);var g}).getOrThunk(function(){t.editorManager.setActive(t);var m=e().open(s,function(){o(m),r(),n().fold(function(){return t.focus()},function(g){return B.fromDom(g.getEl()).dom.focus()})});return u.push(m),r(),t.fire("OpenNotification",{notification:ft({},m)}),m});var l,d}var a,u=[],c=ot(u);return(a=t).on("SkinLoaded",function(){var s=a.getParam("service_message");s&&i({text:s,type:"warning",timeout:0},!1),r()}),a.on("show ResizeEditor ResizeWindow NodeChange",function(){re.requestAnimationFrame(r)}),a.on("remove",function(){nt(u.slice(),function(s){e().close(s)})}),{open:i,close:function(){n().each(function(s){e().close(s),o(s),r()})},getNotifications:c}}ef.findEndTag=tf;var jv,du,qv=U.makeMap,$v=U.each,Wv=U.explode,Xx=U.extend,mu=Nt.DOM,Kv=(jv=function(t,e){return Wr(t)&&Wr(e)?Kv(t,e):e},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var o,i=t[r];for(o in i)yt(i,o)&&(n[o]=jv(n[o],i[o]))}return n}),Yx="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),Gx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Jx="imagetools,toc".split(","),af=Fe().deviceType,Qx=af.isTouch(),Xv=af.isPhone(),Zx=af.isTablet(),tw=["lists","autolink","autosave"],Yv={table_grid:!1,object_resizing:!1,resize:!1},gu=(du={},{add:function(t,e){du[t]=e},get:function(t){return du[t]||{icons:{}}},has:function(t){return yt(du,t)}}),ew=et(Uv,"clientWidth"),nw=et(Uv,"clientHeight"),rw=et(zv,"margin-top"),ow=et(zv,"margin-left"),rn=we.PluginManager,ar=we.ThemeManager;function Gv(t){function e(){var a=t.theme;return a&&a.getWindowManagerImpl?a.getWindowManagerImpl():{open:u,openUrl:u,alert:u,confirm:u,close:u,getParams:u,setParams:u};function u(){throw new Error("Theme did not provide a WindowManager implementation.")}}function n(a,u){return function(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];return u?u.apply(a,c):void 0}}function r(a){t.fire("CloseWindow",{dialog:a}),0===(i=bt(i,function(u){return u!==a})).length&&t.focus()}function o(a){t.editorManager.setActive(t),Ka(t);var u,c=a();return i.push(u=c),t.fire("OpenWindow",{dialog:u}),c}var i=[];return t.on("remove",function(){nt(i,function(a){e().close(a)})}),{open:function(a,u){return o(function(){return e().open(a,u,r)})},openUrl:function(a){return o(function(){return e().openUrl(a,r)})},alert:function(a,u,c){var s=e();s.alert(a,n(c||s,u))},confirm:function(a,u,c){var s=e();s.confirm(a,n(c||s,u))},close:function(){E.from(i[i.length-1]).each(function(a){e().close(a),r(a)})}}}function Jv(t,e){t.notificationManager.open({type:"error",text:e})}function pu(t,e){t._skinLoaded?Jv(t,e):t.on("SkinLoaded",function(){Jv(t,e)})}function uf(t,e,n){xp(t,e,{message:n}),console.error(n)}function sf(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e}function cf(t,e,n){uf(t,"PluginLoadError",sf("plugin",e,n))}function Qv(){function t(r,o){return{status:r,resultUri:o}}function e(r){return r in n}var n={};return{hasBlobUri:e,getResultUri:function(r){var o=n[r];return o?o.resultUri:null},isPending:function(r){return!!e(r)&&1===n[r].status},isUploaded:function(r){return!!e(r)&&2===n[r].status},markPending:function(r){n[r]=t(1,null)},markUploaded:function(r,o){n[r]=t(2,o)},removeFailed:function(r){delete n[r]},destroy:function(){n={}}}}function Zv(t){return t+Dw+++"s"+(new Date).getTime().toString(36)+e()+e()+e();function e(){return Math.round(4294967295*Math.random()).toString(36)}}function t0(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function e0(t,e){return function uw(t,e){function n(u,c,s,f){var l=new XMLHttpRequest;l.open("POST",e.url),l.withCredentials=e.credentials,l.upload.onprogress=function(m){f(m.loaded/m.total*100)},l.onerror=function(){s("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=function(){var m,g,p;l.status<200||300<=l.status?s("HTTP Error: "+l.status):(m=JSON.parse(l.responseText))&&"string"==typeof m.location?c((p=m.location,(g=e.basePath)?g.replace(/\/$/,"")+"/"+p.replace(/^\//,""):p)):s("Invalid JSON: "+l.responseText)};var d=new FormData;d.append("file",u.blob(),u.filename()),l.send(d)}function r(u,c){return{url:c,blobInfo:u,status:!0}}function o(u,c,s){return{url:"",blobInfo:u,status:!1,error:{message:c,options:s}}}function i(u,c){U.each(a[u],function(s){s(c)}),delete a[u]}var a={};return!1===Ot(e.handler)&&(e.handler=n),{upload:function(u,c){return e.url||e.handler!==n?(f=c,s=U.grep(u,function(l){return!t.isUploaded(l.blobUri())}),ne.all(U.map(s,function(l){return t.isPending(l.blobUri())?(p=l.blobUri(),new ne(function(v){a[p]=a[p]||[],a[p].push(v)})):(m=e.handler,g=f,t.markPending((d=l).blobUri()),new ne(function(v){var h;try{var b=function(){h&&h.close()};m(d,function(y){b(),t.markUploaded(d.blobUri(),y),i(d.blobUri(),r(d,y)),v(r(d,y))},function(y,w){var _=w||{};b(),t.removeFailed(d.blobUri()),i(d.blobUri(),o(d,y,_)),v(o(d,y,_))},function(y){y<0||100<y||E.from(h).orThunk(function(){return E.from(g).map(Ay)}).each(function(w){(h=w).progressBar.value(y)})})}catch(y){v(o(d,y.message,{}))}}));var d,m,g,p}))):new ne(function(l){l([])});var s,f}}}(e,{url:t.getParam("images_upload_url","","string"),basePath:t.getParam("images_upload_base_path","","string"),credentials:t.getParam("images_upload_credentials",!1,"boolean"),handler:t.getParam("images_upload_handler",null,"function")})}function n0(t,e){function n(c){var s,f=le.create((o="string"==typeof c?{name:c,classes:[],attrs:{}}:c).name),l=f;return(s=o).classes.length&&le.addClass(l,s.classes.join(" ")),le.setAttribs(l,s.attrs),f}var r,o,i,a=e&&e.schema||qn({}),u=function(c,s,f){var l,d,m,g,p,v,h,b=0<s.length&&s[0],y=b&&b.name,w=(g=y,p="string"!=typeof(m=c)?m.nodeName.toLowerCase():m,!(!(h=(v=a.getElementRule(p))&&v.parentsRequired)||!h.length)&&(g&&-1!==U.inArray(h,g)?g:h[0]));if(w)y===w?(d=s[0],s=s.slice(1)):d=w;else if(b)d=s[0],s=s.slice(1);else if(!f)return c;return d&&(l=n(d)).appendChild(c),f&&(l||(l=le.create("div")).appendChild(c),U.each(f,function(_){var C=n(_);l.insertBefore(C,c)})),u(l,s,d&&d.siblings)};return t&&t.length?(r=n(o=t[0]),(i=le.create("div")).appendChild(u(r,t.slice(1),o.siblings)),i):""}function cw(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=U.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(r,o,i,a,u){switch(o){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==U.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}var c;return"["!==a||(c=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(n.attrs[c[1]]=c[2]),""})),n.name=e||"div",n}function lw(t,e){var n,r,o="",i=(r=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Lt(r)?r:"");if(""===i)return"";function a(m){return m.replace(/%(\w+)/g,"")}if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}if("preview"in e){var u=zt(e,"preview");if(ta(u,!1))return"";i=u.getOr(i)}var c,s=e.block||e.inline||"span",f=(c=e.selector)&&"string"==typeof c?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),U.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),function(m){var g=U.map(m.split(/(?:~\+|~|\+)/),cw),p=g.pop();return g.length&&(p.siblings=g),p}).reverse()):[],l=f.length?(f[0].name||(f[0].name=s),s=e.selector,n0(f,t)):n0([s],t),d=le.select(s,l)[0]||l.firstChild;return Eu(e.styles,function(m,g){var p=a(m);p&&le.setStyle(d,g,p)}),Eu(e.attributes,function(m,g){var p=a(m);p&&le.setAttrib(d,g,p)}),Eu(e.classes,function(m){var g=a(m);le.hasClass(d,g)||le.addClass(d,g)}),t.fire("PreviewFormats"),le.setStyles(l,{position:"absolute",left:-65535}),t.getBody().appendChild(l),n=le.getStyle(t.getBody(),"fontSize",!0),n=/px$/.test(n)?parseInt(n,10):0,Eu(i.split(" "),function(m){var g=le.getStyle(d,m,!0);if(!("background-color"===m&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(g)&&(g=le.getStyle(t.getBody(),m,!0),"#ffffff"===le.toHex(g).toLowerCase())||"color"===m&&"#000000"===le.toHex(g).toLowerCase())){if("font-size"===m&&/em|%$/.test(g)){if(0===n)return;g=parseFloat(g)/(/%$/.test(g)?100:1)*n+"px"}"border"===m&&g&&(o+="padding:0 2px;"),o+=m+":"+g+";"}}),t.fire("AfterPreviewFormats"),le.remove(l),o}function r0(t){var e,n,r,o,i,a,u=(o={},(i=function(s,f){s&&(Lt(s)?(nt(f=Me(f)?f:[f],function(l){Ce(l.deep)&&(l.deep=!Se(l)),Ce(l.split)&&(l.split=!Se(l)||Kt(l)),Ce(l.remove)&&Se(l)&&!Kt(l)&&(l.remove="none"),Se(l)&&Kt(l)&&(l.mixed=!0,l.block_expand=!0),Lt(l.classes)&&(l.classes=l.classes.split(/\s+/))}),o[s]=f):Bt(s,function(l,d){i(d,l)}))})((n=(e=t).dom,r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(s,f,l){return lt(s)&&s.hasAttribute("href")},onformat:function(s,f,l){U.each(l,function(d,m){n.setAttrib(s,m,d)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(s){var f;return null!==(f=s?.customValue)&&void 0!==f?f:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},U.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(s){r[s]={block:s,remove:"all"}}),r)),i(e.getParam("formats")),{get:function(s){return Et(s)?o[s]:o},has:function(s){return yt(o,s)},register:i,unregister:function(s){return s&&o[s]&&delete o[s],o}}),c=se(null);return function(s){s.addShortcut("meta+b","","Bold"),s.addShortcut("meta+i","","Italic"),s.addShortcut("meta+u","","Underline");for(var f=1;f<=6;f++)s.addShortcut("access+"+f,"",["FormatBlock",!1,"h"+f]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),(a=t).on("mouseup keydown",function(s){var f=a,l=s.keyCode,d=f.selection,m=f.getBody();Dl(f,null,!1),8!==l&&46!==l||!d.isCollapsed()||d.getStart().innerHTML!==Oo||Dl(f,Dr(m,d.getStart())),37!==l&&39!==l||Dl(f,Dr(m,d.getStart()))}),{get:u.get,has:u.has,register:u.register,unregister:u.unregister,apply:function(s,f,l){var d=s,m=f,g=l;Ft(t).formatter.apply(d,m,g)},remove:function(s,f,l,d){var m=s,g=f,p=l,v=d;Ft(t).formatter.remove(m,g,p,v)},toggle:function(s,f,l){var d=s,m=f,g=l;Ft(t).formatter.toggle(d,m,g)},match:function(s,f,l,d){return m=s,g=f,p=l,v=d,Ft(t).formatter.match(m,g,p,v);var m,g,p,v},closest:function(s){return f=s,Ft(t).formatter.closest(f);var f},matchAll:function(s,f){return l=s,d=f,Ft(t).formatter.matchAll(l,d);var l,d},matchNode:function(s,f,l,d){return m=s,g=f,p=l,v=d,Ft(t).formatter.matchNode(m,g,p,v);var m,g,p,v},canApply:function(s){return f=s,Ft(t).formatter.canApply(f);var f},formatChanged:function(s,f,l,d){return m=c,g=s,p=f,v=l,h=d,Ft(t).formatter.formatChanged(m,g,p,v,h);var m,g,p,v,h},getCssText:et(lw,t)}}function o0(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function i0(t){var e,n,r,o,i,a=po(),u=se(0),c=se(0),s={data:[],typing:!1,beforeChange:function(){var l=u,d=a;Ft(t).undoManager.beforeChange(l,d)},add:function(l,d){return m=s,g=c,p=u,v=a,h=l,b=d,Ft(t).undoManager.add(m,g,p,v,h,b);var m,g,p,v,h,b},undo:function(){return l=s,d=u,m=c,Ft(t).undoManager.undo(l,d,m);var l,d,m},redo:function(){return l=c,d=s.data,Ft(t).undoManager.redo(l,d);var l,d},clear:function(){var l=s,d=c;Ft(t).undoManager.clear(l,d)},reset:function(){var l=s;Ft(t).undoManager.reset(l)},hasUndo:function(){return l=s,d=c,Ft(t).undoManager.hasUndo(l,d);var l,d},hasRedo:function(){return l=s,d=c,Ft(t).undoManager.hasRedo(l,d);var l,d},transact:function(l){return d=s,m=u,g=l,Ft(t).undoManager.transact(d,m,g);var d,m,g},ignore:function(l){var d=u,m=l;Ft(t).undoManager.ignore(d,m)},extra:function(l,d){var m=s,g=c,p=l,v=d;Ft(t).undoManager.extra(m,g,p,v)}};return Bn(t)||(r=s,o=u,i=se(!1),(n=t).on("init",function(){r.add()}),n.on("BeforeExecCommand",function(l){o0(l.command)||(wv(r,o),r.beforeChange())}),n.on("ExecCommand",function(l){o0(l.command)||f(l)}),n.on("ObjectResizeStart cut",function(){r.beforeChange()}),n.on("SaveContent ObjectResized blur",f),n.on("dragend",f),n.on("keyup",function(l){var d=l.keyCode;l.isDefaultPrevented()||((33<=d&&d<=36||37<=d&&d<=40||45===d||l.ctrlKey)&&(f(),n.nodeChanged()),46!==d&&8!==d||n.nodeChanged(),i.get()&&r.typing&&!1===uu(Hl(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:r.data[0],lastLevel:null})),n.fire("TypingUndo"),i.set(!1),n.nodeChanged()))}),n.on("keydown",function(l){var m=l.keyCode;l.isDefaultPrevented()||(33<=m&&m<=36||37<=m&&m<=40||45===m?r.typing&&f(l):!(m<16||20<m)||224===m||91===m||r.typing||l.ctrlKey&&!l.altKey||l.metaKey||(r.beforeChange(),su(r,!0,o),r.add({},l),i.set(!0)))}),n.on("mousedown",function(l){r.typing&&f(l)}),n.on("input",function(l){l.inputType&&("insertReplacementText"===l.inputType||"insertText"===l.inputType&&null===l.data||"insertFromPaste"===l.inputType||"insertFromDrop"===l.inputType)&&f(l)}),n.on("AddUndo Undo Redo ClearUndos",function(l){l.isDefaultPrevented()||n.nodeChanged()})),(e=t).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),s;function f(l){su(r,!1,o),r.add({},l)}}function a0(t){return"keydown"===t.type||"keyup"===t.type}function u0(t){var e=t.keyCode;return e===ut.BACKSPACE||e===ut.DELETE}function Br(t,e){return Jr(B.fromDom(e),t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function ur(t,e,n){var r,o,i=(r=t,o=e,bt(Nt.DOM.getParents(n.container(),"*",o),r));return E.from(i[i.length-1])}function Pe(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?io(n)?it(n.nextSibling)?F(n.nextSibling,0):F.after(n):Ps(e)?F(n,r+1):e:io(n)?it(n.previousSibling)?F(n.previousSibling,n.previousSibling.data.length):F.before(n):Ls(e)?F(n,r-1):e}function fw(t){return vm(t)||ri(t)}function hu(t,e){return zn(t,e)?ra(e,fw,(n=t,function(r){return _t(n,B.fromDom(r.dom.parentNode))})):E.none();var n}function s0(t){var e,n,r;t.dom.isEmpty(t.getBody())&&(t.setContent(""),r=(n=(e=t).getBody()).firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n,e.selection.setCursorLocation(r,0))}function dw(t,e){return{from:t,to:e}}function lf(t,e){return hu(B.fromDom(t),B.fromDom(e.container())).map(function(n){return{block:n,position:e}})}function c0(t){var e,n=qi(e=He(t),dn).fold(ot(e),function(r){return e.slice(0,r)});return nt(n,Vt),n}function l0(t,e){return Gt(On(e,t).reverse(),function(n){return qt(n)}).each(Vt)}function mw(t,e,n,r){if(qt(n))return Tr(n),ge(n.dom);0===bt(Dd(r),function(i){return!qt(i)}).length&&qt(e)&&Ye(r,B.fromTag("br"));var o=Cn(n.dom,F.before(r.dom));return nt(c0(e),function(i){Ye(r,i)}),l0(t,e),o}function gw(t,e,n){if(qt(n))return Vt(n),qt(e)&&Tr(e),ge(e.dom);var r=xn(n.dom);return nt(c0(e),function(o){ee(n,o)}),l0(t,e),r}function f0(t,e){xo(t,e.dom).map(function(n){return n.getNode()}).map(B.fromDom).filter(ro).each(Vt)}function d0(t,e,n){return f0(!0,e),f0(!1,n),(zn(o=n,r=e)?(i=On(r,o),E.from(i[i.length-1])):E.none()).fold(et(gw,t,e,n),et(mw,t,e,n));var r,o,i}function m0(t,e,n,r){return e?d0(t,r,n):d0(t,n,r)}function vu(t,e){var n,r,o,i,a,u,c,s=B.fromDom(t.getBody()),f=(n=s.dom,r=e,((o=t.selection.getRng()).collapsed?(a=r,u=lf(i=n,F.fromRangeStart(o)),c=u.bind(function(l){return Be(a,i,l.position).bind(function(d){return lf(i,d).map(function(m){return g=i,p=a,It((v=m).position.getNode())&&!1===qt(v.block)?xo(!1,v.block.dom).bind(function(h){return h.isEqual(v.position)?Be(p,g,h).bind(function(b){return lf(g,b)}):E.some(v)}).getOr(v):v;var g,p,v})})}),ve(u,c,dw).filter(function(l){return!1===_t(l.from.block,l.to.block)&&Xe((m=l).from.block).bind(function(g){return Xe(m.to.block).filter(function(p){return _t(g,p)})}).isSome()&&!1===Tt((d=l).from.block.dom)&&!1===Tt(d.to.block.dom);var d,m})):E.none()).bind(function(l){return m0(s,e,l.from.block,l.to.block)}));return f.each(function(l){t.selection.setRng(l.toRange())}),f.isSome()}function g0(t,e){var n=B.fromDom(e),r=et(_t,t);return ni(n,ca,r).isSome()}function bu(t,e){return!t.selection.isCollapsed()&&function pw(t){var e,n,r,o,i,a,u,c,s,f,l=B.fromDom(t.getBody()),d=t.selection.getRng();return s=Cn((i=l).dom,F.fromRangeStart(a=d)).isNone(),f=nn(i.dom,F.fromRangeEnd(a)).isNone(),!g0(u=i,(c=a).startContainer)&&!g0(u,c.endContainer)&&s&&f?((o=t).setContent(""),o.selection.setCursorLocation(),!0):(e=l,r=(n=t.selection).getRng(),ve(hu(e,B.fromDom(r.startContainer)),hu(e,B.fromDom(r.endContainer)),function(m,g){return!1===_t(m,g)&&(r.deleteContents(),m0(e,!0,m,g).each(function(p){n.setRng(p.toRange())}),!0)}).getOr(!1))}(t)}function Pn(t,e,n,r,o){return E.from(e._selectionOverrides.showCaret(t,n,r,o))}function Lo(t,e){var n,r;return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?E.none():E.some(((r=(n=e).ownerDocument.createRange()).selectNode(n),r))}function p0(t,e,n){var r=wc(1,t.getBody(),e),o=F.fromRangeStart(r),i=o.getNode();if(vi(i))return Pn(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(vi(a))return Pn(1,t,a,!1,!1);var u=t.dom.getParent(o.getNode(),function(c){return Ow(c)||Rw(c)});return vi(u)?Pn(1,t,u,!1,n):E.none()}function ff(t,e,n){return e.collapsed?p0(t,e,n).getOr(e):e}function hw(t){return rr(t)||To(t)}function vw(t){return or(t)||Ro(t)}function h0(t,e,n,r,o,i){var a,u;return Pn(r,t,i.getNode(!o),o,!0).each(function(c){var s;e.collapsed?(s=e.cloneRange(),o?s.setEnd(c.startContainer,c.startOffset):s.setStart(c.endContainer,c.endOffset),s.deleteContents()):e.deleteContents(),t.selection.setRng(c)}),a=t.dom,it(u=n)&&0===u.data.length&&a.remove(u),!0}function yu(t,e){var n=t.selection.getRng();if(!it(n.commonAncestorContainer))return!1;var r=e?Wt.Forwards:Wt.Backwards,o=en(t.getBody()),i=et(Sc,e?o.next:o.prev),a=e?hw:vw,u=hi(r,t.getBody(),n),c=Pe(e,i(u));if(!c||!Oa(u,c))return!1;if(a(c))return h0(t,n,u.getNode(),r,e,c);var s=i(c);return!!(s&&a(s)&&Oa(c,s))&&h0(t,n,u.getNode(),r,e,s)}function v0(t,e,n){return Be(e,t,n).bind(function(r){return l=r.getNode(),ca(B.fromDom(l))||ri(B.fromDom(l))||(u=t,f=r,Lg(!(c=e),s=n).fold(function(){return Lg(c,f).fold(Dt,d)},d))?E.none():e&&Tt(r.getNode())||!1===e&&Tt(r.getNode(!0))?(o=t,i=n,a=r.getNode(!1===e),hu(B.fromDom(o),B.fromDom(i.getNode())).map(function(m){return qt(m)?Le.remove(m.dom):Le.moveToElement(a)}).orThunk(function(){return E.some(Le.moveToElement(a))})):e&&or(n)||!1===e&&rr(n)?E.some(Le.moveToPosition(r)):E.none();var o,i,a,u,c,s,f,l;function d(m){return Bs(B.fromDom(m))&&!hn(s,f,u)}})}function b0(t,e){return E.from(Do(t.getBody(),e))}function bw(t,e){var n=t.selection.getNode();return b0(t,n).filter(Tt).fold(function(){return l=t.getBody(),m=wc((d=e)?1:-1,l,t.selection.getRng()),g=F.fromRangeStart(m),p=B.fromDom(l),(!1===d&&or(g)?E.some(Le.remove(g.getNode(!0))):d&&rr(g)?E.some(Le.remove(g.getNode())):!1===d&&rr(g)&&cl(p,g)?Cx(p,g).map(function(v){return Le.remove(v.getNode())}):d&&or(g)&&sl(p,g)?xx(p,g).map(function(v){return Le.remove(v.getNode())}):(r=l,o=d,s=(i=g).getNode(!1===(c=o)),f=c?"after":"before",lt(s)&&s.getAttribute("data-mce-caret")===f?(u=i.getNode(!1===(a=o)),(a&&Tt(u.nextSibling)?E.some(Le.moveToElement(u.nextSibling)):!1===a&&Tt(u.previousSibling)?E.some(Le.moveToElement(u.previousSibling)):E.none()).fold(function(){return v0(r,o,i)},E.some)):v0(r,o,i).bind(function(v){return h=r,b=i,v.fold(function(y){return E.some(Le.remove(y))},function(y){return E.some(Le.moveToElement(y))},function(y){return hn(b,y,h)?E.none():E.some(Le.moveToPosition(y))});var h,b}))).exists(function(v){return v.fold(function(C){return w._selectionOverrides.hideFakeCaret(),Rr(w,_,B.fromDom(C)),!0},(y=_=e,function(C){var x=y?F.before(C):F.after(C);return b.selection.setRng(x.toRange()),!0}),(h=b=w=t,function(C){return h.selection.setRng(C.toRange()),!0}));var h,b,y,w,_});var r,o,i,a,u,c,s,f,l,d,m,g,p},Ut)}function yw(t,e){var n=t.selection.getNode();return!(!Tt(n)||na(n))&&b0(t,n.parentNode).filter(Tt).fold(function(){return nt(be(B.fromDom(t.getBody()),".mce-offscreen-selection"),Vt),Rr(t,e,B.fromDom(t.selection.getNode())),s0(t),!0},Ut)}function y0(t){var e,n=t.dom,r=t.selection,o=Do(t.getBody(),r.getNode());return ln(o)&&n.isBlock(o)&&n.isEmpty(o)&&(e=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(o,""),o.appendChild(e),r.setRng(F.before(e).toRange())),!0}function Cu(t,e){return(t.selection.isCollapsed()?bw:yw)(t,e)}function xu(t,e){return!!t.selection.isCollapsed()&&(r=e,o=F.fromRangeStart((n=t).selection.getRng()),Be(r,n.getBody(),o).filter(function(i){return(r?hx:vx)(i)}).bind(function(i){return E.from(xc(r?0:-1,i))}).exists(function(i){return n.selection.select(i),!0}));var n,r,o}function C0(t){return Io(t)&&t.data[0]===Qt}function x0(t){return Io(t)&&t.data[t.data.length-1]===Qt}function w0(t){return t.ownerDocument.createTextNode(Qt)}function wu(t,e){return(t?function(n){if(Io(n.previousSibling))return x0(n.previousSibling)||n.previousSibling.appendData(Qt),n.previousSibling;if(Io(n))return C0(n)||n.insertData(0,Qt),n;var r=w0(n);return n.parentNode.insertBefore(r,n),r}:function(n){if(Io(n.nextSibling))return C0(n.nextSibling)||n.nextSibling.insertData(0,Qt),n.nextSibling;if(Io(n))return x0(n)||n.appendData(Qt),n;var r=w0(n);return n.nextSibling?n.parentNode.insertBefore(r,n.nextSibling):n.parentNode.appendChild(r),r})(e)}function S0(t,e){return it(t.container())?wu(e,t.container()):wu(e,t.getNode())}function N0(t,e){var n=e.get();return n&&t.container()===n&&io(n)}function df(t,e){return e.fold(function(n){kr(t.get());var r=Bw(n);return t.set(r),E.some(F(r,r.length-1))},function(n){return ge(n).map(function(r){if(N0(r,t))return F(t.get(),1);kr(t.get());var o=S0(r,!0);return t.set(o),F(o,1)})},function(n){return xn(n).map(function(r){if(N0(r,t))return F(t.get(),t.get().length-1);kr(t.get());var o=S0(r,!1);return t.set(o),F(o,o.length-1)})},function(n){kr(t.get());var r=Pw(n);return t.set(r),E.some(F(r,1))})}function E0(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return E.none()}function _0(t,e){return er(e,t)||t}function Cw(t,e,n){var r=O0(n),o=_0(e,r.container());return ur(t,o,r).fold(function(){return nn(o,r).bind(et(ur,t,o)).map(function(i){return fe.before(i)})},E.none)}function xw(t,e){return null===Dr(t,e)}function k0(t,e,n){return ur(t,e,n).filter(et(xw,e))}function ww(t,e,n){var r=B0(n);return k0(t,e,r).bind(function(o){return Cn(o,r).isNone()?E.some(fe.start(o)):E.none()})}function Sw(t,e,n){var r=O0(n);return k0(t,e,r).bind(function(o){return nn(o,r).isNone()?E.some(fe.end(o)):E.none()})}function Nw(t,e,n){var r=B0(n),o=_0(e,r.container());return ur(t,o,r).fold(function(){return Cn(o,r).bind(et(ur,t,o)).map(function(i){return fe.after(i)})},E.none)}function D0(t){return e=pf(t),!1===("rtl"===Nt.DOM.getStyle(e,"direction",!0)||Tw.test(e.textContent));var e}function Sn(t,e,n){return E0([Cw,ww,Sw,Nw],[t,e,n]).filter(D0)}function A0(t){return t.fold(ot("before"),ot("start"),ot("end"),ot("after"))}function Su(t){return t.fold(fe.before,fe.before,fe.after,fe.after)}function mf(t){return t.fold(fe.start,fe.start,fe.end,fe.end)}function Ew(t,e,n,r,o,i){return ve(ur(e,n,r),ur(e,n,o),function(a,u){return a!==u&&(s=u,f=er(a,c=n),l=er(s,c),f&&f===l)?fe.after(t?a:u):i;var c,s,f,l}).getOr(i)}function _w(t,e){return t.fold(Ut,function(n){return o=e,!(A0(r=n)===A0(o)&&pf(r)===pf(o));var r,o})}function kw(t,e){return t?e.fold(an(E.some,fe.start),E.none,an(E.some,fe.after),E.none):e.fold(E.none,an(E.some,fe.before),E.none,an(E.some,fe.end))}function gf(t,e,n,r){var o=Pe(t,r),i=Sn(e,n,o);return Sn(e,n,o).bind(et(kw,t)).orThunk(function(){return u=e,c=n,s=i,f=Pe(a=t,r),Be(a,c,f).map(et(Pe,a)).fold(function(){return s.map(Su)},function(l){return Sn(u,c,l).map(et(Ew,a,u,c,f,l)).filter(et(_w,s))}).filter(D0);var a,u,c,s,f})}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Un([t],e,!1))}var Ln,sr,T0=function(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return At(e,function(i){return/^[a-z0-9\-]+$/i.test(i)&&!o?n+"/"+i+"/"+r:t.documentBaseURI.toAbsolute(i)})},Dw=0,Eu=U.each,le=Nt.DOM,Aw=[9,27,ut.HOME,ut.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ut.DOWN,ut.UP,ut.LEFT,ut.RIGHT].concat(mt.browser.isFirefox()?[224]:[]),R0="data-mce-placeholder",Tw=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,O0=et(Pe,!0),B0=et(Pe,!1),Rw=ln,Ow=Tt,Le=Vn([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Io=it,Bw=et(wu,!0),Pw=et(wu,!1),fe=Vn([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),pf=function(t){return t.fold(he,he,he,he)};function P0(t,e,n){var r=t?1:-1;return e.setRng(F(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0}function _u(t,e){return t===Wt.Backwards?$i(e):e}function L0(t,e,n,r){for(var o,i,a,u,c=en(n),s=r,f=[];s;){var l=(a=c,u=s,e===Wt.Forwards?a.next(u):a.prev(u));if(!l)break;if(It(l.getNode(!1)))return e===Wt.Forwards?{positions:_u(e,f).concat([l]),breakType:Ln.Br,breakAt:E.some(l)}:{positions:_u(e,f),breakType:Ln.Br,breakAt:E.some(l)};if(l.isVisible()){if(t(s,l)){var d=(o=s,It((i=l).getNode(e===Wt.Forwards))?Ln.Br:!1===hn(o,i)?Ln.Block:Ln.Wrap);return{positions:_u(e,f),breakType:d,breakAt:E.some(l)}}f.push(l),s=l}else s=l}return{positions:_u(e,f),breakType:Ln.Eol,breakAt:E.none()}}function I0(t,e,n,r){return e(n,r).breakAt.map(function(o){var i=e(n,o).positions;return t===Wt.Backwards?i.concat(o):[o].concat(i)}).getOr([])}function hf(t,e){return Ke(t,function(n,r){return n.fold(function(){return E.some(r)},function(o){return ve(_e(o.getClientRects()),_e(r.getClientRects()),function(i,a){var u=Math.abs(e-i.left);return Math.abs(e-a.left)<=u?r:o}).or(n)})},E.none())}function M0(t,e){return _e(e.getClientRects()).bind(function(n){return hf(t,n.left)})}function Lw(t){function e(r){return At(r,function(o){var i=Nr(o);return i.node=t,i})}if(lt(t))return e(t.getClientRects());if(it(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}function vf(t){return qo(t,Lw)}et(gf,!1),et(gf,!0),(sr=Ln={})[sr.Br=0]="Br",sr[sr.Block=1]="Block",sr[sr.Wrap=2]="Wrap",sr[sr.Eol=3]="Eol";var Pr,ku,Ri=et(L0,F.isAbove,-1),Oi=et(L0,F.isBelow,1),Iw=et(I0,-1,Ri),Mw=et(I0,1,Oi);function F0(t,e,n,r,o,i){function a(l){var d=vf([l]);-1===t&&(d=d.reverse());for(var m=0;m<d.length;m++){var g=d[m];if(!n(g,s)){if(0<c.length&&e(g,dr(c))&&u++,g.line=u,o(g))return!0;c.push(g)}}}var u=0,c=[],s=dr(i.getClientRects());if(!s)return c;var f=i.getNode();return a(f),function(l,d,m,g){for(;g=Co(g,l,aa,d);)if(m(g))return}(t,r,a,f),c}function U0(t){return function(e){return e.line>t}}function bf(t){return function(e){return e.line===t}}function yf(t,e){return Math.abs(t.left-e)}function Cf(t,e){return Math.abs(t.right-e)}function z0(t,e){return t>=e.left&&t<=e.right}function Fw(t,e){return t>=e.top&&t<=e.bottom}function Du(t,e,n){return void 0===n&&(n=Ut),Wi(t,function(r,o){if(z0(e,o))return n(o)?o:r;if(z0(e,r))return n(r)?r:o;var i=Math.min(yf(r,e),Cf(r,e)),a=Math.min(yf(o,e),Cf(o,e));return a===i&&Xr(o,"node")&&uS(o.node)||a<i?o:r})}function H0(t,e,n,r,o){var i=Mb(r,t,aa,e,!o);do{if(!i||n(i))return}while(i=Mb(i,t,aa,e))}function In(t,e){t.selection.setRng(e),Ei(t,t.selection.getRng())}function xf(t,e,n){return E.some(ff(t,e,n))}function V0(t,e,n,r,o,i){var a=e===Wt.Forwards,u=en(t.getBody()),c=et(Sc,a?u.next:u.prev),s=a?r:o;if(!n.collapsed){var f=_a(n);if(i(f))return Pn(e,t,f,e===Wt.Backwards,!1)}var l=hi(e,t.getBody(),n);if(s(l))return Lo(t,l.getNode(!a));var d=Pe(a,c(l)),m=um(n);if(!d)return m?E.some(n):E.none();if(s(d))return Pn(e,t,d.getNode(!a),a,!1);var g=c(d);return g&&s(g)&&Oa(d,g)?Pn(e,t,g.getNode(!a),a,!1):m?xf(t,d.toRange(),!1):E.none()}function j0(t,e,n,r,o,i){var a=hi(e,t.getBody(),n),u=dr(a.getClientRects()),c=e===Pr.Down;if(!u)return E.none();var s,f=bt((c?aS:iS)(t.getBody(),U0(1),a),bf(1)),l=u.left,d=Du(f,l);if(d&&i(d.node)){var m=Math.abs(l-d.left),g=Math.abs(l-d.right);return Pn(e,t,d.node,m<g,!1)}if(s=r(a)?a.getNode():o(a)?a.getNode(!0):_a(n)){var p=function(h,b,y,w){function _(P){return dr(P.getClientRects())}var C,x,S,R=en(b),O=[],I=0,L=1===h?(C=R.next,x=bo,S=vo,F.after(w)):(C=R.prev,x=vo,S=bo,F.before(w)),k=_(L);do{if(L.isVisible()){var D=_(L);if(!S(D,k)){0<O.length&&x(D,dr(O))&&I++;var T=Nr(D);if(T.position=L,T.line=I,y(T))return O;O.push(T)}}}while(L=C(L));return O}(e,t.getBody(),U0(1),s),v=Du(bt(p,bf(1)),l);if(v||(v=dr(bt(p,bf(0)))))return xf(t,v.position.toRange(),!1)}return 0===f.length?Tf(t,c).filter(c?o:r).map(function(h){return ff(t,h.toRange(),!1)}):E.none()}function q0(t,e,n){return Tf(t,e).filter(n).exists(function(r){return t.selection.setRng(r.toRange()),!0})}function Au(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)}function $0(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")}function W0(t,e,n){return df(e,n).map(function(r){return Au(t,r),n})}function K0(t,e,n){return!!pi(t)&&(o=e,i=n,a=(r=t).getBody(),u=F.fromRangeStart(r.selection.getRng()),gf(i,et(Br,r),a,u).bind(function(c){return W0(r,o,c)}).isSome());var r,o,i,a,u}function X0(t,e,n){return!!pi(e)&&(r=t,i=(o=e).selection.getRng(),a=r?F.fromRangeEnd(i):F.fromRangeStart(i),!!Ot(o.selection.getSel().modify)&&(r&&Ps(a)?P0(!0,o.selection,a):!(r||!Ls(a))&&P0(!1,o.selection,a)));var r,o,i,a}function Tu(t,e,n){if(pi(t)){var r=Tf(t,e).getOrThunk(function(){var o=t.selection.getRng();return e?F.fromRangeEnd(o):F.fromRangeStart(o)});return Sn(et(Br,t),t.getBody(),r).exists(function(o){var i=Su(o);return df(n,i).exists(function(a){return Au(t,a),!0})})}return!1}function Y0(t,e){return function(n){return df(e,n).exists(function(r){return Au(t,r),!0})}}function G0(t,e,n,r){var o=t.getBody(),i=et(Br,t);t.undoManager.ignore(function(){var a,u,c;t.selection.setRng((a=n,u=r,(c=document.createRange()).setStart(a.container(),a.offset()),c.setEnd(u.container(),u.offset()),c)),t.execCommand("Delete"),Sn(i,o,F.fromRangeStart(t.selection.getRng())).map(mf).map(Y0(t,e))}),t.nodeChanged()}function Ru(t,e,n){if(t.selection.isCollapsed()&&pi(t)){var r=F.fromRangeStart(t.selection.getRng());return i=e,a=n,u=r,c=(o=t).getBody(),s=er(u.container(),c)||c,f=et(Br,o),(l=Sn(f,s,u)).bind(function(d){return a?d.fold(ot(E.some(mf(d))),E.none,ot(E.some(Su(d))),E.none):d.fold(E.none,ot(E.some(Su(d))),E.none,ot(E.some(mf(d))))}).map(Y0(o,i)).getOrThunk(function(){var d=La(a,s,u),m=d.bind(function(g){return Sn(f,s,g)});return ve(l,m,function(){return ur(f,s,u).exists(function(g){return!!ve(ge(p=g),xn(p),function(v,h){var b=Pe(!0,v),y=Pe(!1,h);return nn(p,b).forall(function(w){return w.isEqual(y)})}).getOr(!0)&&(Rr(o,a,B.fromDom(g)),!0);var p})}).orThunk(function(){return m.bind(function(g){return d.map(function(p){return a?G0(o,i,u,p):G0(o,i,p,u),!0})})}).getOr(!1)})}var o,i,a,u,c,s,f,l;return!1}function Hw(t){return 1===Rd(t)}function Ou(t,e){return!!t.selection.isCollapsed()&&function Vw(t,e){var n,r=B.fromDom(t.getBody()),o=B.fromDom(t.selection.getStart()),i=bt(qi(n=On(o,r),dn).fold(ot(n),function(a){return n.slice(0,a)}),Hw);return fr(i).exists(function(a){var u,c,s,f,l,d,m,g,p,v=F.fromRangeStart(t.selection.getRng()),h=e,b=v,y=a.dom;return!(!ve(ge(y),xn(y),function(w,_){var C=Pe(!0,w),x=Pe(!1,_),S=Pe(!1,b);return h?nn(y,S).exists(function(R){return R.isEqual(x)&&b.isEqual(C)}):Cn(y,S).exists(function(R){return R.isEqual(C)&&b.isEqual(x)})}).getOr(!0)||vn((u=a).dom)&&zh(u.dom)||(c=e,f=a,0===(p=At(bt(i,et(px,s=t)),function(w){return w.dom})).length?Rr(s,c,f):(d=f.dom,g=jh(p,(m=_l(!1)).dom),Ye(B.fromDom(d),m),Vt(B.fromDom(d)),l=F(g,0),s.selection.setRng(l.toRange())),0))})}(t,e)}function wf(t,e,n){return t._selectionOverrides.hideFakeCaret(),Rr(t,e,B.fromDom(n)),!0}function Bu(t,e){return t.selection.isCollapsed()?(u=(a=e)?To:Ro,s=hi(a?Wt.Forwards:Wt.Backwards,(i=t).getBody(),i.selection.getRng()),u(s)?wf(i,a,s.getNode(!a)):E.from(Pe(a,s)).filter(function(f){return u(f)&&Oa(s,f)}).exists(function(f){return wf(i,a,f.getNode(!a))})):(r=e,o=(n=t).selection.getNode(),!!Ve(o)&&wf(n,r,o));var n,r,o,i,a,u,s}function Sf(t){var e=parseInt(t,10);return isNaN(e)?0:e}function J0(t,e){return(t||"table"===Ht(e)?"margin":"padding")+("rtl"===Dn(e,"direction")?"-right":"-left")}function Q0(t){var e,n=Fb(t);return!t.mode.isReadOnly()&&(1<n.length||(e=t,$o(n,function(r){var o=ws(r,J0(Sg(e),r)).map(Sf).getOr(0);return"false"!==e.dom.getContentEditable(r.dom)&&0<o})))}function Z0(t){return Vs(t)||ri(t)}function tb(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=t.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),c=Sg(t),s=ae(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),nt(Fb(t),function(f){var l,d=n,m=e,g=u,p=a,v=f.dom,h=J0(c,B.fromDom(v));"outdent"===m?(l=Math.max(0,Sf(v.style[h])-g),d.setStyle(v,h,l?l+p:"")):(l=Sf(v.style[h])+g+p,d.setStyle(v,h,l))})}function eb(t,e){if(t.selection.isCollapsed()&&Q0(t)){var n=t.dom,r=t.selection.getRng(),o=F.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&Rl(B.fromDom(i),o))return tb(t,"outdent"),!0}return!1}function nb(t,e){t.getDoc().execCommand(e,!1,null)}function rb(t){return void 0===t.touches||1!==t.touches.length?E.none():E.some(t.touches[0])}function Nf(t,e){return yt(t,e.nodeName)}function jw(t){var e,n,r,o=t.dom,i=t.selection,a=t.schema,u=a.getBlockElements(),c=i.getStart(),s=t.getBody(),f=ae(t);if(c&&lt(c)&&f){var l=s.nodeName.toLowerCase();if(a.isValidChild(l,f.toLowerCase())&&(d=u,m=s,!de(fh(B.fromDom(c),B.fromDom(m)),function(x){return Nf(d,x.dom)}))){var d,m,p,v,h=i.getRng(),b=h.startContainer,y=h.startOffset,w=h.endContainer,_=h.endOffset,C=Ar(t);for(c=s.firstChild;c;)p=u,it(v=c)||lt(v)&&!Nf(p,v)&&!Oe(v)?function(S,R){if(it(R)&&(0===R.nodeValue.length||/^\s+$/.test(R.nodeValue)&&(!R.nextSibling||Nf(S,R.nextSibling))))return 1}(u,c)?(c=(n=c).nextSibling,o.remove(n)):(e||(e=o.create(f,mi(t)),c.parentNode.insertBefore(e,c),r=!0),c=(n=c).nextSibling,e.appendChild(n)):(e=null,c=c.nextSibling);r&&C&&(h.setStart(b,y),h.setEnd(w,_),i.setRng(h),t.nodeChanged())}}}function ob(t,e){e.hasAttribute("data-mce-caret")&&(Is(e),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(e))}function qw(t,e){var n=ia(B.fromDom(t.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull();if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void ob(t,n)):void(am(n)&&(ob(t,n),t.undoManager.add()))}function ib(t,e,n){var r,o,i,a=en(t.getBody()),u=et(Sc,1===e?a.next:a.prev);!n.collapsed||""===ae(t)||(r=t.dom.getParent(n.startContainer,"PRE"))&&(u(F.fromRangeStart(n))||(i=t.dom.create(ae(t)),(!mt.ie||11<=mt.ie)&&(i.innerHTML='<br data-mce-bogus="1">'),o=i,1===e?t.$(r).after(o):t.$(r).before(o),t.selection.select(o,!0),t.selection.collapse()))}function ab(t,e){return r=e?Wt.Forwards:Wt.Backwards,o=(n=t).selection.getRng(),V0(n,r,o,rr,or,Ub).orThunk(function(){return ib(n,r,o),E.none()}).exists(function(i){return In(t,i),!0});var n,r,o}function ub(t,e){return r=e?1:-1,o=(n=t).selection.getRng(),j0(n,r,o,function(i){return rr(i)||Wh(i)},function(i){return or(i)||Kh(i)},Ub).orThunk(function(){return ib(n,r,o),E.none()}).exists(function(i){return In(t,i),!0});var n,r,o}function sb(t,e){return q0(t,e,e?or:rr)}function $w(t){return Yt(["figcaption"],Ht(t))}function cb(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e}function lb(t,e,n){(n?ee:Bd)(t,e)}function fb(t,e){return!!t.selection.isCollapsed()&&function Ww(t,e){var n=B.fromDom(t.getBody()),r=F.fromRangeStart(t.selection.getRng()),o=ae(t),i=mi(t),a=r,u=et(_t,n);return ra(B.fromDom(a.container()),dn,u).filter($w).exists(function(){if(w=n,_=r,e?Oi(w.dom,_).breakAt.isNone():Ri(w.dom,_).breakAt.isNone()){var c=(s=n,l=i,d=e,""===(f=o)?(b=d,lb(s,y=B.fromTag("br"),b),cb(y)):(m=s,g=d,p=l,v=B.fromTag(f),h=B.fromTag("br"),Hn(v,p),ee(v,h),lb(m,v,g),cb(h)));return t.selection.setRng(c),!0}var s,f,l,d,m,g,p,v,h,b,y,w,_;return!1})}(t,e)}function ht(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}}function Mo(t,e){return Gt((n=e,qo(At(t,function(r){return ft({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:vt},r)}),function(r){return n.keyCode===r.keyCode&&n.shiftKey===r.shiftKey&&n.altKey===r.altKey&&n.ctrlKey===r.ctrlKey&&n.metaKey===r.metaKey?[r]:[]})),function(r){return r.action()});var n}function db(t,e){var n=e?Wt.Forwards:Wt.Backwards,r=t.selection.getRng();return V0(t,n,r,To,Ro,Ve).exists(function(o){return In(t,o),!0})}function mb(t,e){var n=e?1:-1,r=t.selection.getRng();return j0(t,n,r,To,Ro,Ve).exists(function(o){return In(t,o),!0})}function gb(t,e){return q0(t,e,e?Ro:To)}function pb(t,e,n,r,o){var i,a=be(B.fromDom(n),"td,th,caption").map(function(f){return f.dom}),u=bt((i=t,qo(a,function(f){var l,d={left:(l=Nr(f.getBoundingClientRect())).left- -1,top:l.top- -1,right:l.right+-2,bottom:l.bottom+-2,width:l.width+-1,height:l.height+-1};return[{x:d.left,y:i(d),cell:f},{x:d.right,y:i(d),cell:f}]})),function(f){return e(f,o)}),c=r,s=o;return Ke(u,function(f,l){return f.fold(function(){return E.some(l)},function(d){var m=Math.sqrt(Math.abs(d.x-c)+Math.abs(d.y-s)),g=Math.sqrt(Math.abs(l.x-c)+Math.abs(l.y-s));return E.some(g<m?l:d)})},E.none()).map(function(f){return f.cell})}function hb(t,e,n){var r,o,i=t(e,n);return i.breakType===Ln.Wrap&&0===i.positions.length||!It(n.getNode())&&i.breakType===Ln.Br&&1===i.positions.length?(r=t,o=e,!i.breakAt.exists(function(a){return r(o,a).breakAt.isSome()})):i.breakAt.isNone()}function Kw(t,e,n,r){var o,i,a,u=t.selection.getRng(),c=e?1:-1;return!(!Og()||(o=e,i=n,a=F.fromRangeStart(u),!xo(!o,i).exists(function(s){return s.isEqual(a)}))||(Pn(c,t,n,!e,!1).each(function(s){In(t,s)}),0))}function vb(t,e,n){var o,i=(o=n.getNode(!!e),lt(o)&&"TABLE"===o.nodeName?E.some(o):E.none()),a=!1===e;i.fold(function(){return In(t,n.toRange())},function(u){return xo(a,t.getBody()).filter(function(c){return c.isEqual(n)}).fold(function(){return In(t,n.toRange())},function(c){var s,f,l=e,d=u,m=n;(f=ae(s=t))?s.undoManager.transact(function(){var g=B.fromTag(f);Hn(g,mi(s)),ee(g,B.fromTag("br")),(l?Jo:Ye)(B.fromDom(d),g);var p=s.dom.createRng();p.setStart(g.dom,0),p.setEnd(g.dom,0),In(s,p)}):In(s,m.toRange())})})}function Xw(t,e,n,r){var o,i,a,u,c,s,f,l,d,m,g=t.selection.getRng(),p=F.fromRangeStart(g),v=t.getBody();if(e||!dS(r,p))return!(!e||!mS(r,p)||(o=v,d=i=n,vb(t,e,h=fr((m=a=p).getClientRects()).bind(function(b){return fS(d,b.left,b.top)}).bind(function(b){return M0(ge(y=b).map(function(w){return[w].concat(Oi(y,w).positions)}).getOr([]),m);var y}).orThunk(function(){return _e(a.getClientRects()).bind(function(b){return hf(Mw(o,F.after(i)),b.left)})}).getOr(F.after(i))),0));var h=(u=v,f=c=n,_e((l=s=p).getClientRects()).bind(function(b){return lS(f,b.left,b.top)}).bind(function(b){return M0(xn(y=b).map(function(w){return Ri(y,w).positions.concat(w)}).getOr([]),l);var y}).orThunk(function(){return _e(s.getClientRects()).bind(function(b){return hf(Iw(u,F.before(c)),b.left)})}).getOr(F.before(c)));return vb(t,e,h),!0}function bb(t,e,n){return E.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(r){return E.from(t.dom.getParent(r,"table")).map(function(o){return n(t,e,o,r)})}).getOr(!1)}function yb(t,e){return bb(t,e,Kw)}function Cb(t,e){return bb(t,e,Xw)}function Bi(t,e){var n,r,o=e,i=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){!/^(LI|DT|DD)$/.test(e.nodeName)||(r=function(s){for(;s;){if(1===s.nodeType||3===s.nodeType&&s.data&&/[\r\n\s]/.test(s.data))return s;s=s.nextSibling}}(e.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&e.insertBefore(i.doc.createTextNode(xe),e.firstChild);var u=i.createRng();if(e.normalize(),e.hasChildNodes()){for(var c=new jt(e,e);n=c.current();){if(it(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=c.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else It(e)?e.nextSibling&&i.isBlock(e.nextSibling)?(u.setStartBefore(e),u.setEndBefore(e)):(u.setStartAfter(e),u.setEndAfter(e)):(u.setStart(e,0),u.setEnd(e,0));t.selection.setRng(u),Ei(t,u)}}function Ef(t){return E.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function xb(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e}function wb(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)}function Pu(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t}function Lu(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!lt(r);)r=r[n?"nextSibling":"previousSibling"];return r===e}function _f(t){t.innerHTML='<br data-mce-bogus="1">'}function kf(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e}function Sb(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)}function Df(t,e,n){return!1===it(e)?n:t?1===n&&e.data.charAt(n-1)===Qt?0:n:n===e.data.length-1&&e.data.charAt(n)===Qt?e.data.length:n}function Nb(t,e){for(var n,r=t.getRoot(),o=e;o!==r&&"false"!==t.getContentEditable(o);)"true"===t.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}function Pi(t,e){var n=ae(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&function(r,o,i){var a=r.dom;E.from(i.style).map(a.parseStyle).each(function(s){var f=qd(B.fromDom(o)),l=ft(ft({},f),s);a.setStyles(o,l)}),ve(E.from(i.class).map(function(s){return s.split(/\s+/)}),E.from(o.className).map(function(s){return bt(s.split(/\s+/),function(f){return""!==f})}),function(s,f){var l=bt(f,function(m){return!Yt(s,m)}),d=Un(Un([],s,!0),l,!0);a.setAttrib(o,"class",d.join(" "))});var u=["style","class"],c=Wo(i,function(s,f){return!Yt(u,f)});a.setAttribs(o,c)}(t,e,mi(t))}function Eb(t,e,n){var r=t.dom.createRng();n?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)),t.selection.setRng(r),Ei(t,r)}function Gw(t,e){var n=B.fromTag("br");Ye(B.fromDom(e),n),t.undoManager.add()}function Jw(t,e){gS(t.getBody(),e)||Jo(B.fromDom(e),B.fromTag("br"));var n=B.fromTag("br");Jo(B.fromDom(e),n),Eb(t,n.dom,!1),t.undoManager.add()}function _b(t){return t&&"A"===t.nodeName&&"href"in t}function Qw(t){return t.fold(Dt,_b,_b,Dt)}function Zw(t,e){e.fold(vt,et(Gw,t),et(Jw,t),vt)}function kb(t,e){var n,r,o,i=(r=et(Br,n=t),o=F.fromRangeStart(n.selection.getRng()),Sn(r,n.getBody(),o).filter(Qw));i.isSome()?i.each(et(Zw,t)):function(a,u){var c,s,l=a.dom,d=a.selection.getRng();ja(l,d).each(function(w){d.setStart(w.startContainer,w.startOffset),d.setEnd(w.endContainer,w.endOffset)});var m,g=d.startOffset,p=d.startContainer;1===p.nodeType&&p.hasChildNodes()&&(m=g>p.childNodes.length-1,p=p.childNodes[Math.min(g,p.childNodes.length-1)]||p,g=m&&3===p.nodeType?p.nodeValue.length:0);var v=l.getParent(p,l.isBlock),h=v?l.getParent(v.parentNode,l.isBlock):null;"LI"!==(h?h.nodeName.toUpperCase():"")||!(!u||!u.ctrlKey)||(v=h),p&&3===p.nodeType&&g>=p.nodeValue.length&&!function(w){for(var _,C=new jt(p,v),x=w.getNonEmptyElements();_=C.next();)if(x[_.nodeName.toLowerCase()]||0<_.length)return 1}(a.schema)&&(c=l.create("br"),d.insertNode(c),d.setStartAfter(c),d.setEndAfter(c),s=!0),c=l.create("br"),bc(l,d,c),Eb(a,c,s),a.undoManager.add()}(t,e)}function Db(t,e){return Ef(t).filter(function(n){return 0<e.length&&Jr(B.fromDom(n),e)}).isSome()}function tS(t,e){return Db(t,t.getParam("no_newline_selector",""))}function Af(t){return function(e,n){return""===ae(e)===t}}function Ab(t){return function(e,n){return Ef(e).filter(function(r){return ri(B.fromDom(r))}).isSome()===t}}function Tb(t,e){return function(n,r){return Ef(n).fold(ot(""),function(o){return o.nodeName.toUpperCase()})===t.toUpperCase()===e}}function Iu(t){return Tb("pre",t)}function Mu(t){return function(e,n){return e.getParam("br_in_pre",!0)===t}}function eS(t,e){return Db(t,t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function Li(t,e){return e}function Rb(t){var e=ae(t),n=function(r,o){for(var i,a=r.getRoot(),u=o;u!==a&&"false"!==r.getContentEditable(u);)"true"===r.getContentEditable(u)&&(i=u),u=u.parentNode;return u!==a?i:a}(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")}function Ie(t,e){return function(n,r){return Ke(t,function(o,i){return o&&i(n,r)},!0)?E.some(e):E.none()}}function Ob(t,e){var n,r;n=t,r=e,E0([Ie([tS],Ee.none()),Ie([Tb("summary",!0)],Ee.br()),Ie([Iu(!0),Mu(!1),Li],Ee.br()),Ie([Iu(!0),Mu(!1)],Ee.block()),Ie([Iu(!0),Mu(!0),Li],Ee.block()),Ie([Iu(!0),Mu(!0)],Ee.br()),Ie([Ab(!0),Li],Ee.br()),Ie([Ab(!0)],Ee.block()),Ie([Af(!0),Li,Rb],Ee.block()),Ie([Af(!0)],Ee.br()),Ie([eS],Ee.br()),Ie([Af(!1),Li],Ee.br()),Ie([Rb],Ee.block())],[n,!(!r||!r.shiftKey)]).getOr(Ee.none()).fold(function(){kb(t,e)},function(){!function Yw(t,e){function n(K){var Z,z=m,Q=f.getTextInlineElements(),$=K||"TABLE"===y||"HR"===y?s.create(K||x):h.cloneNode(!1),rt=$;if(!1===t.getParam("keep_styles",!0))s.setAttrib($,"style",null),s.setAttrib($,"class",null);else for(;Q[z.nodeName]&&(vn(z)||Oe(z)||(Z=z.cloneNode(!1),s.setAttrib(Z,"id",""),$.hasChildNodes()?Z.appendChild($.firstChild):rt=Z,$.appendChild(Z))),(z=z.parentNode)&&z!==G;);return Pi(t,$),_f(rt),$}function r(K){var Z,z,Q=Df(K,m,g);if(!it(m)||!(K?0<Q:Q<m.nodeValue.length)){if(m.parentNode===h&&c&&!K||K&&lt(m)&&m===h.firstChild)return 1;if(kf(m,"TABLE")||kf(m,"HR"))return c&&!K||!c&&K;var $=new jt(m,h);for(it(m)&&(K&&0===Q?$.prev():K||Q!==m.nodeValue.length||$.next());Z=$.current();){if(lt(Z)){if(!Z.getAttribute("data-mce-bogus")&&(z=Z.nodeName.toLowerCase(),l[z]&&"br"!==z))return}else if(it(Z)&&!br(Z.nodeValue))return;K?$.prev():$.next()}return 1}}function o(){a=/^(H[1-6]|PRE|FIGURE)$/.test(y)&&"HGROUP"!==w?n(x):n(),t.getParam("end_container_on_empty_block",!1)&&Sb(s,b)&&s.isEmpty(h)?a=s.split(b,h):s.insertAfter(a,h),Bi(t,a)}var i,a,u,c,s=t.dom,f=t.schema,l=f.getNonEmptyElements(),d=t.selection.getRng();ja(s,d).each(function(K){d.setStart(K.startContainer,K.startOffset),d.setEnd(K.endContainer,K.endOffset)});var m=d.startContainer,g=d.startOffset,x=ae(t),p=!(!e||!e.shiftKey),v=!(!e||!e.ctrlKey);lt(m)&&m.hasChildNodes()&&(c=g>m.childNodes.length-1,m=m.childNodes[Math.min(g,m.childNodes.length-1)]||m,g=c&&it(m)?m.nodeValue.length:0);var h,b,y,w,_,C,S,R,O,I,L,k,D,T,P,q,X,j,Y,W,G=Nb(s,m);G&&((x&&!p||!x&&p)&&(m=function(K,Z,z,Q){var $,rt,tt,pt,N,A,M=x||"P",V=K.dom,H=Nb(V,z),J=V.getParent(z,V.isBlock);if(!J||!Sb(V,J)){if(N=((J=J||H)===K.getBody()||(A=J)&&/^(TD|TH|CAPTION)$/.test(A.nodeName)?J:J.parentNode).nodeName.toLowerCase(),!J.hasChildNodes())return Pi(K,$=V.create(M)),J.appendChild($),Z.setStart($,0),Z.setEnd($,0),$;for(tt=z;tt.parentNode!==J;)tt=tt.parentNode;for(;tt&&!V.isBlock(tt);)tt=(rt=tt).previousSibling;if(rt&&K.schema.isValidChild(N,M.toLowerCase())){for(Pi(K,$=V.create(M)),rt.parentNode.insertBefore($,rt),tt=rt;tt&&!V.isBlock(tt);)pt=tt.nextSibling,$.appendChild(tt),tt=pt;Z.setStart(z,Q),Z.setEnd(z,Q)}}return z}(t,d,m,g)),b=(h=s.getParent(m,s.isBlock))?s.getParent(h.parentNode,s.isBlock):null,y=h?h.nodeName.toUpperCase():"","LI"!==(w=b?b.nodeName.toUpperCase():"")||v||(b=(h=b).parentNode,y=w),/^(LI|DT|DD)$/.test(y)&&s.isEmpty(h)?(R=n,O=b,I=h,L=x,Y=(S=t).dom,W=S.selection.getRng(),O!==S.getBody()&&(D=(L=wb(k=O)&&wb(k.parentNode)?"LI":L)?R(L):Y.create("BR"),Lu(O,I,!0)&&Lu(O,I,!1)?xb(O,"LI")?(T=Pu(O),Y.insertAfter(D,T),(null===(j=(X=O).parentNode)||void 0===j?void 0:j.firstChild)===X?Y.remove(T):Y.remove(O)):Y.replace(D,O):(Lu(O,I,!0)?xb(O,"LI")?(Y.insertAfter(D,Pu(O)),D.appendChild(Y.doc.createTextNode(" ")),D.appendChild(O)):O.parentNode.insertBefore(D,O):Lu(O,I,!1)?Y.insertAfter(D,Pu(O)):(O=Pu(O),(P=W.cloneRange()).setStartAfter(I),P.setEndAfter(O),q=P.extractContents(),"LI"===L&&q.firstChild&&"LI"===q.firstChild.nodeName?(D=q.firstChild,Y.insertAfter(q,O)):(Y.insertAfter(q,O),Y.insertAfter(D,O))),Y.remove(I)),Bi(S,D))):x&&h===t.getBody()||(x=x||"P",oo(h)?(a=Is(h),s.isEmpty(h)&&_f(h),Pi(t,a),Bi(t,a)):r()?o():r(!0)?(a=h.parentNode.insertBefore(n(),h),Bi(t,kf(h,"HR")?a:h)):((C=(_=d).cloneRange()).setStart(_.startContainer,Df(!0,_.startContainer,_.startOffset)),C.setEnd(_.endContainer,Df(!1,_.endContainer,_.endOffset)),(i=C.cloneRange()).setEndAfter(h),u=i.extractContents(),nt(ng(B.fromDom(u),ze),function(K){var Z=K.dom;Z.nodeValue=Ae(Z.nodeValue)}),function(K){for(;it(K)&&(K.nodeValue=K.nodeValue.replace(/^[\r\n]+/,"")),K=K.firstChild;);}(u),a=u.firstChild,s.insertAfter(u,h),function(K,Z){var z,Q,$=a,rt=[];if($){for(;$=$.firstChild;){if(K.isBlock($))return;lt($)&&!Z[$.nodeName.toLowerCase()]&&rt.push($)}for(z=rt.length;z--;)(!($=rt[z]).hasChildNodes()||$.firstChild===$.lastChild&&""===$.firstChild.nodeValue||(Q=$)&&"A"===Q.nodeName&&K.isEmpty(Q))&&K.remove($)}}(s,l),function(K,Z){Z.normalize();var z=Z.lastChild;z&&!/^(left|right)$/gi.test(K.getStyle(z,"float",!0))||K.add(Z,"br")}(s,h),s.isEmpty(h)&&_f(h),a.normalize(),s.isEmpty(a)?(s.remove(a),o()):(Pi(t,a),Bi(t,a))),s.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a})))}(t,e)},vt)}function Bb(t){return t.stopImmediatePropagation()}function Pb(t){return t.keyCode===ut.PAGE_UP||t.keyCode===ut.PAGE_DOWN}function Lb(t,e,n){n&&!t.get()?e.on("NodeChange",Bb,!0):!n&&t.get()&&e.off("NodeChange",Bb),t.set(n)}function Ib(t,e){var n=e.container(),r=e.offset();return it(n)?(n.insertData(r,t),E.some(F(n,r+t.length))):Ra(e).map(function(o){var i=B.fromText(t);return(e.isAtEnd()?Jo:Ye)(o,i),F(i.dom,t.length)})}function rS(t){var e,n,r=F.fromRangeStart(t.selection.getRng()),o=B.fromDom(t.getBody());if(t.selection.isCollapsed()){var i=et(Br,t),a=F.fromRangeStart(t.selection.getRng());return Sn(i,t.getBody(),a).bind((n=o,function(u){return u.fold(function(c){return Cn(n.dom,F.before(c))},function(c){return ge(c)},function(c){return xn(c)},function(c){return nn(n.dom,F.after(c))})})).bind(function nS(t,e){return function(n){return i=t,(!ll(a=n)&&(Cn((r=i).dom,o=a).isNone()||nn(r.dom,o).isNone()||Rl(r,o)||Xh(r,o)||cl(r,o)||sl(r,o)||vh(i,a)||bh(i,a))?vS:bS)(e);var r,o,i,a}}(o,r)).exists((e=t,function(u){return e.selection.setRng(u.toRange()),e.nodeChanged(),!0}))}return!1}(ku=Pr=Pr||{})[ku.Up=-1]="Up",ku[ku.Down=1]="Down";var iS=et(F0,Pr.Up,vo,bo),aS=et(F0,Pr.Down,bo,vo),uS=Tt,Mb=Co,Tf=function(t,e){var n=t.selection.getRng(),r=t.getBody();if(e){var o=F.fromRangeEnd(n),i=Oi(r,o);return fr(i.positions)}return o=F.fromRangeStart(n),_e((i=Ri(r,o)).positions)},sS=et(X0,!0),cS=et(X0,!1),Fb=function(t){return bt(At(t.selection.getSelectedBlocks(),B.fromDom),function(e){return!Z0(e)&&!Xe(e).exists(Z0)&&ra(e,function(n){return ln(n.dom)||Tt(n.dom)}).exists(function(n){return ln(n.dom)})})},Ub=Tt,lS=et(pb,function(t){return t.bottom},function(t,e){return t.y<e}),fS=et(pb,function(t){return t.top},function(t,e){return t.y>e}),dS=et(hb,Ri),mS=et(hb,Oi),gS=function(t,e){return n=F.after(e),!!It(n.getNode())||nn(t,F.after(e)).map(function(r){return It(r.getNode())}).getOr(!1);var n},Ee=Vn([{br:[]},{block:[]},{none:[]}]),pS=Fe().browser,hS=Fe(),vS=et(Ib,xe),bS=et(Ib," "),yS=(Rf.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(e=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,function(i){return i===r||void n.push(i)}),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},Rf.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},Rf);function Rf(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(r){var o=t.selection.getRng(),i={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==r.type&&Kc(i,e)||t.fire("SelectionChange"),e=i}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var r=t.selection.getStart(!0);!r||!mt.range&&t.selection.isCollapsed()||za(t)&&!n.isSameElementPath(r)&&t.dom.isChildOf(r,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(r){!r.isDefaultPrevented()&&za(t)&&("IMG"===t.selection.getNode().nodeName?re.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}function zb(t){return lt(t)&&vm(B.fromDom(t))}function Hb(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:e.top+o.pageYOffset-r.clientTop,left:e.left+o.pageXOffset-r.clientLeft}}function Vb(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Fu(t,e){return Do(t.getBody(),e)}function SS(t){function e(C){return C!==v&&(Lr(C)||Ve(C))&&g.isChildOf(C,v)}function n(C){return rr(C)||or(C)||To(C)||Ro(C)}function r(C){C&&m.setRng(C)}function o(C,x,S,R){return void 0===R&&(R=!0),t.fire("ShowCaret",{target:x,direction:C,before:S}).isDefaultPrevented()?null:(R&&m.scrollIntoView(x,-1===C),h.show(S,x))}function i(C){return De(C)||da(C)||ma(C)}function a(C){return i(C.startContainer)||i(C.endContainer)}function u(C,x){if(!C)return null;if(C.collapsed){if(!a(C)){var S=x?1:-1,R=hi(S,v,C),O=R.getNode(!x);if(_r(O))return o(S,O,!!x&&!R.isAtEnd(),!1);var I=R.getNode(x);if(_r(I))return o(S,I,!x&&!R.isAtEnd(),!1)}return null}var L=C.startContainer,k=C.startOffset,D=C.endOffset;if(3===L.nodeType&&0===k&&Lr(L.parentNode)&&(k=g.nodeIndex(L=L.parentNode),L=L.parentNode),1!==L.nodeType)return null;if(D===k+1&&L===C.endContainer){var T=L.childNodes[k];if(e(T))return function(P){var q=P.cloneNode(!0),X=t.fire("ObjectSelected",{target:P,targetClone:q});if(X.isDefaultPrevented())return null;var j=function(W,G,K){var Z=t.$,z=ia(B.fromDom(t.getBody()),"#"+b).fold(function(){return Z([])},function(rt){return Z([rt.dom])});0===z.length&&(z=Z('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",b)).appendTo(t.getBody());var Q=g.createRng();G===K&&mt.ie?(z.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(G),Q.setStartAfter(z[0].firstChild.firstChild),Q.setEndAfter(G)):(z.empty().append(xe).append(G).append(xe),Q.setStart(z[0].firstChild,1),Q.setEnd(z[0].lastChild,0)),z.css({top:g.getPos(W,t.getBody()).y}),z[0].focus();var $=m.getSel();return $.removeAllRanges(),$.addRange(Q),Q}(P,X.targetClone,q),Y=B.fromDom(P);return nt(be(B.fromDom(t.getBody()),"*[data-mce-selected]"),function(W){_t(Y,W)||kn(W,y)}),g.getAttrib(P,y)||P.setAttribute(y,"1"),s=P,_(),j}(T)}return null}function c(){s&&s.removeAttribute(y),ia(B.fromDom(t.getBody()),"#"+b).each(Vt),s=null}var s,f,l,d,m=t.selection,g=t.dom,p=g.isBlock,v=t.getBody(),h=function oC(t,e,n,r){function o(){(function(){for(var f=be(B.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),l=0;l<f.length;l++){var d,m=f[l].dom,g=m.previousSibling;ma(g)&&(1===(d=g.data).length?g.parentNode.removeChild(g):g.deleteData(d.length-1,1)),da(g=m.nextSibling)&&(1===(d=g.data).length?g.parentNode.removeChild(g):g.deleteData(0,1))}})(),a&&(kr(a),a=null),u.on(function(f){gt(f.caret).remove(),u.clear()}),i&&(re.clearInterval(i),i=void 0)}var i,a,u=po(),c=ae(t),s=0<c.length?c:"p";return{show:function(f,l){var d;if(o(),cC(l))return null;if(!n(l))return a=function(p,v){var h=p.ownerDocument.createTextNode(Qt),b=p.parentNode;if(v){if(uo(y=p.previousSibling)){if(De(y))return y;if(ma(y))return y.splitText(y.data.length-1)}b.insertBefore(h,p)}else{var y=p.nextSibling;if(uo(y)){if(De(y))return y;if(da(y))return y.splitText(1),y}p.nextSibling?b.insertBefore(h,p.nextSibling):b.appendChild(h)}return h}(l,f),d=l.ownerDocument.createRange(),vi(a.nextSibling)?(d.setStart(a,0),d.setEnd(a,0)):(d.setStart(a,1),d.setEnd(a,1)),d;a=function(p,v,h){var b,y=v.ownerDocument.createElement(p);y.setAttribute("data-mce-caret",h?"before":"after"),y.setAttribute("data-mce-bogus","all"),y.appendChild(((b=document.createElement("br")).setAttribute("data-mce-bogus","1"),b));var w=v.parentNode;return h?w.insertBefore(y,v):v.nextSibling?w.insertBefore(y,v.nextSibling):w.appendChild(y),y}(s,l,f);var m=Rg(e,l,f);gt(a).css("top",m.top);var g=gt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ft({},m)).appendTo(e)[0];return u.set({caret:g,element:l,before:f}),f&&gt(g).addClass("mce-visual-caret-before"),i=re.setInterval(function(){r()?gt("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):gt("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500),(d=l.ownerDocument.createRange()).setStart(a,0),d.setEnd(a,0),d},hide:o,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){u.on(function(f){var l=Rg(e,f.element,f.before);gt(f.caret).css(ft({},l))})},destroy:function(){return re.clearInterval(i)}}}(t,v,p,function(){return Ar(t)}),b="sel-"+g.uniqueId(),y="data-mce-selected",w=m.getRng,_=function(){h.hide()};return mt.ceFalse&&!Bn(t)&&(t.on("mouseup",function(C){var x=w();x.collapsed&&Hv(t,C.clientX,C.clientY)&&p0(t,x,!1).each(r)}),t.on("click",function(C){var x=Fu(t,C.target);x&&(Lr(x)&&(C.preventDefault(),t.focus()),ey(x)&&g.isChildOf(x,m.getNode())&&c())}),t.on("blur NewBlock",c),t.on("ResizeWindow FullscreenStateChanged",h.reposition),t.on("tap",function(C){var x=C.target,S=Fu(t,x);Lr(S)?(C.preventDefault(),Lo(t,S).each(u)):e(x)&&Lo(t,x).each(u)},!0),t.on("mousedown",function(C){var x,S,R,O,I,L,k,D=C.target;D!==v&&"HTML"!==D.nodeName&&!g.isChildOf(D,v)||!1===Hv(t,C.clientX,C.clientY)||((x=Fu(t,D))?Lr(x)?(C.preventDefault(),Lo(t,x).each(u)):(c(),ey(x)&&C.shiftKey||qc(C.clientX,C.clientY,m.getRng())||(_(),m.placeCaretAt(C.clientX,C.clientY))):e(D)?Lo(t,D).each(u):!1===_r(D)&&(c(),_(),(S=function Uw(t,e,n){function r(s){return!Zr(s.node)&&!Ve(s.node)}var o,i,a,u=vf(bt(un(t.getElementsByTagName("*")),_r));return(a=Du(bt(u,et(Fw,n)),e,r))&&(a=Du(function(s,f,l){function d(g,p){var v=bt(vf([p]),function(h){return!g(h,f)});return m=m.concat(v),0===v.length}void 0===l&&(l=!0);var m=[];return m.push(f),H0(Pr.Up,s,et(d,vo),f.node,l),H0(Pr.Down,s,et(d,bo),f.node,l),m}(t,a,r(a)),e,r))&&_r(a.node)?{node:(o=a).node,before:yf(o,i=e)<Cf(o,i)}:null}(v,C.clientX,C.clientY))&&(O=S.node,L=g.getParent(R=D,p),k=g.getParent(O,p),!on(L)&&(R!==k&&g.isChildOf(L,k)&&!1===Lr(Fu(t,L))||!g.isChildOf(k,L)&&(I=k,g.getParent(L,p)!==g.getParent(I,p))&&function(T){var P=T.firstChild;if(!on(P)){var q=F.before(P);if(It(q.getNode())&&1===T.childNodes.length)return!n(q);var X=en(T).next(q);return X&&!n(X)}}(L))||(C.preventDefault(),r(o(1,S.node,S.before,!1)),t.getBody().focus()))))}),t.on("keypress",function(C){ut.modifierPressed(C)||Lr(m.getNode())&&C.preventDefault()}),t.on("GetSelectionRange",function(C){var x=C.range;s&&(s.parentNode?((x=x.cloneRange()).selectNode(s),C.range=x):s=null)}),t.on("SetSelectionRange",function(C){var x,S,R,O,I,L,k;C.range=(x=C.range,S=t.schema.getShortEndedElements(),R=g.createRng(),I=x.startOffset,L=x.endContainer,k=x.endOffset,yt(S,(O=x.startContainer).nodeName.toLowerCase())?0===I?R.setStartBefore(O):R.setStartAfter(O):R.setStart(O,I),yt(S,L.nodeName.toLowerCase())?0===k?R.setEndBefore(L):R.setEndAfter(L):R.setEnd(L,k),R);var D=u(C.range,C.forward);D&&(C.range=D)}),t.on("AfterSetSelectionRange",function(C){var x=C.range,S=x.startContainer.parentNode;a(x)||"mcepastebin"===S.id||_(),g.hasClass(S,"mce-offscreen-selection")||c()}),t.on("copy",function(C){var x,S,R=C.clipboardData;C.isDefaultPrevented()||!C.clipboardData||mt.ie||(x=(S=g.get(b))&&S.getElementsByTagName("*")[0])&&(C.preventDefault(),R.clearData(),R.setData("text/html",x.outerHTML),R.setData("text/plain",x.outerText||x.innerText))}),function wS(t){var e,n;function r(a){var u;a.isDefaultPrevented()||(u=a.dataTransfer)&&(Yt(u.types,"Files")||0<u.files.length)&&(a.preventDefault(),"drop"===a.type&&pu(n,"Dropped file type is not supported"))}function o(a){Xa(n,a.target)&&r(a)}function i(){var a=Nt.DOM,u=n.dom,c=document,s=n.inline?n.getBody():n.getDoc(),f=["drop","dragover"];nt(f,function(l){a.bind(c,l,o),u.bind(s,l,r)}),n.on("remove",function(){nt(f,function(l){a.unbind(c,l,o),u.unbind(s,l,r)})})}(function xS(t){var r,o,i,a,u,c,s=po(),f=Nt.DOM,l=document,d=function CS(t,e){var n=re.throttle(function(r,o){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(r,o)},0);return e.on("remove",n.stop),function(r){return t.on(function(o){var i,a,u,c,s,f,l,d,m,g,p,v,h,b,y,w,_,C,x,S,R=Math.max(Math.abs(r.screenX-o.screenX),Math.abs(r.screenY-o.screenY));if(!o.dragging&&10<R){if(e.fire("dragstart",{target:o.element}).isDefaultPrevented())return;o.dragging=!0,e.focus()}o.dragging&&(v=o,i={pageX:(y=r,w=(b=e).inline?Hb(b.getBody()):{left:0,top:0},S=(x=b).getBody(),_=x.inline?{left:S.scrollLeft,top:S.scrollTop}:{left:0,top:0},(h={pageX:(C=function(O,I){if(I.target.ownerDocument===O.getDoc())return{left:I.pageX,top:I.pageY};var L,k,D,q=Hb(O.getContentAreaContainer()),X=(k=(L=O).getBody(),D=L.getDoc().documentElement,L.inline?{left:k.scrollLeft,top:k.scrollTop}:{left:k.scrollLeft||D.scrollLeft,top:k.scrollTop||D.scrollTop});return{left:I.pageX-q.left+X.left,top:I.pageY-q.top+X.top}}(b,y)).left-w.left+_.left,pageY:C.top-w.top+_.top}).pageX-v.relX),pageY:h.pageY+5},g=o.ghost,p=e.getBody(),g.parentNode!==p&&p.appendChild(g),c=o.width,s=o.height,f=o.maxX,l=o.maxY,m=d=0,(a=o.ghost).style.left=(u=i).pageX+"px",a.style.top=u.pageY+"px",l<u.pageY+s&&(m=u.pageY+s-l),a.style.width=c-(d=f<u.pageX+c?u.pageX+c-f:d)+"px",a.style.height=s-m+"px",n(r.clientX,r.clientY))})}}(u=s,c=t),m=(r=i=s,function(){r.on(function(g){g.dragging&&o.fire("dragend")}),ty(r)});(o=a=t).on("mousedown",function e(g){var p,v,h,b,y,w;0===g.button&&(p=Gt(c.dom.getParents(g.target),function(){for(var _=[],C=0;C<arguments.length;C++)_[C]=arguments[C];return function(x){for(var S=0;S<_.length;S++)if(_[S](x))return!0;return!1}}(Uu,TS)).getOr(null),y=c.getBody(),Uu(w=p)&&w!==y&&(v=c.dom.getPos(p),h=c.getBody(),b=c.getDoc().documentElement,u.set({element:p,dragging:!1,screenX:g.screenX,screenY:g.screenY,maxX:(c.inline?h.scrollWidth:b.offsetWidth)-2,maxY:(c.inline?h.scrollHeight:b.offsetHeight)-2,relX:g.pageX-v.x,relY:g.pageY-v.y,width:p.offsetWidth,height:p.offsetHeight,ghost:function(_,C,x){var S=c.dom,R=_.cloneNode(!0);S.setStyles(R,{width:C,height:x}),S.setAttrib(R,"data-mce-selected",null);var O=S.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return S.setStyles(O,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:C,height:x}),S.setStyles(R,{margin:0,boxSizing:"border-box"}),O.appendChild(R),O}(p,p.offsetWidth,p.offsetHeight)})))}),t.on("mousemove",d),t.on("mouseup",function n(g){i.on(function(p){var v,h,b,y,w,_;p.dragging&&((y=3===(_=(b=a).selection.getSel().getRangeAt(0).startContainer).nodeType?_.parentNode:_)===(w=p.element)||b.dom.isChildOf(y,w)||Uu(y)||((h=p.element.cloneNode(!0)).removeAttribute("data-mce-selected"),v=h,a.fire("drop",{clientX:g.clientX,clientY:g.clientY}).isDefaultPrevented()||a.undoManager.transact(function(){Vb(p.element),a.insertContent(a.dom.getOuterHTML(v)),a._selectionOverrides.hideFakeCaret()})),a.fire("dragend"))}),ty(i)}),f.bind(l,"mousemove",d),f.bind(l,"mouseup",m),t.on("remove",function(){f.unbind(l,"mousemove",d),f.unbind(l,"mouseup",m)}),t.on("keydown",function(g){g.keyCode===ut.ESC&&m()})})(t),(e=t).on("drop",function(a){var u=void 0!==a.clientX?e.getDoc().elementFromPoint(a.clientX,a.clientY):null;!Uu(u)&&"false"!==e.dom.getContentEditableParent(u)||a.preventDefault()}),t.getParam("block_unsupported_drop",!0,"boolean")&&(n=t).on("init",function(){re.setEditorTimeout(n,i,0)})}(t),l=fc(function(){var C,x;f.removed||!f.getBody().contains(document.activeElement)||(C=f.selection.getRng()).collapsed&&(x=ff(f,C,!1),f.selection.setRng(x))},0),(f=t).on("focus",function(){l.throttle()}),f.on("blur",function(){l.cancel()}),(d=t).on("init",function(){d.on("focusin",function(C){var x,S,R=C.target;Ve(R)&&(x=Do(d.getBody(),R),S=Tt(x)?x:R,d.selection.getNode()!==S&&Lo(d,S).each(function(O){return d.selection.setRng(O)}))})})),{showCaret:o,showBlockCaretContainer:function(C){C.hasAttribute("data-mce-caret")&&(Is(C),r(w()),m.scrollIntoView(C))},hideFakeCaret:_,destroy:function(){h.destroy(),s=null}}}function Of(t){return Wo(t,function(e){return!1===Ce(e)})}function jb(t){var e=t.settings;return Of({block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements,padd_empty_block_inline_children:e.format_empty_lines})}function qb(t){var e=t.settings,n=t.editorUpload.blobCache;return Of({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:t.inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:n,document:t.getDoc(),images_dataimg_filter:e.images_dataimg_filter})}function $b(t){return(t.inline?t.ui:t.dom).styleSheetLoader}function Wb(t){function e(){o.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(i)}function n(){t.removed?e():t.on("remove",e)}var r,o=$b(t),i=Ng(t),a=t.contentCSS;0<t.contentStyles.length&&(r="",U.each(t.contentStyles,function(h){r+=h+"\r\n"}),t.dom.addStyle(r));var u,c,s,f,l,d,m,g,p,v=ne.all((u=t,c=a,s=i,f=[new ne(function(h,b){return $b(u).loadAll(c,h,b)})],u.inline?f:f.concat([new ne(function(h,b){return u.ui.styleSheetLoader.loadAll(s,h,b)})]))).then(n).catch(n);return t.settings.content_style&&(d=(l=t).settings.content_style,m=B.fromDom(l.getBody()),g=ys(hr(m)),cn(p=B.fromTag("style"),"type","text/css"),ee(p,B.fromText(d)),ee(g,p),l.on("remove",function(){Vt(p)})),v}function Bf(t){var e;!0!==t.removed&&(Bn(e=t)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),function ES(t){var e,n,r;t.bindPendingEventDelegates(),t.initialized=!0,t.fire("Init"),t.focus(!0),r=(n=t).dom.getRoot(),n.inline||za(n)&&n.selection.getStart(!0)!==r||ge(r).each(function(o){var i,a,u,c,s=o.getNode(),f=Zr(s)?ge(s).getOr(o):o;mt.browser.isIE()?(i=n,a=f.toRange(),u=B.fromDom(i.getBody()),c=(zp(i)?E.from(a):E.none()).map(Hp).filter(Zc(u)),i.bookmark=c.isSome()?c:i.bookmark):n.selection.setRng(f.toRange())}),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(e=t).settings.auto_focus&&re.setEditorTimeout(e,function(){var o=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus);o.destroyed||o.focus()},100)}(t))}function Pf(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(If.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var i,a,u,c,s,f,l,d,m,g,p,v,h=t.getBody();h.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===If.getStyle(h,"position",!0)&&(h.style.position="relative"),h.contentEditable=t.getParam("content_editable_state",!0)),h.disabled=!1,t.editorUpload=function sw(t){function e(b){return function(y){return t.selection?b(y):[]}}function n(b,y,w){for(var _=0;-1!==(_=b.indexOf(y,_))&&(b=b.substring(0,_)+w+b.substr(_+y.length),_+=w.length-y.length+1),-1!==_;);return b}function r(b,y,w){return b=n(b,'src="'+y+'"','src="'+w+'"'+(w===mt.transparentSrc?' data-mce-placeholder="1"':"")),n(b,'data-mce-src="'+y+'"','data-mce-src="'+w+'"')}function o(b,y){nt(t.undoManager.data,function(w){"fragmented"===w.type?w.fragments=At(w.fragments,function(_){return r(_,b,y)}):w.content=r(w.content,b,y)})}function i(b){return s=s||e0(t,g),h().then(e(function(y){var w=At(y,function(_){return _.blobInfo});return s.upload(w,t0(t)).then(e(function(_){var C=[],x=At(_,function(S,R){var I,L,k,D=y[R].blobInfo,T=y[R].image;return S.status&&t.getParam("images_replace_blob_uris",!0,"boolean")?(m.removeByUri(T.src),Bn(t)||(I=T,k=t.convertURL(L=S.url,"src"),o(I.src,L),t.$(I).attr({src:t.getParam("images_reuse_filename",!1,"boolean")?L+(-1===L.indexOf("?")?"?":"&")+(new Date).getTime():L,"data-mce-src":k}))):S.error&&(S.error.options.remove&&(o(T.getAttribute("src"),mt.transparentSrc),C.push(T)),pu(t,Ze.translate(["Failed to upload image: {0}",S.error.message]))),{element:T,status:S.status,uploadUri:S.url,blobInfo:D}});return 0<x.length&&v.fireIfChanged(),0<C.length&&(Bn(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){nt(C,function(S){t.dom.remove(S),m.removeByUri(S.src)})})),b&&b(x),x}))}))}function a(b){if(yg(t))return i(b)}function u(b){return!1!==$o(p,function(y){return y(b)})&&(0!==b.getAttribute("src").indexOf("data:")||t.getParam("images_dataimg_filter",Ut,"function")(b))}function c(b){return b.replace(/src="(blob:[^"]+)"/g,function(y,w){var _=g.getResultUri(w);if(_)return'src="'+_+'"';var C=(C=m.getByUri(w))||Ke(t.editorManager.get(),function(x,S){return x||S.editorUpload&&S.editorUpload.blobCache.getByUri(w)},null);return C?'src="data:'+C.blob().type+";base64,"+C.base64()+'"':y})}var s,f,l,d,m=function aw(){function t(o){return Gt(r,o).getOrUndefined()}function e(o){if(!o.blob||!o.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var i=o.id||Zv("blobid"),a=o.name||i,u=o.blob;return{id:ot(i),name:ot(a),filename:ot(o.filename||a+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[u.type.toLowerCase()]||"dat")),blob:ot(u),base64:ot(o.base64),blobUri:ot(o.blobUri||URL.createObjectURL(u)),uri:ot(o.uri)}}function n(o){return t(function(i){return i.id()===o})}var r=[];return{create:function(o,i,a,u,c){if(Lt(o))return e({id:o,name:u,filename:c,blob:i,base64:a});if(Wr(o))return e(o);throw new Error("Unknown input type")},add:function(o){n(o.id())||r.push(o)},get:n,getByUri:function(o){return t(function(i){return i.blobUri()===o})},getByData:function(o,i){return t(function(a){return a.base64()===o&&a.blob().type===i})},findFirst:t,removeByUri:function(o){r=bt(r,function(i){return i.blobUri()!==o||void URL.revokeObjectURL(i.blobUri())})},destroy:function(){nt(r,function(o){URL.revokeObjectURL(o.blobUri())}),r=[]}}}(),g=Qv(),p=[],v=(d=se(null),(l=t).on("change AddUndo",function(b){d.set(ft({},b.level))}),{fireIfChanged:function(){var b=l.undoManager.data;fr(b).filter(function(y){return!uu(d.get(),y)}).each(function(y){l.setDirty(!0),l.fire("change",{level:y,lastLevel:as(b,b.length-2).getOrNull()})})}}),h=function(){return(f=f||function Px(t,e){var n={};return{findAll:function(r,o){o=o||Ut;var i=At(bt(r?un(r.getElementsByTagName("img")):[],function(a){var u=a.src;return mt.fileApi&&!a.hasAttribute("data-mce-bogus")&&!a.hasAttribute("data-mce-placeholder")&&u&&u!==mt.transparentSrc&&(0===u.indexOf("blob:")?!t.isUploaded(u)&&o(a):0===u.indexOf("data:")&&o(a))}),function(a){if(void 0!==n[a.src])return new ne(function(c){n[a.src].then(function(s){return"string"==typeof s?s:void c({image:a,blobInfo:s.blobInfo})})});var u=new ne(function(c,s){var f,l,d,m,g,p,h,b;f=e,d=c,m=s,0!==(l=a).src.indexOf("blob:")?(p=(g=Gl(l.src)).data,(b=f.getByData(h=p,g.type))?d({image:l,blobInfo:b}):Pv(l.src).then(function(y){b=f.create(Jl(),y,h),f.add(b),d({image:l,blobInfo:b})},function(y){m(y)})):(b=f.getByUri(l.src))?d({image:l,blobInfo:b}):Pv(l.src).then(function(y){var w=y;new ne(function(_){var C=new FileReader;C.onloadend=function(){_(C.result)},C.readAsDataURL(w)}).then(function(_){h=Gl(_).data,b=f.create(Jl(),y,h),f.add(b),d({image:l,blobInfo:b})})},function(y){m(y)})}).then(function(c){return delete n[c.image.src],c}).catch(function(c){return delete n[a.src],c});return n[a.src]=u});return ne.all(i)}}}(g,m)).findAll(t.getBody(),u).then(e(function(b){return b=bt(b,function(y){return"string"!=typeof y||void pu(t,y)}),Bn(t)||nt(b,function(y){o(y.image.src,y.blobInfo.blobUri()),y.image.src=y.blobInfo.blobUri(),y.image.removeAttribute("data-mce-src")}),b}))};return t.on("SetContent",function(){(yg(t)?a:h)()}),t.on("RawSaveContent",function(b){b.content=c(b.content)}),t.on("GetContent",function(b){b.source_view||"raw"===b.format||"tree"===b.format||(b.content=c(b.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(b){nt(b,function(y){var w,_=y.attr("src");m.getByUri(_)||(w=g.getResultUri(_))&&y.attr("src",w)})})}),{blobCache:m,addFilter:function(b){p.push(b)},uploadImages:i,uploadImagesAuto:a,scanForImages:h,destroy:function(){m.destroy(),g.destroy(),f=s=null}}}(t),t.schema=qn(jb(t)),t.dom=Nt(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam("content_css_cors",!1,"boolean"),referrerPolicy:xg(t),onSetAttrib:function(k){t.fire("SetAttrib",k)}}),t.parser=((a=rf(qb(i=t),i.schema)).addAttributeFilter("src,href,style,tabindex",function(k,D){for(var T,P,q=k.length,X=i.dom,j="data-mce-"+D;q--;)(P=(T=k[q]).attr(D))&&!T.attr(j)&&0!==P.indexOf("data:")&&0!==P.indexOf("blob:")&&("style"===D?((P=X.serializeStyle(X.parseStyle(P),T.name)).length||(P=null),T.attr(j,P),T.attr(D,P)):"tabindex"===D?(T.attr(j,P),T.attr(D,null)):T.attr(j,i.convertURL(P,D,T.name)))}),a.addNodeFilter("script",function(k){for(var D=k.length;D--;){var T=k[D],P=T.attr("type")||"no/type";0!==P.indexOf("mce-")&&T.attr("type","mce-"+P)}}),i.settings.preserve_cdata&&a.addNodeFilter("#cdata",function(k){for(var D=k.length;D--;){var T=k[D];T.type=8,T.name="#comment",T.value="[CDATA["+i.dom.encode(T.value)+"]]"}}),a.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(k){for(var D=k.length,T=i.schema.getNonEmptyElements();D--;){var P=k[D];P.isEmpty(T)&&0===P.getAll("br").length&&(P.append(new qe("br",1)).shortEnded=!0)}}),a),t.serializer=Mv((c=(u=t).settings,ft(ft(ft({},qb(u)),jb(u)),Of({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope,element_format:c.element_format,entities:c.entities,entity_encoding:c.entity_encoding,indent:c.indent,indent_after:c.indent_after,indent_before:c.indent_before}))),t),t.selection=Ov(t.dom,t.getWin(),t.serializer,t),t.annotator=lp(t),t.formatter=r0(t),t.undoManager=i0(t),t._nodeChangeDispatcher=new yS(t),t._selectionOverrides=SS(t),m=t,g=po(),p=se(!1),v=Hm(function(k){m.fire("longpress",ft(ft({},k),{type:"longpress"})),p.set(!0)},400),m.on("touchstart",function(k){rb(k).each(function(D){v.cancel();var T={x:D.clientX,y:D.clientY,target:k.target};v.throttle(k),p.set(!1),g.set(T)})},!0),m.on("touchmove",function(k){v.cancel(),rb(k).each(function(D){g.on(function(T){var P=D,q=T,X=Math.abs(P.clientX-q.x),j=Math.abs(P.clientY-q.y);(5<X||5<j)&&(g.clear(),p.set(!1),m.fire("longpresscancel"))})})},!0),m.on("touchend touchcancel",function(k){v.cancel(),"touchcancel"!==k.type&&g.get().filter(function(D){return D.target.isEqualNode(k.target)}).each(function(){p.get()?k.preventDefault():m.fire("tap",ft(ft({},k),{type:"tap"}))})},!0),(l=f=t).on("click",function(k){l.dom.getParent(k.target,"details")&&k.preventDefault()}),(d=f).parser.addNodeFilter("details",function(k){nt(k,function(D){D.attr("data-mce-open",D.attr("open")),D.attr("open","open")})}),d.serializer.addNodeFilter("details",function(k){nt(k,function(D){var T=D.attr("data-mce-open");D.attr("open",Lt(T)?T:null),D.attr("data-mce-open",null)})}),Bn(t)||(s=t).on("click",function(k){var D,T,P,q,X;3<=k.detail&&(P=(D=s).selection.getRng(),q=F.fromRangeStart(P),X=F.fromRangeEnd(P),!F.isElementPosition(q)||zb(T=q.container())&&ge(T).each(function(j){return P.setStart(j.container(),j.offset())}),!F.isElementPosition(X)||zb(T=q.container())&&xn(T).each(function(j){return P.setEnd(j.container(),j.offset())}),D.selection.setRng(bl(P)))});var b,y,w,_,C,x,S,R,O,I=Bn(b=t)?se(null):function oS(t){var e,n,r,o,i,a,u,c,s,f,l,d,m,g,p=function zw(t){var e=se(null),n=et(Br,t);return t.on("NodeChange",function(r){var o,i,a,u,c,f,l,d,m,g,p,v;!pi(t)||mt.browser.isIE()&&r.initial||(c=n,f=r.parents,nt(td(l=bt(At(be(B.fromDom(t.dom.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(h){return h.dom}),c),d=bt(f,c)),et($0,!1)),nt(td(d,l),et($0,!0)),g=e,(m=t).selection.isCollapsed()&&!0!==m.composing&&g.get()&&(p=F.fromRangeStart(m.selection.getRng()),F.isTextPosition(p)&&!1===(Ps(v=p)||Ls(v))&&(Au(m,rC(g.get(),p)),g.set(null))),o=n,a=e,u=r.parents,(i=t).selection.isCollapsed()&&nt(bt(u,o),function(h){var b=F.fromRangeStart(i.selection.getRng());Sn(o,i.getBody(),b).bind(function(y){return W0(i,a,y)})}))}),e}(t);return t.on("keyup compositionstart",et(qw,t)),g=p,(m=t).on("keydown",function(v){var h,b,y,w;!1===v.isDefaultPrevented()&&(h=m,b=g,y=v,w=Fe().os,Mo([{keyCode:ut.RIGHT,action:ht(ab,h,!0)},{keyCode:ut.LEFT,action:ht(ab,h,!1)},{keyCode:ut.UP,action:ht(ub,h,!1)},{keyCode:ut.DOWN,action:ht(ub,h,!0)},{keyCode:ut.RIGHT,action:ht(yb,h,!0)},{keyCode:ut.LEFT,action:ht(yb,h,!1)},{keyCode:ut.UP,action:ht(Cb,h,!1)},{keyCode:ut.DOWN,action:ht(Cb,h,!0)},{keyCode:ut.RIGHT,action:ht(db,h,!0)},{keyCode:ut.LEFT,action:ht(db,h,!1)},{keyCode:ut.UP,action:ht(mb,h,!1)},{keyCode:ut.DOWN,action:ht(mb,h,!0)},{keyCode:ut.RIGHT,action:ht(K0,h,b,!0)},{keyCode:ut.LEFT,action:ht(K0,h,b,!1)},{keyCode:ut.RIGHT,ctrlKey:!w.isOSX(),altKey:w.isOSX(),action:ht(sS,h,b)},{keyCode:ut.LEFT,ctrlKey:!w.isOSX(),altKey:w.isOSX(),action:ht(cS,h,b)},{keyCode:ut.UP,action:ht(fb,h,!1)},{keyCode:ut.DOWN,action:ht(fb,h,!0)}],y).each(function(_){y.preventDefault()}))}),d=p,(l=t).on("keydown",function(v){var h,b,y;!1===v.isDefaultPrevented()&&(b=d,y=v,Mo([{keyCode:ut.BACKSPACE,action:ht(eb,h=l,!1)},{keyCode:ut.BACKSPACE,action:ht(Cu,h,!1)},{keyCode:ut.DELETE,action:ht(Cu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(yu,h,!1)},{keyCode:ut.DELETE,action:ht(yu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(Ru,h,b,!1)},{keyCode:ut.DELETE,action:ht(Ru,h,b,!0)},{keyCode:ut.BACKSPACE,action:ht(nu,h,!1)},{keyCode:ut.DELETE,action:ht(nu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(xu,h,!1)},{keyCode:ut.DELETE,action:ht(xu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(Bu,h,!1)},{keyCode:ut.DELETE,action:ht(Bu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(bu,h,!1)},{keyCode:ut.DELETE,action:ht(bu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(vu,h,!1)},{keyCode:ut.DELETE,action:ht(vu,h,!0)},{keyCode:ut.BACKSPACE,action:ht(Ou,h,!1)},{keyCode:ut.DELETE,action:ht(Ou,h,!0)}],y).each(function(w){y.preventDefault()}))}),l.on("keyup",function(v){var h,b;!1===v.isDefaultPrevented()&&(b=v,Mo([{keyCode:ut.BACKSPACE,action:ht(y0,h=l)},{keyCode:ut.DELETE,action:ht(y0,h)}],b))}),(f=t).on("keydown",function(v){var h,b,y;v.keyCode===ut.ENTER&&(h=f,(b=v).isDefaultPrevented()||(b.preventDefault(),(y=h.undoManager).typing&&(y.typing=!1,y.add()),h.undoManager.transact(function(){!1===h.selection.isCollapsed()&&h.execCommand("Delete"),Ob(h,b)})))}),(s=t).on("keydown",function(v){var h;!1===v.isDefaultPrevented()&&(h=v,Mo([{keyCode:ut.SPACEBAR,action:ht(rS,s)}],h).each(function(b){h.preventDefault()}))}),u=a=t,c=fc(function(){u.composing||xh(u)},0),pS.isIE()&&(u.on("keypress",function(v){c.throttle()}),u.on("remove",function(v){c.cancel()})),a.on("input",function(v){!1===v.isComposing&&xh(a)}),i=p,(o=t).on("keydown",function(v){var h,b,y;!1===v.isDefaultPrevented()&&(b=i,y=v,Mo([{keyCode:ut.END,action:ht(sb,h=o,!0)},{keyCode:ut.HOME,action:ht(sb,h,!1)},{keyCode:ut.END,action:ht(gb,h,!0)},{keyCode:ut.HOME,action:ht(gb,h,!1)},{keyCode:ut.END,action:ht(Tu,h,!0,b)},{keyCode:ut.HOME,action:ht(Tu,h,!1,b)}],y).each(function(w){y.preventDefault()}))}),e=t,n=p,hS.os.isOSX()||(r=se(!1),e.on("keydown",function(v){Pb(v)&&Lb(r,e,!0)}),e.on("keyup",function(v){var h,b,y;!1===v.isDefaultPrevented()&&(y=v,Mo([{keyCode:ut.PAGE_UP,action:ht(Tu,h=e,!1,b=n)},{keyCode:ut.PAGE_DOWN,action:ht(Tu,h,!0,b)}],y)),Pb(v)&&r.get()&&(Lb(r,e,!1),e.nodeChanged())})),p}(b);O=I,(R=t).addCommand("delete",function(){var k,D=O;eb(k=R)||Cu(k,!1)||yu(k,!1)||Ru(k,D,!1)||vu(k,!1)||nu(k)||xu(k,!1)||Bu(k,!1)||bu(k)||Ou(k,!1)||(nb(k,"Delete"),s0(k))}),R.addCommand("forwardDelete",function(){var k,D=O;Cu(k=R,!0)||yu(k,!0)||Ru(k,D,!0)||vu(k,!0)||nu(k)||xu(k,!0)||Bu(k,!0)||bu(k)||Ou(k,!0)||nb(k,"ForwardDelete")}),ae(y=t)&&y.on("NodeChange",et(jw,y)),_=(w=t).dom,C=ae(w),x=w.getParam("placeholder",iC.getAttrib(w.getElement(),"placeholder"),"string"),S=function(k,D){var T,P,q;!function(X){if(a0(X)){var j=X.keyCode;return!u0(X)&&(ut.metaKeyPressed(X)||X.altKey||112<=j&&j<=123||Yt(Aw,j))}}(k)&&(T=w.getBody(),P=!(a0(q=k)&&!(u0(q)||"keyup"===q.type&&229===q.keyCode))&&function(X,j,Y){if(qt(B.fromDom(j),!1)){var W=""===Y,G=j.firstElementChild;return!G||!X.getStyle(j.firstElementChild,"padding-left")&&!X.getStyle(j.firstElementChild,"padding-right")&&(W?!X.isBlock(G):Y===G.nodeName.toLowerCase())}return!1}(_,T,C),""!==_.getAttrib(T,R0)===P&&!D||(_.setAttrib(T,R0,P?x:null),_.setAttrib(T,"aria-placeholder",P?x:null),w.fire("PlaceholderToggle",{state:P}),w.on(P?"keydown":"keyup",S),w.off(P?"keyup":"keydown",S)))},x&&w.on("init",function(k){S(k,!0),w.on("change SetContent ExecCommand",S),w.on("paste",function(D){return re.setEditorTimeout(w,function(){return S(D)})})});var L=function Ax(t){var e=t;return zt(t.plugins,"rtc").bind(function(n){return E.from(n.setup)}).fold(function(){return e.rtcInstance=Sv(t),E.none()},function(n){var r,o;return e.rtcInstance=(r=ot(null),o=ot(""),{undoManager:{beforeChange:vt,add:r,undo:r,redo:r,clear:vt,reset:vt,hasUndo:Dt,hasRedo:Dt,transact:r,ignore:vt,extra:vt},formatter:{match:Dt,matchAll:ot([]),matchNode:ot(void 0),canApply:Dt,closest:o,apply:vt,remove:vt,toggle:vt,formatChanged:ot({unbind:vt})},editor:{getContent:o,setContent:o,insertContent:vt,addVisual:vt},selection:{getContent:o},raw:{getModel:ot(E.none())}}),E.some(function(){return n().then(function(i){return e.rtcInstance=(f=i.selection,l=i.raw,{undoManager:{beforeChange:(u=i.undoManager).beforeChange,add:u.add,undo:u.undo,redo:u.redo,clear:u.clear,reset:u.reset,hasUndo:u.hasUndo,hasRedo:u.hasRedo,transact:function(d,m,g){return u.transact(g)},ignore:function(d,m){return u.ignore(m)},extra:function(d,m,g,p){return u.extra(g,p)}},formatter:{match:function(d,m,g,p){return c.match(d,a(m),p)},matchAll:(c=i.formatter).matchAll,matchNode:c.matchNode,canApply:function(d){return c.canApply(d)},closest:function(d){return c.closest(d)},apply:function(d,m,g){return c.apply(d,a(m))},remove:function(d,m,g,p){return c.remove(d,a(m))},toggle:function(d,m,g){return c.toggle(d,a(m))},formatChanged:function(d,m,g,p,v){return c.formatChanged(m,g,p,v)}},editor:{getContent:function(d,m){return s.getContent(d)},setContent:function(d,m){return s.setContent(d,m)},insertContent:function(d,m){return s.insertContent(d)},addVisual:(s=i.editor).addVisual},selection:{getContent:function(d,m){return f.getContent(m)}},raw:{getModel:function(){return E.some(l.getRawModel())}}}),i.rtc.isRemote;function a(d){return Wr(d)?d:{}}var u,c,s,f,l})})})}(t);(function(k){var D=k.settings,T=k.getDoc(),P=k.getBody();k.fire("PreInit"),D.browser_spellcheck||D.gecko_spellcheck||(T.body.spellcheck=!1,If.setAttrib(P,"spellcheck","false")),k.quirks=function NS(t){function e(D,T){try{t.getDoc().execCommand(D,!1,T)}catch{}}function n(D){return D.isDefaultPrevented()}function r(){t.shortcuts.add("meta+a",null,"SelectAll")}function o(){t.inline||b.bind(t.getDoc(),"mousedown mouseup",function(D){var T;D.target===t.getDoc().documentElement&&(T=y.getRng(),t.getBody().focus(),"mousedown"===D.type?De(T.startContainer)||y.placeCaretAt(D.clientX,D.clientY):y.setRng(T))})}function i(){Range.prototype.getClientRects||t.on("mousedown",function(D){var T;n(D)||"HTML"!==D.target.nodeName||((T=t.getBody()).blur(),re.setEditorTimeout(t,function(){T.focus()}))})}function a(){t.on("click",function(D){var T=D.target;/^(IMG|HR)$/.test(T.nodeName)&&"false"!==b.getContentEditableParent(T)&&(D.preventDefault(),t.selection.select(T),t.nodeChanged()),"A"===T.nodeName&&b.hasClass(T,"mce-item-anchor")&&(D.preventDefault(),y.select(T))})}function u(){t.on("keydown",function(D){if(!n(D)&&D.keyCode===v&&y.isCollapsed()&&0===y.getRng().startOffset){var T=y.getNode().previousSibling;if(T&&T.nodeName&&"table"===T.nodeName.toLowerCase())return D.preventDefault(),!1}})}function c(){t.getParam("readonly")||t.on("BeforeExecCommand mousedown",function(){e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),Eg(t)||e("enableObjectResizing",!1)})}function s(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function f(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})}function l(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(D){var T;"HTML"===D.target.nodeName&&(11<mt.ie?t.getBody().focus():(T=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(T),t.selection.normalize(),t.nodeChanged()))}))}function d(){mt.mac&&t.on("keydown",function(D){!ut.metaKeyPressed(D)||D.shiftKey||37!==D.keyCode&&39!==D.keyCode||(D.preventDefault(),t.selection.getSel().modify("move",37===D.keyCode?"backward":"forward","lineboundary"))})}function m(){t.on("click",function(D){var T=D.target;do{if("A"===T.tagName)return void D.preventDefault()}while(T=T.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function g(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(D){D.preventDefault()})})}var p=U.each,v=ut.BACKSPACE,h=ut.DELETE,b=t.dom,y=t.selection,w=t.parser,_=mt.gecko,x=mt.webkit,S="data:text/mce-internal,",R=mt.ie?"Text":"URL",O=vt;return Bn(t)?(x&&(o(),a(),g(),r(),mt.iOS&&(f(),l(),m())),_&&(i(),c(),s(),d())):(t.on("keydown",function(D){if(!n(D)&&D.keyCode===ut.BACKSPACE){var T,P=(T=y.getRng()).startContainer,q=T.startOffset,X=b.getRoot(),j=P;if(T.collapsed&&0===q){for(;j&&j.parentNode&&j.parentNode.firstChild===j&&j.parentNode!==X;)j=j.parentNode;"BLOCKQUOTE"===j.tagName&&(t.formatter.toggle("blockquote",null,j),(T=b.createRng()).setStart(P,0),T.setEnd(P,0),y.setRng(T))}}}),t.on("keydown",function(D){var T,P,q,X,j=D.keyCode;n(D)||j!==h&&j!==v||(T=t.selection.isCollapsed(),P=t.getBody(),T&&!b.isEmpty(P)||!T&&(q=k(t.selection.getRng()),(X=b.createRng()).selectNode(t.getBody()),q!==k(X))||(D.preventDefault(),t.setContent(""),P.firstChild&&b.isBlock(P.firstChild)?t.selection.setCursorLocation(P.firstChild,0):t.selection.setCursorLocation(P,0),t.nodeChanged()))}),mt.windowsPhone||t.on("keyup focusin mouseup",function(D){ut.modifierPressed(D)||y.normalize()},!0),x&&(o(),a(),ae(t)&&t.on("init",function(){e("DefaultParagraphSeparator",ae(t))}),g(),u(),w.addNodeFilter("br",function(D){for(var T=D.length;T--;)"Apple-interchange-newline"===D[T].attr("class")&&D[T].remove()}),mt.iOS?(f(),l(),m()):r()),11<=mt.ie&&(l(),u()),mt.ie&&(r(),e("AutoUrlDetect",!1),t.on("dragstart",function(D){var T,P,q;(T=D).dataTransfer&&(t.selection.isCollapsed()&&"IMG"===T.target.tagName&&y.select(T.target),0<(P=t.selection.getContent()).length&&(q=S+escape(t.id)+","+escape(P),T.dataTransfer.setData(R,q)))}),t.on("drop",function(D){var T,P,q,X;n(D)||(T=D.dataTransfer&&(X=D.dataTransfer.getData(R))&&0<=X.indexOf(S)?(X=X.substr(23).split(","),{id:unescape(X[0]),html:unescape(X[1])}):null)&&T.id!==t.id&&(D.preventDefault(),P=Wc(D.x,D.y,t.getDoc()),y.setRng(P),q=T.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:q,internal:!0}):t.execCommand("mceInsertContent",!1,q))})),_&&(t.on("keydown",function(D){if(!n(D)&&D.keyCode===v&&t.getBody().getElementsByTagName("hr").length&&y.isCollapsed()&&0===y.getRng().startOffset){var T=y.getNode(),P=T.previousSibling;if("HR"===T.nodeName)return b.remove(T),void D.preventDefault();P&&P.nodeName&&"hr"===P.nodeName.toLowerCase()&&(b.remove(P),D.preventDefault())}}),i(),t.on("keypress",function(D){var T;if(!n(D)&&(8===D.keyCode||46===D.keyCode)&&L())return T=I(),t.getDoc().execCommand("delete",!1,null),T(),D.preventDefault(),!1}),b.bind(t.getDoc(),"cut",function(D){var T;!n(D)&&L()&&(T=I(),re.setEditorTimeout(t,function(){T()}))}),c(),t.on("SetContent ExecCommand",function(D){"setcontent"!==D.type&&"mceInsertLink"!==D.command||p(b.select("a"),function(T){var P=T.parentNode,q=b.getRoot();if(P.lastChild===T){for(;P&&!b.isBlock(P);){if(P.parentNode.lastChild!==P||P===q)return;P=P.parentNode}b.add(P,"br",{"data-mce-bogus":1})}})}),s(),d(),u())),{refreshContentEditable:O,isHidden:function(){if(!_||t.removed)return!1;var D=t.selection.getSel();return!D||!D.rangeCount||0===D.rangeCount}};function I(){var D=b.getAttribs(y.getStart().cloneNode(!1));return function(){var T=y.getStart();T!==t.getBody()&&(b.setAttrib(T,"style",null),p(D,function(P){T.setAttributeNode(P.cloneNode(!0))}))}}function L(){return!y.isCollapsed()&&b.getParent(y.getStart(),b.isBlock)!==b.getParent(y.getEnd(),b.isBlock)}function k(D){var T=b.create("body"),P=D.cloneContents();return T.appendChild(P),y.serializer.serialize(T,{format:"html"})}}(k),k.fire("PostRender");var q=k.getParam("directionality",Ze.isRtl()?"rtl":void 0);void 0!==q&&(P.dir=q),D.protect&&k.on("BeforeSetContent",function(X){U.each(D.protect,function(j){X.content=X.content.replace(j,function(Y){return"\x3c!--mce:protected "+escape(Y)+"--\x3e"})})}),k.on("SetContent",function(){k.addVisual(k.getBody())}),k.on("compositionstart compositionend",function(X){k.composing="compositionstart"===X.type})})(t),L.fold(function(){Wb(t).then(function(){return Bf(t)})},function(k){t.setProgressState(!0),Wb(t).then(function(){k().then(function(D){t.setProgressState(!1),Bf(t)},function(D){t.notificationManager.open({type:"error",text:String(D)}),Bf(t)})})})}function Kb(t){return t.replace(/^\-/,"")}function Xb(t){return{editorContainer:t,iframeContainer:t,api:{}}}function Yb(t){var e,n,r,o,i,a,u,c;t.fire("ScriptsLoaded"),n=U.trim(Cg(e=t)),r=e.ui.registry.getAll().icons,Bt(ft(ft({},gu.get("default").icons),gu.get(n).icons),function(h,b){yt(r,b)||e.ui.registry.addIcon(b,h)}),a=gi(o=t),Lt(a)?(o.settings.theme=Kb(a),i=ar.get(a),o.theme=new i(o,ar.urls[a]),o.theme.init&&o.theme.init(o,ar.urls[a]||o.documentBaseUrl.replace(/\/$/,""),o.$)):o.theme={},c=[],U.each(Cc(u=t).split(/[ ,]/),function(h){ry(u,c,Kb(h))});var s=function kS(t){var e,n,r,o,i,a,u,c=t.getElement();return t.orgDisplay=c.style.display,Lt(gi(t))?t.theme.renderUI():Ot(gi(t))?(n=(e=t).getElement(),(r=gi(e)(e,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight||n.offsetHeight,r):(u=(o=t).getElement(),o.inline?Xb(null):(i=u,a=ny.create("div"),ny.insertAfter(a,i),Xb(a)))}(t),f=t,l=E.from(s.api).getOr({}),d={show:E.from(l.show).getOr(vt),hide:E.from(l.hide).getOr(vt),disable:E.from(l.disable).getOr(vt),isDisabled:E.from(l.isDisabled).getOr(Dt),enable:function(){f.mode.isReadOnly()||E.from(l.enable).map(Ty)}};f.ui=ft(ft({},f.ui),d);var m,g,p,v={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};return t.editorContainer=v.editorContainer||null,function iw(t){var e,n;t.contentCSS=t.contentCSS.concat(T0(t,(n=(e=t).getParam("content_css"),Lt(n)?At(n.split(","),ps):Me(n)?n:!1===n||e.inline?[]:["default"])),T0(t,Ng(t)))}(t),t.inline?Pf(t):(p=function _S(t,e){var n,r,o,i,a=t.translate("Rich Text Area"),u=(n=t.id,r=a,o=t.getParam("iframe_attrs",{}),Hn(i=B.fromTag("iframe"),o),Hn(i,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),Ea(i,"tox-edit-area__iframe"),i.dom);u.onload=function(){u.onload=null,t.fire("load")};var c=function(s,f){if(document.domain!==window.location.hostname&&mt.browser.isIE()){var l=Zv("mce");s[l]=function(){Pf(s)};var d='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+s.id+'");document.write(ed.iframeHTML);document.close();ed.'+l+"(true);})()";return Ii.setAttrib(f,"src",d),!0}return!1}(t,u);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=u,t.iframeHTML=function(s){var f=s.getParam("doctype","<!DOCTYPE html>")+"<html><head>";s.getParam("document_base_url","")!==s.documentBaseUrl&&(f+='<base href="'+s.documentBaseURI.getURI()+'" />'),f+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var l=vg(s,"body_id","tinymce"),d=vg(s,"body_class",""),m=s.translate(s.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return bg(s)&&(f+='<meta http-equiv="Content-Security-Policy" content="'+bg(s)+'" />'),f+'</head><body id="'+l+'" class="mce-content-body '+d+'" data-id="'+s.id+'" aria-label="'+m+'"><br></body></html>'}(t),Ii.add(e.iframeContainer,u),c}(m=t,g=v),g.editorContainer&&(Ii.get(g.editorContainer).style.display=m.orgDisplay,m.hidden=Ii.isHidden(g.editorContainer)),m.getElement().style.display="none",Ii.setAttrib(m.id,"aria-hidden","true"),void(p||Pf(m)))}function Gb(t){return"-"===t.charAt(0)}function Jb(t,e,n){return E.from(e).filter(function(r){return 0<r.length&&!gu.has(r)}).map(function(r){return{url:t.editorManager.baseURL+"/icons/"+r+"/icons"+n+".js",name:E.some(r)}})}function Qb(t){return function(e,n){return E.from(n).map(B.fromDom).filter(Ge).bind(function(r){return o=t,i=e,wl(B.fromDom(r.dom),function(c){return ws(s=c,o).orThunk(function(){return"font"===Ht(s)?zt(RS,o).bind(function(f){return Vd(s,f)}):E.none()});var s},function(c){return _t(B.fromDom(i),c)}).or(E.from(Nt.DOM.getStyle(r.dom,t,!0)));var o,i}).getOr("")}}function AS(t){return ge(t.getBody()).map(function(e){var n=e.container();return it(n)?n.parentNode:n})}function Lf(t,e){return n=t,r=Wf(E.some,e),E.from((o=n).selection.getRng()).bind(function(i){var a=o.getBody();return i.startContainer===a&&0===i.startOffset?E.none():E.from(o.selection.getStart(!0))}).orThunk(et(AS,n)).map(B.fromDom).filter(Ge).bind(r);var n,r,o}function Zb(t,e){if(/^[0-9.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var r=U.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),o=U.explode(t.getParam("font_size_classes",""));return o?o[n-1]||e:r[n-1]||e}return e}return e}var Uu=Tt,TS=ln,ty=function(t){t.on(function(e){Vb(e.ghost)}),t.clear()},ey=ln,Lr=Tt,If=Nt.DOM,Ii=Nt.DOM,ny=Nt.DOM,ry=function(t,e,n){var r,i,a,u=rn.get(n),c=rn.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=U.trim(n),u&&-1===U.inArray(e,n)&&(U.each(rn.dependencies(n),function(f){ry(t,e,f)}),!t.plugins[n]))try{var s=new u(t,c,t.$);(t.plugins[n]=s).init&&(s.init(t,c),e.push(n))}catch(f){i=f,xp(r=t,"PluginLoadError",{message:a=Ze.translate(["Failed to initialize plugin: {0}",n])}),Nu(a,i),pu(r,a)}},Ir=Nt.DOM,RS={"font-size":"size","font-family":"face"},OS=Qb("font-size"),BS=an(function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Qb("font-family")),zu=U.each,PS=U.map,LS=U.inArray,oy=(pe.prototype.execCommand=function(t,e,n,r){var o,i,a=!1,u=this;if(!u.editor.removed){if("mcefocus"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?tl(i=u.editor).each(function(s){return i.selection.setRng(s)}):u.editor.focus()),(r=u.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;var c=t.toLowerCase();if(o=u.commands.exec[c])return o(c,e,n),u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(zu(this.editor.plugins,function(s){if(s.execCommand&&s.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,e,n))return u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=u.editor.getDoc().execCommand(t,e,n)}catch{}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},pe.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},pe.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},pe.prototype.addCommands=function(t,e){void 0===e&&(e="exec");var n=this;zu(t,function(r,o){zu(o.toLowerCase().split(","),function(i){n.commands[e][i]=r})})},pe.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(o,i,a,u){return e.call(n||r.editor,i,a,u)}},pe.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},pe.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},pe.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},pe.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},pe.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},pe.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},pe.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e),this.editor.nodeChanged()},pe.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},pe.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},pe.prototype.setupCommands=function(t){var e=this;function n(r){return function(){var o=t.selection,i=o.isCollapsed()?[t.dom.getParent(o.getNode(),t.dom.isBlock)]:o.getSelectedBlocks(),a=PS(i,function(u){return!!t.formatter.matchNode(u,r)});return-1!==LS(a,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":vt,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(r,o,i){var a;(a=t).removed||(i?il:function(c){var s=c.selection,f=c.getBody(),l=s.getRng();c.quirks.refreshContentEditable(),void 0!==c.bookmark&&!1===Ar(c)&&tl(c).each(function(p){c.selection.setRng(p),l=p});var d,m,g=(d=c,m=s.getNode(),d.dom.getParent(m,function(p){return"true"===d.dom.getContentEditable(p)}));if(c.$.contains(f,g))return el(g),Vp(c,l),il(c);c.inline||(mt.opera||el(f),c.getWin().focus()),(mt.gecko||c.inline)&&(el(f),Vp(c,l)),il(c)})(a)},"Cut,Copy,Paste":function(r){var o,i,a=t.getDoc();try{e.execNativeCommand(r)}catch{o=!0}!(o="paste"===r&&!a.queryCommandEnabled(r)||o)&&a.queryCommandSupported(r)||(i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),mt.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:i,type:"error"}))},unlink:function(){var r;t.selection.isCollapsed()?(r=t.dom.getParent(t.selection.getStart(),"a"))&&t.dom.remove(r,!0):t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(r){var o=r.substring(7);"full"===o&&(o="justify"),zu("left,center,right,justify".split(","),function(i){o!==i&&t.formatter.remove("align"+i)}),"none"!==o&&e.toggleFormat("align"+o)},"InsertUnorderedList,InsertOrderedList":function(r){var o;e.execNativeCommand(r);var i=t.dom.getParent(t.selection.getNode(),"ol,ul");i&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((o=i.parentNode).nodeName)&&(e.storeSelection(),t.dom.split(o,i),e.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){e.toggleFormat(r)},"ForeColor,HiliteColor":function(r,o,i){e.toggleFormat(r,{value:i})},FontName:function(r,o,i){var a,u;u=Zb(a=t,i),a.formatter.toggle("fontname",{value:At(u.split(/\s*,\s*/),function(c){return-1===c.indexOf(" ")||mr(c,'"')||mr(c,"'")?c:"'"+c+"'"}).join(",")}),a.nodeChanged()},FontSize:function(r,o,i){var a;(a=t).formatter.toggle("fontsize",{value:Zb(a,i)}),a.nodeChanged()},LineHeight:function(r,o,i){var a;(a=t).formatter.toggle("lineheight",{value:String(i)}),a.nodeChanged()},Lang:function(r,o,i){e.toggleFormat(r,{value:i.code,customValue:i.customCode})},RemoveFormat:function(r){t.formatter.remove(r)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(r,o,i){return e.toggleFormat(i||"p")},mceCleanup:function(){var r=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(r)},mceRemoveNode:function(r,o,i){var a=i||t.selection.getNode();a!==t.getBody()&&(e.storeSelection(),t.dom.remove(a,!0),e.restoreSelection())},mceSelectNodeDepth:function(r,o,i){var a=0;t.dom.getParent(t.selection.getNode(),function(u){if(1===u.nodeType&&a++===i)return t.selection.select(u),!1},t.getBody())},mceSelectNode:function(r,o,i){t.selection.select(i)},mceInsertContent:function(r,o,i){var a,u,c,s;a=t,c=(u=function(f){if("string"==typeof f)return{content:f,details:{}};var l=U.extend({paste:f.paste,data:{paste:f.paste}},f);return{content:f.content,details:l}}(i)).content,s=u.details,$l(a).editor.insertContent(c,s)},mceInsertRawHTML:function(r,o,i){t.selection.setContent("tiny_mce_marker");var a=t.getContent();t.setContent(a.replace(/tiny_mce_marker/g,function(){return i}))},mceInsertNewLine:function(r,o,i){Ob(t,i)},mceToggleFormat:function(r,o,i){e.toggleFormat(i)},mceSetContent:function(r,o,i){t.setContent(i)},"Indent,Outdent":function(r){tb(t,r)},mceRepaint:vt,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(r,o,i){t.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(r,o,i){"string"==typeof i&&(i={href:i});var a=t.dom.getParent(t.selection.getNode(),"a");i.href=i.href.replace(/ /g,"%20"),a&&i.href||t.formatter.remove("link"),i.href&&t.formatter.apply("link",i,a)},selectAll:function(){var r,o=t.dom.getParent(t.selection.getStart(),ln);o&&((r=t.dom.createRng()).selectNodeContents(o),t.selection.setRng(r))},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(r,o,i){return kb(t,i),!0}}),e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return e.isFormatMatch(r)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return Q0(t)},"InsertUnorderedList,InsertOrderedList":function(r){var o=t.dom.getParent(t.selection.getNode(),"ul,ol");return o&&("insertunorderedlist"===r&&"UL"===o.tagName||"insertorderedlist"===r&&"OL"===o.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",function(){return Lf(r=t,function(o){return BS(r.getBody(),o.dom)}).getOr("");var r},this),e.addQueryValueHandler("FontSize",function(){return Lf(r=t,function(o){return OS(r.getBody(),o.dom)}).getOr("");var r},this),e.addQueryValueHandler("LineHeight",function(){return Lf(r=t,function(o){var i=B.fromDom(r.getBody());return wl(o,function(a){return ws(a,"line-height")},et(_t,i)).getOrThunk(function(){var a=parseFloat(Dn(o,"line-height")),u=parseFloat(Dn(o,"font-size"));return String(a/u)})}).getOr("");var r},this)},pe);function pe(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}function Mf(t,e,n){try{t.getDoc().execCommand(e,!1,String(n))}catch{}}function Hu(t,e){t.dom.contentEditable=e?"true":"false"}function Mr(t){return t.readonly}function iy(t){t.parser.addAttributeFilter("contenteditable",function(e){Mr(t)&&nt(e,function(n){n.attr(Fr,n.attr("contenteditable")),n.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Fr,function(e){Mr(t)&&nt(e,function(n){n.attr("contenteditable",n.attr(Fr))})}),t.serializer.addTempAttr(Fr)}var Fr="data-mce-contenteditable",FS=U.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Ff=(Ur.isNative=function(t){return!!FS[t.toLowerCase()]},Ur.prototype.fire=function(t,e){var n=t.toLowerCase(),r=hm(n,e||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},Ur.prototype.on=function(t,e,n,r){if(e=!1===e?Dt:e){var o={func:e,removed:!1};r&&U.extend(o,r);for(var i=t.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],c=this.bindings[u];c||(c=[],this.toggleEvent(u,!0)),c=n?Un([o],c,!0):Un(Un([],c,!0),[o],!1),this.bindings[u]=c}}return this},Ur.prototype.off=function(t,e){var n=this;if(t)for(var r=t.toLowerCase().split(" "),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return Bt(this.bindings,function(c,s){n.toggleEvent(s,!1),delete n.bindings[s]}),this;u&&(e?(u=(i=Jf(u,function(c){return c.func===e})).fail,this.bindings[a]=u,nt(i.pass,function(c){c.removed=!0})):u.length=0,u.length||(this.toggleEvent(t,!1),delete this.bindings[a]))}else Bt(this.bindings,function(c,s){n.toggleEvent(s,!1)}),this.bindings={};return this},Ur.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},Ur.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},Ur);function Ur(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Dt}function Mi(t){return t._eventDispatcher||(t._eventDispatcher=new Ff({scope:t,toggleEvent:function(e,n){Ff.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher}function Vu(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=_g(t);return n?(t.eventRoot||(t.eventRoot=qu.select(n)[0]),t.eventRoot):t.getBody()}function ay(t,e,n){var r,o,i,a;t.hidden||Mr(t)?Mr(t)&&(r=t,"click"!==(o=n).type||ut.metaKeyPressed(o)||(i=B.fromDom(o.target),a=r,As(i,"a",function(u){return _t(u,B.fromDom(a.getBody()))}).bind(function(u){return Vd(u,"href")}).each(function(u){var c,s;o.preventDefault(),/^#/.test(u)?(c=r.dom.select(u+',[name="'+(mr(s=u,"#")?s.substring(1):s)+'"]')).length&&r.selection.scrollIntoView(c[0],!0):window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):t.fire(e,n)}function uy(t,e){var n,r;t.delegates||(t.delegates={}),t.delegates[e]||t.removed||(r=Vu(t,e),_g(t)?(zr||(zr={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||zr&&(Bt(zr,function(o,i){t.dom.unbind(Vu(t,i))}),zr=null)})),zr[e]||(zr[e]=n=function(o){for(var i=o.target,a=t.editorManager.get(),u=a.length;u--;){var c=a[u].getBody();c!==i&&!qu.isChildOf(i,c)||ay(a[u],e,o)}},qu.bind(r,e,n))):(qu.bind(r,e,n=function(o){ay(t,e,o)}),t.delegates[e]=n))}function sy(t,e,n,r){var o=n[e.get()],i=n[r];try{i.activate()}catch(a){return void console.error("problem while activating editor mode "+r+":",a)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&function MS(t,e){var n,r,o=B.fromDom(t.getBody());(function IS(t,e,n){var r,o,i,a,u,c;Vm(t,e)&&!1===n?(o=e,Na(r=t)?r.dom.classList.remove(o):(u=o,0<(c=bt(dc(a=r,"class"),function(s){return s!==u})).length?cn(a,"class",c.join(" ")):kn(a,"class")),0===(Na(i=r)?i.dom.classList:dc(i,"class")).length&&kn(i,"class")):n&&Ea(t,e)})(o,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),E.from(t.selection.getNode()).each(function(i){i.removeAttribute("data-mce-selected")}),Hu(o,!(t.readonly=!0)),nt(be(o,'*[contenteditable="true"]'),function(i){cn(i,Fr,"true"),Hu(i,!1)})):(Hu(o,!(t.readonly=!1)),nt(be(o,"*["+Fr+'="true"]'),function(i){kn(i,Fr),Hu(i,!0)}),Mf(t,"StyleWithCSS",!1),Mf(t,"enableInlineTableEditing",!1),Mf(t,"enableObjectResizing",!1),(Ar(n=t)||Qc(hr(B.fromDom((r=n).getElement()))).filter(function(i){return!(void 0!==(a=i.dom.classList)&&(a.contains("tox-edit-area")||a.contains("tox-edit-area__iframe")||a.contains("mce-content-body")))&&Xa(r,i.dom);var a}).isSome())&&t.focus(),t.selection.setRng(t.selection.getRng()),t.nodeChanged())}(t,i.editorReadOnly),e.set(r),t.fire("SwitchMode",{mode:r})}function US(t){var e,n={};Uf(zf(t.toLowerCase(),"+"),function(o){o in ly?n[o]=!0:/^[0-9]{2,}$/.test(o)?n.keyCode=parseInt(o,10):(n.charCode=o.charCodeAt(0),n.keyCode=HS[o]||o.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(e in ly)n[e]?r.push(e):n[e]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,mt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(mt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}var zr,ju={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=Mi(this).fire(t,e);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,e,n){return Mi(this).on(t,e,n)},off:function(t,e){return Mi(this).off(t,e)},once:function(t,e){return Mi(this).once(t,e)},hasEventListeners:function(t){return Mi(this).has(t)}},qu=Nt.DOM,cy=ft(ft({},ju),{bindPendingEventDelegates:function(){var t=this;U.each(t._pendingNativeEvents,function(e){uy(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(n.removed||(e?n.initialized?uy(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(Vu(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(Bt(t.delegates,function(r,o){t.dom.unbind(Vu(t,o),o,r)}),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),zS=["design","readonly"],Uf=U.each,zf=U.explode,HS={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},ly=U.makeMap("alt,ctrl,shift,meta,access"),fy=(Mn.prototype.add=function(t,e,n,r){var o=this,i=o.normalizeCommandFunc(n);return Uf(zf(U.trim(t)),function(a){var u=o.createShortcut(a,e,i,r);o.shortcuts[u.id]=u}),!0},Mn.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},Mn.prototype.normalizeCommandFunc=function(t){var e=this,n=t;return"string"==typeof n?function(){e.editor.execCommand(n,!1,null)}:U.isArray(n)?function(){e.editor.execCommand(n[0],n[1],n[2])}:n},Mn.prototype.createShortcut=function(t,e,n,r){var o=U.map(zf(t,">"),US);return o[o.length-1]=U.extend(o[o.length-1],{func:n,scope:r||this.editor}),U.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},Mn.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},Mn.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},Mn.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},Mn.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},Mn);function Mn(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",function(n){!e.hasModifier(n)&&!e.isFunctionKey(n)||n.isDefaultPrevented()||(Uf(e.shortcuts,function(r){if(e.matchShortcut(n,r))return e.pendingPatterns=r.subpatterns.slice(0),"keydown"===n.type&&e.executeShortcutAction(r),!0}),e.matchShortcut(n,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===n.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))})}var Hr=Nt.DOM,dy=U.extend,VS=U.each,my=U.resolve,jS=mt.ie,$u=(Ct.prototype.render=function(){!function(t){var e=t.id;Ze.setCode(wg(t));var n,r,o,i,a=function(){Ir.unbind(window,"ready",a),t.render()};co.Event.domLoaded?t.getElement()&&mt.contentEditable&&(n=B.fromDom(t.getElement()),r=Ke(n.dom.attributes,function(u,c){return u[c.name]=c.value,u},{}),t.on("remove",function(){Gf(n.dom.attributes,function(u){return kn(n,u.name),0}),Hn(n,r)}),t.ui.styleSheetLoader=im.forElement(n,{contentCssCors:(o=t).getParam("content_css_cors"),referrerPolicy:xg(o)}),t.getParam("inline")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(i=t.getElement().form||Ir.getParent(e,"form"))&&(t.formElement=i,t.getParam("hidden_input")&&!Ns(t.getElement())&&(Ir.insertAfter(Ir.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(u){t.fire(u.type,u)},Ir.bind(i,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!t.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=Gv(t),t.notificationManager=Vv(t),"xml"===t.getParam("encoding")&&t.on("GetContent",function(u){u.save&&(u.content=Ir.encode(u.content))}),t.getParam("add_form_submit_trigger")&&t.on("submit",function(){t.initialized&&t.save()}),t.getParam("add_unload_trigger")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),function DS(t,e){var n,r,o=Tn.ScriptLoader,i=o,a=e,u=function(){var s,f,l,d,m,g,p,v,h;m=o,v=wg(g=t),h=g.getParam("language_url","","string"),!1===Ze.hasCode(v)&&"en"!==v&&m.add(p=""!==h?h:g.editorManager.baseURL+"/langs/"+v+".js",vt,void 0,function(){uf(g,"LanguageLoadError",sf("language",p,v))}),l=o,nt(function(b){for(var y=[],w=function(C){y.push(C)},_=0;_<b.length;_++)b[_].each(w);return y}([Jb(d=t,"default",e),E.from(d.getParam("icons_url","","string")).filter(function(b){return 0<b.length}).map(function(b){return{url:b,name:E.none()}}).orThunk(function(){return Jb(d,Cg(d),"")})]),function(b){l.add(b.url,vt,void 0,function(){uf(d,"IconsLoadError",sf("icons",b.url,b.name.getOrUndefined()))})}),f=e,U.each((s=t).getParam("external_plugins"),function(b,y){rn.load(y,b,vt,void 0,function(){cf(s,b,y)}),s.settings.plugins+=" "+y}),U.each(Cc(s).split(/[ ,]/),function(b){var y,w;(b=U.trim(b))&&!rn.urls[b]&&(Gb(b)?(b=b.substr(1,b.length),y=rn.dependencies(b),U.each(y,function(_){var C=rn.createUrl({prefix:"plugins/",resource:_,suffix:"/plugin"+f+".js"},_);rn.load(C.resource,C,vt,void 0,function(){cf(s,C.prefix+C.resource+C.suffix,C.resource)})})):rn.load(b,w={prefix:"plugins/",resource:b,suffix:"/plugin"+f+".js"},vt,void 0,function(){cf(s,w.prefix+w.resource+w.suffix,b)}))}),o.loadQueue(function(){t.removed||Yb(t)},t,function(){t.removed||Yb(t)})},c=gi(n=t);Lt(c)?(Gb(c)||yt(ar.urls,c)||((r=n.getParam("theme_url"))?ar.load(c,n.documentBaseURI.toAbsolute(r)):ar.load(c,"themes/"+c+"/theme"+a+".js")),i.loadQueue(function(){ar.waitFor(c,u)})):u()}(t,t.suffix)):Ir.bind(window,"ready",a)}(this)},Ct.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},Ct.prototype.hasFocus=function(){return Ar(this)},Ct.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this.settings[t];if(o)return this.callbackLookup&&(r=this.callbackLookup[t])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?my(r):0,o=my(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:o,scope:r}),o.apply(r||this,e)},Ct.prototype.translate=function(t){return Ze.translate(t)},Ct.prototype.getParam=function(t,e,n){return i=e,f=(o=t)in(r=this).settings?r.settings[o]:i,"hash"===(a=n)?(s={},"string"==typeof(c=f)?nt(0<c.indexOf("=")?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(l){var d=l.split("=");s[U.trim(d[0])]=U.trim(1<d.length?d[1]:d[0])}):s=c,s):"string"===a?Or(Lt,r,o).getOr(i):"number"===a?Or(Kr,r,o).getOr(i):"boolean"===a?Or(Kf,r,o).getOr(i):"object"===a?Or(Wr,r,o).getOr(i):"array"===a?Or(Me,r,o).getOr(i):"string[]"===a?Or((u=Lt,function(l){return Me(l)&&$o(l,u)}),r,o).getOr(i):"function"===a?Or(Ot,r,o).getOr(i):f;var r,o,i,a,u,c,s,f},Ct.prototype.hasPlugin=function(t,e){return!(!Yt(Cc(this).split(/[ ,]/),t)||e&&void 0===rn.get(t))},Ct.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},Ct.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},Ct.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},Ct.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},Ct.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},Ct.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},Ct.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},Ct.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},Ct.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},Ct.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Hr.show(this.getContainer()),Hr.hide(this.id)),this.load(),this.fire("show"))},Ct.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(jS&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Hr.hide(t.getContainer()),Hr.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},Ct.prototype.isHidden=function(){return!!this.hidden},Ct.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},Ct.prototype.load=function(t){var e=this.getElement();if(this.removed)return"";if(e){(t=t||{}).load=!0;var n=Ns(e)?e.value:e.innerHTML,r=this.setContent(n,t);return t.element=e,t.no_events||this.fire("LoadContent",t),t.element=e=null,r}},Ct.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=o,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Ns(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=Hr.getParent(r.id,"form"))&&VS(n.elements,function(i){if(i.name===r.id)return i.value=e,!1})),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},Ct.prototype.setContent=function(t,e){return of(this,t,e)},Ct.prototype.getContent=function(t){return r=(n=void 0===(n=t)?{}:n).format||"html",o=n,$l(this).editor.getContent(o,r);var n,r,o},Ct.prototype.insertContent=function(t,e){e&&(t=dy({content:t},e)),this.execCommand("mceInsertContent",!1,t)},Ct.prototype.resetContent=function(t){void 0===t?of(this,this.startContent,{format:"raw"}):of(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},Ct.prototype.isDirty=function(){return!this.isNotDirty},Ct.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},Ct.prototype.getContainer=function(){return this.container||(this.container=Hr.get(this.editorContainer||this.id+"_parent")),this.container},Ct.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},Ct.prototype.getElement=function(){return this.targetElm||(this.targetElm=Hr.get(this.id)),this.targetElm},Ct.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},Ct.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},Ct.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},Ct.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):this.documentBaseURI.toAbsolute(t,r.remove_script_host)},Ct.prototype.addVisual=function(t){var e;e=t,Ft(this).editor.addVisual(e)},Ct.prototype.remove=function(){var t,e,n,r,o;(t=this).removed||(e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement(),r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&mu.remove(o.nextSibling),t.fire("remove"),t.editorManager.remove(t),!t.inline&&r&&mu.setStyle(t.id,"display",t.orgDisplay),t.fire("detach"),mu.remove(t.getContainer()),lu(e),lu(n),t.destroy())},Ct.prototype.destroy=function(t){var e,n,r,o,i,a,u;n=t,a=(e=this).selection,u=e.dom,e.destroyed||(n||e.removed?(n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),lu(a),lu(u)),(o=(r=e).formElement)&&(o._mceOldSubmit&&(o.submit=o._mceOldSubmit,o._mceOldSubmit=null),mu.unbind(o,"submit reset",r.formEventDelegate)),(i=e).contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),e.destroyed=!0):e.remove())},Ct.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},Ct.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},Ct.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},Ct.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},Ct.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},Ct.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},Ct);function Ct(t,e,n){var r,o,i,a,u,c,s,f,m,g,p,v,b,y,w,_=this;function C(k,D){return function(T,P){return k[T.toLowerCase()]=ft(ft({},P),{type:D})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,dy(this,cy),this.settings=(m=n.defaultSettings,p=this.documentBaseUrl,v=Qx,b={id:t,theme:"silver",toolbar_mode:Fv(g=e,"floating"),plugins:"",document_base_url:p,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},y=ft(ft({},b),v?Yv:{}),!1!==(w=function Kx(t,e,n,r,o){var i,a,u,c,s,f,l,d,m=t?{mobile:(i=e,a={resize:!1,toolbar_mode:Fv(o.mobile||{},"scrolling"),toolbar_sticky:!1},ft(ft(ft({},Yv),a),i?{menubar:!1}:{}))}:{},g=(s=["mobile"],rd(Kv(m,o),function(v,h){return Yt(s,h)},us(f={}),us(l={})),{sections:ot((d={t:f,f:l}).t),settings:ot(d.f)}),p=U.extend(n,r,g.settings(),t&&fu(g,"mobile")?function(v){void 0===v&&(v={});var h=zt(g.sections(),"mobile").getOr({});return U.extend({},v,h)}():{},{validate:!0,external_plugins:(u=r,c=g.settings().external_plugins||{},u&&u.external_plugins?U.extend({},u.external_plugins,c):c)});return function Wx(t,e,n,r){var o,i,a,u,c,s,f,l,d=Ti(n.forced_plugins),m=Ti(r.plugins),g=fu(o=e,"mobile")?o.sections().mobile:{},v=(u=e,c=m,s=g.plugins?Ti(g.plugins):m,i=(a=t)&&(l=(f=u).sections(),fu(f,"mobile")&&"mobile"===l.mobile.theme)?bt(s,et(Yt,tw)):a&&fu(u,"mobile")?s:c,[].concat(Ti(d)).concat(Ti(i)));if(mt.browser.isIE()&&Yt(v,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return U.extend(r,{plugins:v.join(" ")})}(t,g,r,p)}(Xv||Zx,Xv,y,m,g)).deprecation_warnings&&function $x(t,e){var n,r,o,i,a,u,c,s=(n=t,r=bt(Yx,function(p){return yt(n,p)}),!1!==(o=n.forced_root_block)&&""!==o||r.push("forced_root_block (false only)"),is(r)),f=(c=U.makeMap(e.plugins," "),is(Un(Un([],bt(Gx,g),!0),qo(Jx,function(p){return g(p)?[p+" (moving to premium)"]:[]}),!0))),l=0<f.length,d=0<s.length,m="mobile"===e.theme;function g(p){return yt(c,p)}(l||d||m)&&(i=m?"\n\nThemes:\n- mobile":"",a=l?"\n\nPlugins:\n- "+f.join("\n- "):"",u=d?"\n\nSettings:\n- "+s.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+i+a+u))}(g,w),w),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Tn.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Nt.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),we.languageLoad=this.settings.language_load,we.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new ir(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new fy(this),this.editorCommands=new oy(this),this.settings.cache_suffix&&(mt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(u={},(r={addButton:C(o={},"button"),addGroupToolbarButton:C(o,"grouptoolbarbutton"),addToggleButton:C(o,"togglebutton"),addMenuButton:C(o,"menubutton"),addSplitButton:C(o,"splitbutton"),addMenuItem:C(i={},"menuitem"),addNestedMenuItem:C(i,"nestedmenuitem"),addToggleMenuItem:C(i,"togglemenuitem"),addAutocompleter:C(a={},"autocompleter"),addContextMenu:C(c={},"contextmenu"),addContextToolbar:C(s={},"contexttoolbar"),addContextForm:C(s,"contextform"),addSidebar:C(f={},"sidebar"),addIcon:function(k,D){return u[k.toLowerCase()]=D},getAll:function(){return{buttons:o,menuItems:i,icons:u,popups:a,contextMenus:c,contextToolbars:s,sidebars:f}}}).addAutocompleter),addButton:r.addButton,addContextForm:r.addContextForm,addContextMenu:r.addContextMenu,addContextToolbar:r.addContextToolbar,addIcon:r.addIcon,addMenuButton:r.addMenuButton,addMenuItem:r.addMenuItem,addNestedMenuItem:r.addNestedMenuItem,addSidebar:r.addSidebar,addSplitButton:r.addSplitButton,addToggleButton:r.addToggleButton,addGroupToolbarButton:r.addGroupToolbarButton,addToggleMenuItem:r.addToggleMenuItem,getAll:r.getAll},styleSheetLoader:void 0,show:vt,hide:vt,enable:vt,disable:vt,isDisabled:Dt};var x,S,R,O,I,L=(O=se("design"),I=se({design:{activate:vt,deactivate:vt,editorReadOnly:!1},readonly:{activate:vt,deactivate:vt,editorReadOnly:!0}}),(S=x=this).serializer?iy(S):S.on("PreInit",function(){iy(S)}),(R=x).on("ShowCaret",function(k){Mr(R)&&k.preventDefault()}),R.on("ObjectSelected",function(k){Mr(R)&&k.preventDefault()}),{isReadOnly:function(){return Mr(x)},set:function(k){return function(D,T,P,q){if(q!==P.get()){if(!yt(T,q))throw new Error("Editor mode '"+q+"' is invalid");D.initialized?sy(D,P,T,q):D.on("init",function(){return sy(D,P,T,q)})}}(x,I.get(),O,k)},get:function(){return O.get()},register:function(k,D){I.set(function(T,P,q){var X;if(Yt(zS,P))throw new Error("Cannot override default mode "+P);return ft(ft({},T),((X={})[P]=ft(ft({},q),{deactivate:function(){try{q.deactivate()}catch(j){console.error("problem while deactivating editor mode "+P+":",j)}}}),X))}(I.get(),k,D))}});this.mode=L,this.setMode=L.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=gt.overrideDefaults(function(){return{context:_.inline?_.getBody():_.getDoc(),element:_.getBody()}})}function gy(t){var e=t.type;Nn(lr.get(),function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}})}function py(t){t!==vy&&(t?gt(window).on("resize scroll",gy):gt(window).off("resize scroll",gy),vy=t)}function hy(t){var e=ye;delete cr[t.id];for(var n=0;n<cr.length;n++)if(cr[n]===t){cr.splice(n,1);break}return ye=bt(ye,function(r){return t!==r}),lr.activeEditor===t&&(lr.activeEditor=0<ye.length?ye[0]:null),lr.focusedEditor===t&&(lr.focusedEditor=null),e.length!==ye.length}var Wu,$e=Nt.DOM,qS=U.explode,Nn=U.each,$S=U.extend,WS=0,vy=!1,cr=[],ye=[],KS="CSS1Compat"!==document.compatMode,lr=ft(ft({},ju),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:gt,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:cr,i18n:Ze,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e="",n=ir.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,e=r.suffix;else{for(var o,i=document.getElementsByTagName("script"),a=0;a<i.length;a++)if(""!==(o=i[a].src||"")){var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(e=".min"),t=o.substring(0,o.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(".min")&&(e=".min"),t=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new ir(n).toAbsolute(t),this.documentBaseURL=n,this.baseURI=new ir(this.baseURL),this.suffix=e,this.on("AddEditor",et(OC,this)),this.on("RemoveEditor",et(BC,this))},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e),t.suffix&&(this.suffix=t.suffix);var r=(this.defaultSettings=t).plugin_base_urls;void 0!==r&&Bt(r,function(o,i){we.PluginManager.urls[i]=o})},init:function(t){function e(c){var s=c.id;return s||(s=zt(c,"name").filter(function(f){return!$e.get(f)}).getOrThunk($e.uniqueId),c.setAttribute("id",s)),s}function n(c,s){return s.constructor===RegExp?s.test(c.className):$e.hasClass(c,s)}var r,o=this,i=U.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),a=function(c){r=c},u=function(){function c(m,g,p){var v=new $u(m,g,o);d.push(v),v.on("init",function(){++l===s.length&&a(d)}),v.targetElm=v.targetElm||p,v.render()}var s,f,l=0,d=[];$e.unbind(window,"ready",u),(f=t.onpageload)&&f.apply(o,[]),s=gt.unique(function(m){var g=[];if(mt.browser.isIE()&&mt.browser.version.major<11)return Nu("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(KS)return Nu("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(m.types)return Nn(m.types,function(v){g=g.concat($e.select(v.selector))}),g;if(m.selector)return $e.select(m.selector);if(m.target)return[m.target];switch(m.mode){case"exact":var p=m.elements||"";0<p.length&&Nn(qS(p),function(v){var h=$e.get(v);h?g.push(h):Nn(document.forms,function(b){Nn(b.elements,function(y){y.name===v&&(v="mce_editor_"+WS++,$e.setAttrib(y,"id",v),g.push(y))})})});break;case"textareas":case"specific_textareas":Nn($e.select("textarea"),function(v){m.editor_deselector&&n(v,m.editor_deselector)||m.editor_selector&&!n(v,m.editor_selector)||g.push(v)})}return g}(t)),t.types?Nn(t.types,function(m){U.each(s,function(g){return!$e.is(g,m.selector)||(c(e(g),$S({},t,m),g),!1)})}):(U.each(s,function(m){var g;(g=o.get(m.id))&&g.initialized&&!(g.getContainer()||g.getBody()).parentNode&&(hy(g),g.unbindAllNativeEvents(),g.destroy(!0),g.removed=!0)}),0===(s=U.grep(s,function(m){return!o.get(m.id)})).length?a([]):Nn(s,function(m){t.inline&&m.tagName.toLowerCase()in i?Nu("Could not initialize inline editor on invalid inline target element",m):c(e(m),t,m)}))};return o.settings=t,$e.bind(window,"ready",u),new ne(function(c){r?c(r):a=function(s){c(s)}})},get:function(t){return 0===arguments.length?ye.slice(0):Lt(t)?Gt(ye,function(e){return e.id===t}).getOr(null):Kr(t)&&ye[t]||null},add:function(t){var e=this;return cr[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(cr[t.id]=t),cr.push(t),ye.push(t)),py(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),Wu||(Wu=function(n){var r=e.fire("BeforeUnload");if(r.returnValue)return n.preventDefault(),n.returnValue=r.returnValue,r.returnValue},window.addEventListener("beforeunload",Wu))),t},createEditor:function(t,e){return this.add(new $u(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!Lt(t))return jo(r.get((n=t).id))?null:(hy(n)&&r.fire("RemoveEditor",{editor:n}),0===ye.length&&window.removeEventListener("beforeunload",Wu),n.remove(),py(0<ye.length),n);Nn($e.select(t),function(o){(n=r.get(o.id))&&r.remove(n)})}else for(e=ye.length-1;0<=e;e--)r.remove(ye[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new $u(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){Nn(ye,function(t){t.save()})},addI18n:function(t,e){Ze.add(t,e)},translate:function(t){return Ze.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new ir(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new ir(this.baseURL)}});function by(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,u=e.w,c=e.h,s=(n||"").split("");return"b"===s[0]&&(o+=c),"r"===s[1]&&(r+=u),"c"===s[0]&&(o+=Ku(c/2)),"c"===s[1]&&(r+=Ku(u/2)),"b"===s[3]&&(o-=a),"r"===s[4]&&(r-=i),"c"===s[3]&&(o-=Ku(a/2)),"c"===s[4]&&(r-=Ku(i/2)),Fo(r,o,i,a)}function yy(){}function Fo(t,e,n,r){return{x:t,y:e,w:n,h:r}}lr.setup();var Fi,Ui,Cy,Hf,xy=Math.min,Uo=Math.max,Ku=Math.round,XS={inflate:function(t,e,n){return Fo(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:by,findBestRelativePosition:function(t,e,n,r){for(var o,i=0;i<r.length;i++)if((o=by(t,e,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(t,e){var n=Uo(t.x,e.x),r=Uo(t.y,e.y),o=xy(t.x+t.w,e.x+e.w),i=xy(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:Fo(n,r,o-n,i-r)},clamp:function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,u=e.x+e.w,c=e.y+e.h,s=Uo(0,e.x-r),f=Uo(0,e.y-o),l=Uo(0,i-u),d=Uo(0,a-c);return r+=s,o+=f,n&&(i+=s,a+=f,r-=l,o-=d),Fo(r,o,(i-=l)-r,(a-=d)-o)},create:Fo,fromClientRect:function(t){return Fo(t.left,t.top,t.width,t.height)}},YS=(Fi={},Ui={},{load:function(t,e){var n='Script at URL "'+e+'" failed to load',r='Script at URL "'+e+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==Fi[t])return Fi[t];var o=new ne(function(i,a){var u=function(c,s,f){function l(v){return function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];d||(d=!0,null!==m&&(clearTimeout(m),m=null),v.apply(null,h))}}void 0===f&&(f=1e3);var d=!1,m=null,g=l(c),p=l(s);return{start:function(){for(var v=[],h=0;h<arguments.length;h++)v[h]=arguments[h];d||null!==m||(m=setTimeout(function(){return p.apply(null,v)},f))},resolve:g,reject:p}}(i,a);Ui[t]=u.resolve,Tn.ScriptLoader.loadScript(e,function(){return u.start(r)},function(){return u.reject(n)})});return Fi[t]=o},add:function(t,e){void 0!==Ui[t]&&(Ui[t](e),delete Ui[t]),Fi[t]=ne.resolve(e)}}),Xu=U.each,GS=U.extend;yy.extend=Cy=function(t){function e(){var i,a,u;if(!Hf&&(this.init&&this.init.apply(this,arguments),a=this.Mixins))for(i=a.length;i--;)(u=a[i]).init&&u.init.apply(this,arguments)}function n(){return this}var r=this.prototype;Hf=!0;var o=new this;return Hf=!1,t.Mixins&&(Xu(t.Mixins,function(i){for(var a in i)"init"!==a&&(t[a]=i[a])}),r.Mixins&&(t.Mixins=r.Mixins.concat(t.Mixins))),t.Methods&&Xu(t.Methods.split(","),function(i){t[i]=n}),t.Properties&&Xu(t.Properties.split(","),function(i){var a="_"+i;t[i]=function(u){return void 0!==u?(this[a]=u,this):this[a]}}),t.Statics&&Xu(t.Statics,function(i,a){e[a]=i}),t.Defaults&&r.Defaults&&(t.Defaults=GS({},r.Defaults,t.Defaults)),Bt(t,function(i,a){var u,c;o[a]="function"==typeof i&&r[a]?(u=a,c=i,function(){var s=this._super;this._super=r[u];var f=c.apply(this,arguments);return this._super=s,f}):i}),e.prototype=o,(e.constructor=e).extend=Cy,e};var zi,Vr,Vf,Yu=Math.min,Gu=Math.max,jr=Math.round,jf={serialize:function(t){var e=JSON.stringify(t);return Lt(e)?e.replace(/[\u0080-\uFFFF]/g,function(n){var r=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(r.length)+r}):e},parse:function(t){try{return JSON.parse(t)}catch{}}},JS={callbacks:{},count:0,send:function(t){var e=this,n=Nt.DOM,r=(void 0!==t.count?t:e).count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},Ju=ft(ft({},ju),{send:function(t){var e,n=0,r=function(){!t.async||4===e.readyState||1e4<n++?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,1e4<n?"TIMED_OUT":"GENERAL",e,t),e=null):re.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",Ju.fire("beforeInitialize",{settings:t}),(e=new XMLHttpRequest).overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&U.each(t.requestheaders,function(o){e.setRequestHeader(o.key,o.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=Ju.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return r();re.setTimeout(r,10)}}),wy=U.extend,QS=(Qu.sendRPC=function(t){return(new Qu).send(t)},Qu.prototype.send=function(t){var e=t.error,n=t.success,r=wy(this.settings,t);r.success=function(o,i){(o=void 0===(o=jf.parse(o))?{error:"JSON Parse error."}:o).error?e.call(r.error_scope||r.scope,o.error,i):n.call(r.success_scope||r.scope,o.result)},r.error=function(o,i){e&&e.call(r.error_scope||r.scope,o,i)},r.data=jf.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",Ju.send(r)},Qu);function Qu(t){this.settings=wy({},t),this.count=0}try{var Zu,qf="__storage_test__";(Zu=window.localStorage).setItem(qf,qf),Zu.removeItem(qf)}catch{zi={},Vr=[],Vf={getItem:function(e){return zi[e]||null},setItem:function(e,n){Vr.push(e),zi[e]=String(n)},key:function(e){return Vr[e]},removeItem:function(e){Vr=Vr.filter(function(n){return n===e}),delete zi[e]},clear:function(){Vr=[],zi={}},length:0},Object.defineProperty(Vf,"length",{get:function(){return Vr.length},configurable:!1,enumerable:!1}),Zu=Vf}var Sy=U.extend(lr,{geom:{Rect:XS},util:{Promise:ne,Delay:re,Tools:U,VK:ut,URI:ir,Class:yy,EventDispatcher:Ff,Observable:ju,I18n:Ze,XHR:Ju,JSON:jf,JSONRequest:QS,JSONP:JS,LocalStorage:Zu,Color:function(t){function e(a){var u;return"object"==typeof a?"r"in a?(r=a.r,o=a.g,i=a.b):"v"in a&&function(c,s,f){if(c=(parseInt(c,10)||0)%360,s=parseInt(s,10)/100,f=parseInt(f,10)/100,s=Gu(0,Yu(s,1)),f=Gu(0,Yu(f,1)),0!==s){var l=c/60,d=f*s,m=d*(1-Math.abs(l%2-1)),g=f-d;switch(Math.floor(l)){case 0:r=d,o=m,i=0;break;case 1:r=m,o=d,i=0;break;case 2:r=0,o=d,i=m;break;case 3:r=0,o=m,i=d;break;case 4:r=m,o=0,i=d;break;case 5:r=d,o=0,i=m;break;default:r=o=i=0}r=jr(255*(r+g)),o=jr(255*(o+g)),i=jr(255*(i+g))}else r=o=i=jr(255*f)}(a.h,a.s,a.v):(u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(a))?(r=parseInt(u[1],10),o=parseInt(u[2],10),i=parseInt(u[3],10)):(u=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(a))?(r=parseInt(u[1],16),o=parseInt(u[2],16),i=parseInt(u[3],16)):(u=/#([0-F])([0-F])([0-F])/gi.exec(a))&&(r=parseInt(u[1]+u[1],16),o=parseInt(u[2]+u[2],16),i=parseInt(u[3]+u[3],16)),r=r<0?0:255<r?255:r,o=o<0?0:255<o?255:o,i=i<0?0:255<i?255:i,n}var n={},r=0,o=0,i=0;return t&&e(t),n.toRgb=function(){return{r,g:o,b:i}},n.toHsv=function(){return a=r,u=o,c=i,f=0,(l=Yu(a/=255,Yu(u/=255,c/=255)))===(d=Gu(a,Gu(u,c)))?{h:0,s:0,v:100*(f=l)}:(s=(d-l)/d,{h:jr(60*((a===l?3:c===l?1:5)-(a===l?u-c:c===l?a-u:c-a)/((f=d)-l))),s:jr(100*s),v:jr(100*f)});var a,u,c,s,f,l,d},n.toHex=function(){function a(u){return 1<(u=parseInt(u,10).toString(16)).length?u:"0"+u}return"#"+a(r)+a(o)+a(i)},n.parse=e,n},ImageUploader:function(t){var e=Qv(),n=e0(t,e);return{upload:function(r,o){return n.upload(r,(o=void 0===o||o)?t0(t):void 0)}}}},dom:{EventUtils:co,Sizzle:wt,DomQuery:gt,TreeWalker:jt,TextSeeker:Ym,DOMUtils:Nt,ScriptLoader:Tn,RangeUtils:Ni,Serializer:Mv,StyleSheetLoader:om,ControlSelection:Sp,BookmarkManager:wi,Selection:Ov,Event:co.Event},html:{Styles:Us,Entities:$n,Node:qe,Schema:qn,SaxParser:ef,DomParser:rf,Writer:ih,Serializer:Ao},Env:mt,AddOnManager:we,Annotator:lp,Formatter:r0,UndoManager:i0,EditorCommands:oy,WindowManager:Gv,NotificationManager:Vv,EditorObservable:cy,Shortcuts:fy,Editor:$u,FocusManager:Gp,EditorManager:lr,DOM:Nt.DOM,ScriptLoader:Tn.ScriptLoader,PluginManager:rn,ThemeManager:ar,IconManager:gu,Resource:YS,trim:U.trim,isArray:U.isArray,is:U.is,toArray:U.toArray,makeMap:U.makeMap,each:U.each,map:U.map,grep:U.grep,inArray:U.inArray,extend:U.extend,create:U.create,walk:U.walk,createNS:U.createNS,resolve:U.resolve,explode:U.explode,_addCacheSuffix:U._addCacheSuffix,isOpera:mt.opera,isWebKit:mt.webkit,isIE:mt.ie,isGecko:mt.gecko,isMac:mt.mac}),Ny=Sy;window.tinymce=Ny,window.tinyMCE=Ny,function(t){if("object"==typeof module)try{module.exports=t}catch{}}(Sy)})(),window.MauiInterop={checkBattery:function(){return new Promise((Hi,Vi)=>{DotNet.invokeMethodAsync("VimeDesktopApp","CheckBattery").then($r=>{Hi($r)}).catch($r=>{Vi($r)})})}};